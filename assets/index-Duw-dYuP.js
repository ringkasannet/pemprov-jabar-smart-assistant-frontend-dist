var jA=Object.defineProperty;var Pm=n=>{throw TypeError(n)};var VA=(n,t,e)=>t in n?jA(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var mt=(n,t,e)=>VA(n,typeof t!="symbol"?t+"":t,e),xf=(n,t,e)=>t.has(n)||Pm("Cannot "+e);var l=(n,t,e)=>(xf(n,t,"read from private field"),e?e.call(n):t.get(n)),y=(n,t,e)=>t.has(n)?Pm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),_=(n,t,e,s)=>(xf(n,t,"write to private field"),s?s.call(n,e):t.set(n,e),e),v=(n,t,e)=>(xf(n,t,"access private method"),e);var is=(n,t,e,s)=>({set _(i){_(n,t,i,e)},get _(){return l(n,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=e(i);fetch(i.href,r)}})();/**
* @vue/shared v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ng(n,t){const e=new Set(n.split(","));return s=>e.has(s)}const Wt={},oa=[],Ts=()=>{},UA=()=>!1,qd=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),qg=n=>n.startsWith("onUpdate:"),ae=Object.assign,$g=(n,t)=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)},GA=Object.prototype.hasOwnProperty,St=(n,t)=>GA.call(n,t),lt=Array.isArray,aa=n=>Kh(n)==="[object Map]",$d=n=>Kh(n)==="[object Set]",Lm=n=>Kh(n)==="[object Date]",bt=n=>typeof n=="function",ee=n=>typeof n=="string",Ai=n=>typeof n=="symbol",jt=n=>n!==null&&typeof n=="object",V_=n=>(jt(n)||bt(n))&&bt(n.then)&&bt(n.catch),U_=Object.prototype.toString,Kh=n=>U_.call(n),WA=n=>Kh(n).slice(8,-1),G_=n=>Kh(n)==="[object Object]",Bg=n=>ee(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,jc=Ng(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Bd=n=>{const t=Object.create(null);return e=>t[e]||(t[e]=n(e))},KA=/-(\w)/g,Pn=Bd(n=>n.replace(KA,(t,e)=>e?e.toUpperCase():"")),XA=/\B([A-Z])/g,dc=Bd(n=>n.replace(XA,"-$1").toLowerCase()),Hd=Bd(n=>n.charAt(0).toUpperCase()+n.slice(1)),wu=Bd(n=>n?`on${Hd(n)}`:""),dr=(n,t)=>!Object.is(n,t),xu=(n,t)=>{for(let e=0;e<n.length;e++)n[e](t)},W_=(n,t,e)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value:e})},sp=n=>{const t=parseFloat(n);return isNaN(t)?n:t},YA=n=>{const t=ee(n)?Number(n):NaN;return isNaN(t)?n:t};let Mm;const K_=()=>Mm||(Mm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function zd(n){if(lt(n)){const t={};for(let e=0;e<n.length;e++){const s=n[e],i=ee(s)?tw(s):zd(s);if(i)for(const r in i)t[r]=i[r]}return t}else if(ee(n)||jt(n))return n}const ZA=/;(?![^(]*\))/g,JA=/:([^]+)/,QA=/\/\*[^]*?\*\//g;function tw(n){const t={};return n.replace(QA,"").split(ZA).forEach(e=>{if(e){const s=e.split(JA);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function cc(n){let t="";if(ee(n))t=n;else if(lt(n))for(let e=0;e<n.length;e++){const s=cc(n[e]);s&&(t+=s+" ")}else if(jt(n))for(const e in n)n[e]&&(t+=e+" ");return t.trim()}function Is(n){if(!n)return null;let{class:t,style:e}=n;return t&&!ee(t)&&(n.class=cc(t)),e&&(n.style=zd(e)),n}const ew="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",sw=Ng(ew);function X_(n){return!!n||n===""}function nw(n,t){if(n.length!==t.length)return!1;let e=!0;for(let s=0;e&&s<n.length;s++)e=jd(n[s],t[s]);return e}function jd(n,t){if(n===t)return!0;let e=Lm(n),s=Lm(t);if(e||s)return e&&s?n.getTime()===t.getTime():!1;if(e=Ai(n),s=Ai(t),e||s)return n===t;if(e=lt(n),s=lt(t),e||s)return e&&s?nw(n,t):!1;if(e=jt(n),s=jt(t),e||s){if(!e||!s)return!1;const i=Object.keys(n).length,r=Object.keys(t).length;if(i!==r)return!1;for(const o in n){const a=n.hasOwnProperty(o),c=t.hasOwnProperty(o);if(a&&!c||!a&&c||!jd(n[o],t[o]))return!1}}return String(n)===String(t)}function Y_(n,t){return n.findIndex(e=>jd(e,t))}const Ut=n=>ee(n)?n:n==null?"":lt(n)||jt(n)&&(n.toString===U_||!bt(n.toString))?JSON.stringify(n,Z_,2):String(n),Z_=(n,t)=>t&&t.__v_isRef?Z_(n,t.value):aa(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[s,i],r)=>(e[Ef(s,r)+" =>"]=i,e),{})}:$d(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>Ef(e))}:Ai(t)?Ef(t):jt(t)&&!lt(t)&&!G_(t)?String(t):t,Ef=(n,t="")=>{var e;return Ai(n)?`Symbol(${(e=n.description)!=null?e:t})`:n};/**
* @vue/reactivity v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let qs;class iw{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=qs,!t&&qs&&(this.index=(qs.scopes||(qs.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const e=qs;try{return qs=this,t()}finally{qs=e}}}on(){qs=this}off(){qs=this.parent}stop(t){if(this._active){let e,s;for(e=0,s=this.effects.length;e<s;e++)this.effects[e].stop();for(e=0,s=this.cleanups.length;e<s;e++)this.cleanups[e]();if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function rw(n,t=qs){t&&t.active&&t.effects.push(n)}function ow(){return qs}let Oo;class Hg{constructor(t,e,s,i){this.fn=t,this.trigger=e,this.scheduler=s,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,rw(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,vr();for(let t=0;t<this._depsLength;t++){const e=this.deps[t];if(e.computed&&(aw(e.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),yr()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=lr,e=Oo;try{return lr=!0,Oo=this,this._runnings++,Fm(this),this.fn()}finally{Im(this),this._runnings--,Oo=e,lr=t}}stop(){var t;this.active&&(Fm(this),Im(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function aw(n){return n.value}function Fm(n){n._trackId++,n._depsLength=0}function Im(n){if(n.deps.length>n._depsLength){for(let t=n._depsLength;t<n.deps.length;t++)J_(n.deps[t],n);n.deps.length=n._depsLength}}function J_(n,t){const e=n.get(t);e!==void 0&&t._trackId!==e&&(n.delete(t),n.size===0&&n.cleanup())}let lr=!0,np=0;const Q_=[];function vr(){Q_.push(lr),lr=!1}function yr(){const n=Q_.pop();lr=n===void 0?!0:n}function zg(){np++}function jg(){for(np--;!np&&ip.length;)ip.shift()()}function tv(n,t,e){if(t.get(n)!==n._trackId){t.set(n,n._trackId);const s=n.deps[n._depsLength];s!==t?(s&&J_(s,n),n.deps[n._depsLength++]=t):n._depsLength++}}const ip=[];function ev(n,t,e){zg();for(const s of n.keys()){let i;s._dirtyLevel<t&&(i??(i=n.get(s)===s._trackId))&&(s._shouldSchedule||(s._shouldSchedule=s._dirtyLevel===0),s._dirtyLevel=t),s._shouldSchedule&&(i??(i=n.get(s)===s._trackId))&&(s.trigger(),(!s._runnings||s.allowRecurse)&&s._dirtyLevel!==2&&(s._shouldSchedule=!1,s.scheduler&&ip.push(s.scheduler)))}jg()}const sv=(n,t)=>{const e=new Map;return e.cleanup=n,e.computed=t,e},rp=new WeakMap,No=Symbol(""),op=Symbol("");function Qe(n,t,e){if(lr&&Oo){let s=rp.get(n);s||rp.set(n,s=new Map);let i=s.get(e);i||s.set(e,i=sv(()=>s.delete(e))),tv(Oo,i)}}function mi(n,t,e,s,i,r){const o=rp.get(n);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(e==="length"&&lt(n)){const c=Number(s);o.forEach((h,u)=>{(u==="length"||!Ai(u)&&u>=c)&&a.push(h)})}else switch(e!==void 0&&a.push(o.get(e)),t){case"add":lt(n)?Bg(e)&&a.push(o.get("length")):(a.push(o.get(No)),aa(n)&&a.push(o.get(op)));break;case"delete":lt(n)||(a.push(o.get(No)),aa(n)&&a.push(o.get(op)));break;case"set":aa(n)&&a.push(o.get(No));break}zg();for(const c of a)c&&ev(c,4);jg()}const cw=Ng("__proto__,__v_isRef,__isVue"),nv=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Ai)),Om=lw();function lw(){const n={};return["includes","indexOf","lastIndexOf"].forEach(t=>{n[t]=function(...e){const s=Tt(this);for(let r=0,o=this.length;r<o;r++)Qe(s,"get",r+"");const i=s[t](...e);return i===-1||i===!1?s[t](...e.map(Tt)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{n[t]=function(...e){vr(),zg();const s=Tt(this)[t].apply(this,e);return jg(),yr(),s}}),n}function hw(n){Ai(n)||(n=String(n));const t=Tt(this);return Qe(t,"has",n),t.hasOwnProperty(n)}class iv{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,s){const i=this._isReadonly,r=this._isShallow;if(e==="__v_isReactive")return!i;if(e==="__v_isReadonly")return i;if(e==="__v_isShallow")return r;if(e==="__v_raw")return s===(i?r?xw:cv:r?av:ov).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=lt(t);if(!i){if(o&&St(Om,e))return Reflect.get(Om,e,s);if(e==="hasOwnProperty")return hw}const a=Reflect.get(t,e,s);return(Ai(e)?nv.has(e):cw(e))||(i||Qe(t,"get",e),r)?a:ts(a)?o&&Bg(e)?a:a.value:jt(a)?i?hv(a):Xh(a):a}}class rv extends iv{constructor(t=!1){super(!1,t)}set(t,e,s,i){let r=t[e];if(!this._isShallow){const c=sl(r);if(!ed(s)&&!sl(s)&&(r=Tt(r),s=Tt(s)),!lt(t)&&ts(r)&&!ts(s))return c?!1:(r.value=s,!0)}const o=lt(t)&&Bg(e)?Number(e)<t.length:St(t,e),a=Reflect.set(t,e,s,i);return t===Tt(i)&&(o?dr(s,r)&&mi(t,"set",e,s):mi(t,"add",e,s)),a}deleteProperty(t,e){const s=St(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&s&&mi(t,"delete",e,void 0),i}has(t,e){const s=Reflect.has(t,e);return(!Ai(e)||!nv.has(e))&&Qe(t,"has",e),s}ownKeys(t){return Qe(t,"iterate",lt(t)?"length":No),Reflect.ownKeys(t)}}class uw extends iv{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const dw=new rv,fw=new uw,pw=new rv(!0),Vg=n=>n,Vd=n=>Reflect.getPrototypeOf(n);function iu(n,t,e=!1,s=!1){n=n.__v_raw;const i=Tt(n),r=Tt(t);e||(dr(t,r)&&Qe(i,"get",t),Qe(i,"get",r));const{has:o}=Vd(i),a=s?Vg:e?Wg:nl;if(o.call(i,t))return a(n.get(t));if(o.call(i,r))return a(n.get(r));n!==i&&n.get(t)}function ru(n,t=!1){const e=this.__v_raw,s=Tt(e),i=Tt(n);return t||(dr(n,i)&&Qe(s,"has",n),Qe(s,"has",i)),n===i?e.has(n):e.has(n)||e.has(i)}function ou(n,t=!1){return n=n.__v_raw,!t&&Qe(Tt(n),"iterate",No),Reflect.get(n,"size",n)}function Nm(n){n=Tt(n);const t=Tt(this);return Vd(t).has.call(t,n)||(t.add(n),mi(t,"add",n,n)),this}function qm(n,t){t=Tt(t);const e=Tt(this),{has:s,get:i}=Vd(e);let r=s.call(e,n);r||(n=Tt(n),r=s.call(e,n));const o=i.call(e,n);return e.set(n,t),r?dr(t,o)&&mi(e,"set",n,t):mi(e,"add",n,t),this}function $m(n){const t=Tt(this),{has:e,get:s}=Vd(t);let i=e.call(t,n);i||(n=Tt(n),i=e.call(t,n)),s&&s.call(t,n);const r=t.delete(n);return i&&mi(t,"delete",n,void 0),r}function Bm(){const n=Tt(this),t=n.size!==0,e=n.clear();return t&&mi(n,"clear",void 0,void 0),e}function au(n,t){return function(s,i){const r=this,o=r.__v_raw,a=Tt(o),c=t?Vg:n?Wg:nl;return!n&&Qe(a,"iterate",No),o.forEach((h,u)=>s.call(i,c(h),c(u),r))}}function cu(n,t,e){return function(...s){const i=this.__v_raw,r=Tt(i),o=aa(r),a=n==="entries"||n===Symbol.iterator&&o,c=n==="keys"&&o,h=i[n](...s),u=e?Vg:t?Wg:nl;return!t&&Qe(r,"iterate",c?op:No),{next(){const{value:d,done:f}=h.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Ti(n){return function(...t){return n==="delete"?!1:n==="clear"?void 0:this}}function gw(){const n={get(r){return iu(this,r)},get size(){return ou(this)},has:ru,add:Nm,set:qm,delete:$m,clear:Bm,forEach:au(!1,!1)},t={get(r){return iu(this,r,!1,!0)},get size(){return ou(this)},has:ru,add:Nm,set:qm,delete:$m,clear:Bm,forEach:au(!1,!0)},e={get(r){return iu(this,r,!0)},get size(){return ou(this,!0)},has(r){return ru.call(this,r,!0)},add:Ti("add"),set:Ti("set"),delete:Ti("delete"),clear:Ti("clear"),forEach:au(!0,!1)},s={get(r){return iu(this,r,!0,!0)},get size(){return ou(this,!0)},has(r){return ru.call(this,r,!0)},add:Ti("add"),set:Ti("set"),delete:Ti("delete"),clear:Ti("clear"),forEach:au(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=cu(r,!1,!1),e[r]=cu(r,!0,!1),t[r]=cu(r,!1,!0),s[r]=cu(r,!0,!0)}),[n,e,t,s]}const[mw,bw,_w,vw]=gw();function Ug(n,t){const e=t?n?vw:_w:n?bw:mw;return(s,i,r)=>i==="__v_isReactive"?!n:i==="__v_isReadonly"?n:i==="__v_raw"?s:Reflect.get(St(e,i)&&i in s?e:s,i,r)}const yw={get:Ug(!1,!1)},Aw={get:Ug(!1,!0)},ww={get:Ug(!0,!1)},ov=new WeakMap,av=new WeakMap,cv=new WeakMap,xw=new WeakMap;function Ew(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Cw(n){return n.__v_skip||!Object.isExtensible(n)?0:Ew(WA(n))}function Xh(n){return sl(n)?n:Gg(n,!1,dw,yw,ov)}function lv(n){return Gg(n,!1,pw,Aw,av)}function hv(n){return Gg(n,!0,fw,ww,cv)}function Gg(n,t,e,s,i){if(!jt(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const r=i.get(n);if(r)return r;const o=Cw(n);if(o===0)return n;const a=new Proxy(n,o===2?s:e);return i.set(n,a),a}function Vc(n){return sl(n)?Vc(n.__v_raw):!!(n&&n.__v_isReactive)}function sl(n){return!!(n&&n.__v_isReadonly)}function ed(n){return!!(n&&n.__v_isShallow)}function uv(n){return n?!!n.__v_raw:!1}function Tt(n){const t=n&&n.__v_raw;return t?Tt(t):n}function kw(n){return Object.isExtensible(n)&&W_(n,"__v_skip",!0),n}const nl=n=>jt(n)?Xh(n):n,Wg=n=>jt(n)?hv(n):n;class dv{constructor(t,e,s,i){this.getter=t,this._setter=e,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Hg(()=>t(this._value),()=>Eu(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const t=Tt(this);return(!t._cacheable||t.effect.dirty)&&dr(t._value,t._value=t.effect.run())&&Eu(t,4),fv(t),t.effect._dirtyLevel>=2&&Eu(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Sw(n,t,e=!1){let s,i;const r=bt(n);return r?(s=n,i=Ts):(s=n.get,i=n.set),new dv(s,i,r||!i,e)}function fv(n){var t;lr&&Oo&&(n=Tt(n),tv(Oo,(t=n.dep)!=null?t:n.dep=sv(()=>n.dep=void 0,n instanceof dv?n:void 0)))}function Eu(n,t=4,e){n=Tt(n);const s=n.dep;s&&ev(s,t)}function ts(n){return!!(n&&n.__v_isRef===!0)}function dt(n){return pv(n,!1)}function Tw(n){return pv(n,!0)}function pv(n,t){return ts(n)?n:new Rw(n,t)}class Rw{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:Tt(t),this._value=e?t:nl(t)}get value(){return fv(this),this._value}set value(t){const e=this.__v_isShallow||ed(t)||sl(t);t=e?t:Tt(t),dr(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:nl(t),Eu(this,4))}}function Kt(n){return ts(n)?n.value:n}const Dw={get:(n,t,e)=>Kt(Reflect.get(n,t,e)),set:(n,t,e,s)=>{const i=n[t];return ts(i)&&!ts(e)?(i.value=e,!0):Reflect.set(n,t,e,s)}};function gv(n){return Vc(n)?n:new Proxy(n,Dw)}/**
* @vue/runtime-core v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function hr(n,t,e,s){try{return s?n(...s):n()}catch(i){Ud(i,t,e)}}function Rs(n,t,e,s){if(bt(n)){const i=hr(n,t,e,s);return i&&V_(i)&&i.catch(r=>{Ud(r,t,e)}),i}if(lt(n)){const i=[];for(let r=0;r<n.length;r++)i.push(Rs(n[r],t,e,s));return i}}function Ud(n,t,e,s=!0){const i=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${e}`;for(;r;){const h=r.ec;if(h){for(let u=0;u<h.length;u++)if(h[u](n,o,a)===!1)return}r=r.parent}const c=t.appContext.config.errorHandler;if(c){vr(),hr(c,null,10,[n,o,a]),yr();return}}Pw(n,e,i,s)}function Pw(n,t,e,s=!0){console.error(n)}let il=!1,ap=!1;const Ie=[];let Cn=0;const ca=[];let Ii=null,Dr=0;const mv=Promise.resolve();let Kg=null;function bv(n){const t=Kg||mv;return n?t.then(this?n.bind(this):n):t}function Lw(n){let t=Cn+1,e=Ie.length;for(;t<e;){const s=t+e>>>1,i=Ie[s],r=rl(i);r<n||r===n&&i.pre?t=s+1:e=s}return t}function Xg(n){(!Ie.length||!Ie.includes(n,il&&n.allowRecurse?Cn+1:Cn))&&(n.id==null?Ie.push(n):Ie.splice(Lw(n.id),0,n),_v())}function _v(){!il&&!ap&&(ap=!0,Kg=mv.then(yv))}function Mw(n){const t=Ie.indexOf(n);t>Cn&&Ie.splice(t,1)}function Fw(n){lt(n)?ca.push(...n):(!Ii||!Ii.includes(n,n.allowRecurse?Dr+1:Dr))&&ca.push(n),_v()}function Hm(n,t,e=il?Cn+1:0){for(;e<Ie.length;e++){const s=Ie[e];if(s&&s.pre){if(n&&s.id!==n.uid)continue;Ie.splice(e,1),e--,s()}}}function vv(n){if(ca.length){const t=[...new Set(ca)].sort((e,s)=>rl(e)-rl(s));if(ca.length=0,Ii){Ii.push(...t);return}for(Ii=t,Dr=0;Dr<Ii.length;Dr++)Ii[Dr]();Ii=null,Dr=0}}const rl=n=>n.id==null?1/0:n.id,Iw=(n,t)=>{const e=rl(n)-rl(t);if(e===0){if(n.pre&&!t.pre)return-1;if(t.pre&&!n.pre)return 1}return e};function yv(n){ap=!1,il=!0,Ie.sort(Iw);try{for(Cn=0;Cn<Ie.length;Cn++){const t=Ie[Cn];t&&t.active!==!1&&hr(t,null,14)}}finally{Cn=0,Ie.length=0,vv(),il=!1,Kg=null,(Ie.length||ca.length)&&yv()}}function Ow(n,t,...e){if(n.isUnmounted)return;const s=n.vnode.props||Wt;let i=e;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:f}=s[u]||Wt;f&&(i=e.map(p=>ee(p)?p.trim():p)),d&&(i=e.map(sp))}let a,c=s[a=wu(t)]||s[a=wu(Pn(t))];!c&&r&&(c=s[a=wu(dc(t))]),c&&Rs(c,n,6,i);const h=s[a+"Once"];if(h){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,Rs(h,n,6,i)}}function Av(n,t,e=!1){const s=t.emitsCache,i=s.get(n);if(i!==void 0)return i;const r=n.emits;let o={},a=!1;if(!bt(n)){const c=h=>{const u=Av(h,t,!0);u&&(a=!0,ae(o,u))};!e&&t.mixins.length&&t.mixins.forEach(c),n.extends&&c(n.extends),n.mixins&&n.mixins.forEach(c)}return!r&&!a?(jt(n)&&s.set(n,null),null):(lt(r)?r.forEach(c=>o[c]=null):ae(o,r),jt(n)&&s.set(n,o),o)}function Gd(n,t){return!n||!qd(t)?!1:(t=t.slice(2).replace(/Once$/,""),St(n,t[0].toLowerCase()+t.slice(1))||St(n,dc(t))||St(n,t))}let pe=null,Wd=null;function sd(n){const t=pe;return pe=n,Wd=n&&n.type.__scopeId||null,t}function Ci(n){Wd=n}function ki(){Wd=null}function ms(n,t=pe,e){if(!t||n._n)return n;const s=(...i)=>{s._d&&Qm(-1);const r=sd(t);let o;try{o=n(...i)}finally{sd(r),s._d&&Qm(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function Cf(n){const{type:t,vnode:e,proxy:s,withProxy:i,props:r,propsOptions:[o],slots:a,attrs:c,emit:h,render:u,renderCache:d,data:f,setupState:p,ctx:g,inheritAttrs:m}=n;let A,b;const w=sd(n);try{if(e.shapeFlag&4){const k=i||s,R=k;A=En(u.call(R,k,d,r,p,f,g)),b=c}else{const k=t;A=En(k.length>1?k(r,{attrs:c,slots:a,emit:h}):k(r,null)),b=t.props?c:Nw(c)}}catch(k){Xc.length=0,Ud(k,n,1),A=_t(Ds)}let C=A;if(b&&m!==!1){const k=Object.keys(b),{shapeFlag:R}=C;k.length&&R&7&&(o&&k.some(qg)&&(b=qw(b,o)),C=pr(C,b))}return e.dirs&&(C=pr(C),C.dirs=C.dirs?C.dirs.concat(e.dirs):e.dirs),e.transition&&(C.transition=e.transition),A=C,sd(w),A}const Nw=n=>{let t;for(const e in n)(e==="class"||e==="style"||qd(e))&&((t||(t={}))[e]=n[e]);return t},qw=(n,t)=>{const e={};for(const s in n)(!qg(s)||!(s.slice(9)in t))&&(e[s]=n[s]);return e};function $w(n,t,e){const{props:s,children:i,component:r}=n,{props:o,children:a,patchFlag:c}=t,h=r.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&c>=0){if(c&1024)return!0;if(c&16)return s?zm(s,o,h):!!o;if(c&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==s[f]&&!Gd(h,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?zm(s,o,h):!0:!!o;return!1}function zm(n,t,e){const s=Object.keys(t);if(s.length!==Object.keys(n).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(t[r]!==n[r]&&!Gd(e,r))return!0}return!1}function Bw({vnode:n,parent:t},e){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===n&&(s.el=n.el),s===n)(n=t.vnode).el=e,t=t.parent;else break}}const Yg="components",Hw="directives";function zw(n,t){return Zg(Yg,n,!0,t)||n}const wv=Symbol.for("v-ndc");function kf(n){return ee(n)?Zg(Yg,n,!1)||n:n||wv}function jw(n){return Zg(Hw,n)}function Zg(n,t,e=!0,s=!1){const i=pe||Ce;if(i){const r=i.type;if(n===Yg){const a=Fx(r,!1);if(a&&(a===t||a===Pn(t)||a===Hd(Pn(t))))return r}const o=jm(i[n]||r[n],t)||jm(i.appContext[n],t);return!o&&s?r:o}}function jm(n,t){return n&&(n[t]||n[Pn(t)]||n[Hd(Pn(t))])}const Vw=n=>n.__isSuspense;function Uw(n,t){t&&t.pendingBranch?lt(n)?t.effects.push(...n):t.effects.push(n):Fw(n)}const Gw=Symbol.for("v-scx"),Ww=()=>Tn(Gw),lu={};function Uc(n,t,e){return xv(n,t,e)}function xv(n,t,{immediate:e,deep:s,flush:i,once:r,onTrack:o,onTrigger:a}=Wt){if(t&&r){const E=t;t=(...L)=>{E(...L),R()}}const c=Ce,h=E=>s===!0?E:Ir(E,s===!1?1:void 0);let u,d=!1,f=!1;if(ts(n)?(u=()=>n.value,d=ed(n)):Vc(n)?(u=()=>h(n),d=!0):lt(n)?(f=!0,d=n.some(E=>Vc(E)||ed(E)),u=()=>n.map(E=>{if(ts(E))return E.value;if(Vc(E))return h(E);if(bt(E))return hr(E,c,2)})):bt(n)?t?u=()=>hr(n,c,2):u=()=>(p&&p(),Rs(n,c,3,[g])):u=Ts,t&&s){const E=u;u=()=>Ir(E())}let p,g=E=>{p=C.onStop=()=>{hr(E,c,4),p=C.onStop=void 0}},m;if(Zd)if(g=Ts,t?e&&Rs(t,c,3,[u(),f?[]:void 0,g]):u(),i==="sync"){const E=Ww();m=E.__watcherHandles||(E.__watcherHandles=[])}else return Ts;let A=f?new Array(n.length).fill(lu):lu;const b=()=>{if(!(!C.active||!C.dirty))if(t){const E=C.run();(s||d||(f?E.some((L,M)=>dr(L,A[M])):dr(E,A)))&&(p&&p(),Rs(t,c,3,[E,A===lu?void 0:f&&A[0]===lu?[]:A,g]),A=E)}else C.run()};b.allowRecurse=!!t;let w;i==="sync"?w=b:i==="post"?w=()=>We(b,c&&c.suspense):(b.pre=!0,c&&(b.id=c.uid),w=()=>Xg(b));const C=new Hg(u,Ts,w),k=ow(),R=()=>{C.stop(),k&&$g(k.effects,C)};return t?e?b():A=C.run():i==="post"?We(C.run.bind(C),c&&c.suspense):C.run(),m&&m.push(R),R}function Kw(n,t,e){const s=this.proxy,i=ee(n)?n.includes(".")?Ev(s,n):()=>s[n]:n.bind(s,s);let r;bt(t)?r=t:(r=t.handler,e=t);const o=Yh(this),a=xv(i,r.bind(s),e);return o(),a}function Ev(n,t){const e=t.split(".");return()=>{let s=n;for(let i=0;i<e.length&&s;i++)s=s[e[i]];return s}}function Ir(n,t,e=0,s){if(!jt(n)||n.__v_skip)return n;if(t&&t>0){if(e>=t)return n;e++}if(s=s||new Set,s.has(n))return n;if(s.add(n),ts(n))Ir(n.value,t,e,s);else if(lt(n))for(let i=0;i<n.length;i++)Ir(n[i],t,e,s);else if($d(n)||aa(n))n.forEach(i=>{Ir(i,t,e,s)});else if(G_(n))for(const i in n)Ir(n[i],t,e,s);return n}function ur(n,t){if(pe===null)return n;const e=Jd(pe)||pe.proxy,s=n.dirs||(n.dirs=[]);for(let i=0;i<t.length;i++){let[r,o,a,c=Wt]=t[i];r&&(bt(r)&&(r={mounted:r,updated:r}),r.deep&&Ir(o),s.push({dir:r,instance:e,value:o,oldValue:void 0,arg:a,modifiers:c}))}return n}function wr(n,t,e,s){const i=n.dirs,r=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let c=a.dir[s];c&&(vr(),Rs(c,e,8,[n.el,a,n,t]),yr())}}const Oi=Symbol("_leaveCb"),hu=Symbol("_enterCb");function Cv(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Mn(()=>{n.isMounted=!0}),Dv(()=>{n.isUnmounting=!0}),n}const ys=[Function,Array],kv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ys,onEnter:ys,onAfterEnter:ys,onEnterCancelled:ys,onBeforeLeave:ys,onLeave:ys,onAfterLeave:ys,onLeaveCancelled:ys,onBeforeAppear:ys,onAppear:ys,onAfterAppear:ys,onAppearCancelled:ys},Xw={name:"BaseTransition",props:kv,setup(n,{slots:t}){const e=Wv(),s=Cv();return()=>{const i=t.default&&Jg(t.default(),!0);if(!i||!i.length)return;let r=i[0];if(i.length>1){for(const f of i)if(f.type!==Ds){r=f;break}}const o=Tt(n),{mode:a}=o;if(s.isLeaving)return Sf(r);const c=Vm(r);if(!c)return Sf(r);const h=ol(c,o,s,e);al(c,h);const u=e.subTree,d=u&&Vm(u);if(d&&d.type!==Ds&&!Pr(c,d)){const f=ol(d,o,s,e);if(al(d,f),a==="out-in")return s.isLeaving=!0,f.afterLeave=()=>{s.isLeaving=!1,e.update.active!==!1&&(e.effect.dirty=!0,e.update())},Sf(r);a==="in-out"&&c.type!==Ds&&(f.delayLeave=(p,g,m)=>{const A=Sv(s,d);A[String(d.key)]=d,p[Oi]=()=>{g(),p[Oi]=void 0,delete h.delayedLeave},h.delayedLeave=m})}return r}}},Yw=Xw;function Sv(n,t){const{leavingVNodes:e}=n;let s=e.get(t.type);return s||(s=Object.create(null),e.set(t.type,s)),s}function ol(n,t,e,s){const{appear:i,mode:r,persisted:o=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:h,onEnterCancelled:u,onBeforeLeave:d,onLeave:f,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:m,onAppear:A,onAfterAppear:b,onAppearCancelled:w}=t,C=String(n.key),k=Sv(e,n),R=(M,U)=>{M&&Rs(M,s,9,U)},E=(M,U)=>{const N=U[1];R(M,U),lt(M)?M.every(B=>B.length<=1)&&N():M.length<=1&&N()},L={mode:r,persisted:o,beforeEnter(M){let U=a;if(!e.isMounted)if(i)U=m||a;else return;M[Oi]&&M[Oi](!0);const N=k[C];N&&Pr(n,N)&&N.el[Oi]&&N.el[Oi](),R(U,[M])},enter(M){let U=c,N=h,B=u;if(!e.isMounted)if(i)U=A||c,N=b||h,B=w||u;else return;let H=!1;const nt=M[hu]=I=>{H||(H=!0,I?R(B,[M]):R(N,[M]),L.delayedLeave&&L.delayedLeave(),M[hu]=void 0)};U?E(U,[M,nt]):nt()},leave(M,U){const N=String(n.key);if(M[hu]&&M[hu](!0),e.isUnmounting)return U();R(d,[M]);let B=!1;const H=M[Oi]=nt=>{B||(B=!0,U(),nt?R(g,[M]):R(p,[M]),M[Oi]=void 0,k[N]===n&&delete k[N])};k[N]=n,f?E(f,[M,H]):H()},clone(M){return ol(M,t,e,s)}};return L}function Sf(n){if(Kd(n))return n=pr(n),n.children=null,n}function Vm(n){return Kd(n)?n.children?n.children[0]:void 0:n}function al(n,t){n.shapeFlag&6&&n.component?al(n.component.subTree,t):n.shapeFlag&128?(n.ssContent.transition=t.clone(n.ssContent),n.ssFallback.transition=t.clone(n.ssFallback)):n.transition=t}function Jg(n,t=!1,e){let s=[],i=0;for(let r=0;r<n.length;r++){let o=n[r];const a=e==null?o.key:String(e)+String(o.key!=null?o.key:r);o.type===ne?(o.patchFlag&128&&i++,s=s.concat(Jg(o.children,t,a))):(t||o.type!==Ds)&&s.push(a!=null?pr(o,{key:a}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function es(n,t){return bt(n)?ae({name:n.name},t,{setup:n}):n}const Gc=n=>!!n.type.__asyncLoader,Kd=n=>n.type.__isKeepAlive;function Zw(n,t){Tv(n,"a",t)}function Jw(n,t){Tv(n,"da",t)}function Tv(n,t,e=Ce){const s=n.__wdc||(n.__wdc=()=>{let i=e;for(;i;){if(i.isDeactivated)return;i=i.parent}return n()});if(Xd(t,s,e),e){let i=e.parent;for(;i&&i.parent;)Kd(i.parent.vnode)&&Qw(s,t,e,i),i=i.parent}}function Qw(n,t,e,s){const i=Xd(t,n,s,!0);Pv(()=>{$g(s[t],i)},e)}function Xd(n,t,e=Ce,s=!1){if(e){const i=e[n]||(e[n]=[]),r=t.__weh||(t.__weh=(...o)=>{if(e.isUnmounted)return;vr();const a=Yh(e),c=Rs(t,e,n,o);return a(),yr(),c});return s?i.unshift(r):i.push(r),r}}const Si=n=>(t,e=Ce)=>(!Zd||n==="sp")&&Xd(n,(...s)=>t(...s),e),tx=Si("bm"),Mn=Si("m"),ex=Si("bu"),Rv=Si("u"),Dv=Si("bum"),Pv=Si("um"),sx=Si("sp"),nx=Si("rtg"),ix=Si("rtc");function rx(n,t=Ce){Xd("ec",n,t)}function fr(n,t,e,s){let i;const r=e;if(lt(n)||ee(n)){i=new Array(n.length);for(let o=0,a=n.length;o<a;o++)i[o]=t(n[o],o,void 0,r)}else if(typeof n=="number"){i=new Array(n);for(let o=0;o<n;o++)i[o]=t(o+1,o,void 0,r)}else if(jt(n))if(n[Symbol.iterator])i=Array.from(n,(o,a)=>t(o,a,void 0,r));else{const o=Object.keys(n);i=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const h=o[a];i[a]=t(n[h],h,a,r)}}else i=[];return i}function Os(n,t,e={},s,i){if(pe.isCE||pe.parent&&Gc(pe.parent)&&pe.parent.isCE)return t!=="default"&&(e.name=t),_t("slot",e,s&&s());let r=n[t];r&&r._c&&(r._d=!1),$();const o=r&&Lv(r(e)),a=_s(ne,{key:e.key||o&&o.key||`_${t}`},o||(s?s():[]),o&&n._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),r&&r._c&&(r._d=!0),a}function Lv(n){return n.some(t=>id(t)?!(t.type===Ds||t.type===ne&&!Lv(t.children)):!0)?n:null}function ox(n,t){const e={};for(const s in n)e[wu(s)]=n[s];return e}const cp=n=>n?Kv(n)?Jd(n)||n.proxy:cp(n.parent):null,Wc=ae(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>cp(n.parent),$root:n=>cp(n.root),$emit:n=>n.emit,$options:n=>Qg(n),$forceUpdate:n=>n.f||(n.f=()=>{n.effect.dirty=!0,Xg(n.update)}),$nextTick:n=>n.n||(n.n=bv.bind(n.proxy)),$watch:n=>Kw.bind(n)}),Tf=(n,t)=>n!==Wt&&!n.__isScriptSetup&&St(n,t),ax={get({_:n},t){if(t==="__v_skip")return!0;const{ctx:e,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:c}=n;let h;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return s[t];case 2:return i[t];case 4:return e[t];case 3:return r[t]}else{if(Tf(s,t))return o[t]=1,s[t];if(i!==Wt&&St(i,t))return o[t]=2,i[t];if((h=n.propsOptions[0])&&St(h,t))return o[t]=3,r[t];if(e!==Wt&&St(e,t))return o[t]=4,e[t];lp&&(o[t]=0)}}const u=Wc[t];let d,f;if(u)return t==="$attrs"&&Qe(n.attrs,"get",""),u(n);if((d=a.__cssModules)&&(d=d[t]))return d;if(e!==Wt&&St(e,t))return o[t]=4,e[t];if(f=c.config.globalProperties,St(f,t))return f[t]},set({_:n},t,e){const{data:s,setupState:i,ctx:r}=n;return Tf(i,t)?(i[t]=e,!0):s!==Wt&&St(s,t)?(s[t]=e,!0):St(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(r[t]=e,!0)},has({_:{data:n,setupState:t,accessCache:e,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!e[o]||n!==Wt&&St(n,o)||Tf(t,o)||(a=r[0])&&St(a,o)||St(s,o)||St(Wc,o)||St(i.config.globalProperties,o)},defineProperty(n,t,e){return e.get!=null?n._.accessCache[t]=0:St(e,"value")&&this.set(n,t,e.value,null),Reflect.defineProperty(n,t,e)}};function Um(n){return lt(n)?n.reduce((t,e)=>(t[e]=null,t),{}):n}let lp=!0;function cx(n){const t=Qg(n),e=n.proxy,s=n.ctx;lp=!1,t.beforeCreate&&Gm(t.beforeCreate,n,"bc");const{data:i,computed:r,methods:o,watch:a,provide:c,inject:h,created:u,beforeMount:d,mounted:f,beforeUpdate:p,updated:g,activated:m,deactivated:A,beforeDestroy:b,beforeUnmount:w,destroyed:C,unmounted:k,render:R,renderTracked:E,renderTriggered:L,errorCaptured:M,serverPrefetch:U,expose:N,inheritAttrs:B,components:H,directives:nt,filters:I}=t;if(h&&lx(h,s,null),o)for(const V in o){const Z=o[V];bt(Z)&&(s[V]=Z.bind(e))}if(i){const V=i.call(e,e);jt(V)&&(n.data=Xh(V))}if(lp=!0,r)for(const V in r){const Z=r[V],Ue=bt(Z)?Z.bind(e,e):bt(Z.get)?Z.get.bind(e,e):Ts,ss=!bt(Z)&&bt(Z.set)?Z.set.bind(e):Ts,Ne=ke({get:Ue,set:ss});Object.defineProperty(s,V,{enumerable:!0,configurable:!0,get:()=>Ne.value,set:Pt=>Ne.value=Pt})}if(a)for(const V in a)Mv(a[V],s,e,V);if(c){const V=bt(c)?c.call(e):c;Reflect.ownKeys(V).forEach(Z=>{Cu(Z,V[Z])})}u&&Gm(u,n,"c");function tt(V,Z){lt(Z)?Z.forEach(Ue=>V(Ue.bind(e))):Z&&V(Z.bind(e))}if(tt(tx,d),tt(Mn,f),tt(ex,p),tt(Rv,g),tt(Zw,m),tt(Jw,A),tt(rx,M),tt(ix,E),tt(nx,L),tt(Dv,w),tt(Pv,k),tt(sx,U),lt(N))if(N.length){const V=n.exposed||(n.exposed={});N.forEach(Z=>{Object.defineProperty(V,Z,{get:()=>e[Z],set:Ue=>e[Z]=Ue})})}else n.exposed||(n.exposed={});R&&n.render===Ts&&(n.render=R),B!=null&&(n.inheritAttrs=B),H&&(n.components=H),nt&&(n.directives=nt)}function lx(n,t,e=Ts){lt(n)&&(n=hp(n));for(const s in n){const i=n[s];let r;jt(i)?"default"in i?r=Tn(i.from||s,i.default,!0):r=Tn(i.from||s):r=Tn(i),ts(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[s]=r}}function Gm(n,t,e){Rs(lt(n)?n.map(s=>s.bind(t.proxy)):n.bind(t.proxy),t,e)}function Mv(n,t,e,s){const i=s.includes(".")?Ev(e,s):()=>e[s];if(ee(n)){const r=t[n];bt(r)&&Uc(i,r)}else if(bt(n))Uc(i,n.bind(e));else if(jt(n))if(lt(n))n.forEach(r=>Mv(r,t,e,s));else{const r=bt(n.handler)?n.handler.bind(e):t[n.handler];bt(r)&&Uc(i,r,n)}}function Qg(n){const t=n.type,{mixins:e,extends:s}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=n.appContext,a=r.get(t);let c;return a?c=a:!i.length&&!e&&!s?c=t:(c={},i.length&&i.forEach(h=>nd(c,h,o,!0)),nd(c,t,o)),jt(t)&&r.set(t,c),c}function nd(n,t,e,s=!1){const{mixins:i,extends:r}=t;r&&nd(n,r,e,!0),i&&i.forEach(o=>nd(n,o,e,!0));for(const o in t)if(!(s&&o==="expose")){const a=hx[o]||e&&e[o];n[o]=a?a(n[o],t[o]):t[o]}return n}const hx={data:Wm,props:Km,emits:Km,methods:Sc,computed:Sc,beforeCreate:qe,created:qe,beforeMount:qe,mounted:qe,beforeUpdate:qe,updated:qe,beforeDestroy:qe,beforeUnmount:qe,destroyed:qe,unmounted:qe,activated:qe,deactivated:qe,errorCaptured:qe,serverPrefetch:qe,components:Sc,directives:Sc,watch:dx,provide:Wm,inject:ux};function Wm(n,t){return t?n?function(){return ae(bt(n)?n.call(this,this):n,bt(t)?t.call(this,this):t)}:t:n}function ux(n,t){return Sc(hp(n),hp(t))}function hp(n){if(lt(n)){const t={};for(let e=0;e<n.length;e++)t[n[e]]=n[e];return t}return n}function qe(n,t){return n?[...new Set([].concat(n,t))]:t}function Sc(n,t){return n?ae(Object.create(null),n,t):t}function Km(n,t){return n?lt(n)&&lt(t)?[...new Set([...n,...t])]:ae(Object.create(null),Um(n),Um(t??{})):t}function dx(n,t){if(!n)return t;if(!t)return n;const e=ae(Object.create(null),n);for(const s in t)e[s]=qe(n[s],t[s]);return e}function Fv(){return{app:null,config:{isNativeTag:UA,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fx=0;function px(n,t){return function(s,i=null){bt(s)||(s=ae({},s)),i!=null&&!jt(i)&&(i=null);const r=Fv(),o=new WeakSet;let a=!1;const c=r.app={_uid:fx++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:Ox,get config(){return r.config},set config(h){},use(h,...u){return o.has(h)||(h&&bt(h.install)?(o.add(h),h.install(c,...u)):bt(h)&&(o.add(h),h(c,...u))),c},mixin(h){return r.mixins.includes(h)||r.mixins.push(h),c},component(h,u){return u?(r.components[h]=u,c):r.components[h]},directive(h,u){return u?(r.directives[h]=u,c):r.directives[h]},mount(h,u,d){if(!a){const f=_t(s,i);return f.appContext=r,d===!0?d="svg":d===!1&&(d=void 0),u&&t?t(f,h):n(f,h,d),a=!0,c._container=h,h.__vue_app__=c,Jd(f.component)||f.component.proxy}},unmount(){a&&(n(null,c._container),delete c._container.__vue_app__)},provide(h,u){return r.provides[h]=u,c},runWithContext(h){const u=Kc;Kc=c;try{return h()}finally{Kc=u}}};return c}}let Kc=null;function Cu(n,t){if(Ce){let e=Ce.provides;const s=Ce.parent&&Ce.parent.provides;s===e&&(e=Ce.provides=Object.create(s)),e[n]=t}}function Tn(n,t,e=!1){const s=Ce||pe;if(s||Kc){const i=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:Kc._context.provides;if(i&&n in i)return i[n];if(arguments.length>1)return e&&bt(t)?t.call(s&&s.proxy):t}}const Iv=Object.create(null),up=()=>Object.create(Iv),Ov=n=>Object.getPrototypeOf(n)===Iv;function gx(n,t,e,s=!1){const i={},r=up();n.propsDefaults=Object.create(null),Nv(n,t,i,r);for(const o in n.propsOptions[0])o in i||(i[o]=void 0);e?n.props=s?i:lv(i):n.type.props?n.props=i:n.props=r,n.attrs=r}function mx(n,t,e,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=n,a=Tt(i),[c]=n.propsOptions;let h=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=n.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(Gd(n.emitsOptions,f))continue;const p=t[f];if(c)if(St(r,f))p!==r[f]&&(r[f]=p,h=!0);else{const g=Pn(f);i[g]=dp(c,a,g,p,n,!1)}else p!==r[f]&&(r[f]=p,h=!0)}}}else{Nv(n,t,i,r)&&(h=!0);let u;for(const d in a)(!t||!St(t,d)&&((u=dc(d))===d||!St(t,u)))&&(c?e&&(e[d]!==void 0||e[u]!==void 0)&&(i[d]=dp(c,a,d,void 0,n,!0)):delete i[d]);if(r!==a)for(const d in r)(!t||!St(t,d))&&(delete r[d],h=!0)}h&&mi(n.attrs,"set","")}function Nv(n,t,e,s){const[i,r]=n.propsOptions;let o=!1,a;if(t)for(let c in t){if(jc(c))continue;const h=t[c];let u;i&&St(i,u=Pn(c))?!r||!r.includes(u)?e[u]=h:(a||(a={}))[u]=h:Gd(n.emitsOptions,c)||(!(c in s)||h!==s[c])&&(s[c]=h,o=!0)}if(r){const c=Tt(e),h=a||Wt;for(let u=0;u<r.length;u++){const d=r[u];e[d]=dp(i,c,d,h[d],n,!St(h,d))}}return o}function dp(n,t,e,s,i,r){const o=n[e];if(o!=null){const a=St(o,"default");if(a&&s===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&bt(c)){const{propsDefaults:h}=i;if(e in h)s=h[e];else{const u=Yh(i);s=h[e]=c.call(null,t),u()}}else s=c}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===dc(e))&&(s=!0))}return s}function qv(n,t,e=!1){const s=t.propsCache,i=s.get(n);if(i)return i;const r=n.props,o={},a=[];let c=!1;if(!bt(n)){const u=d=>{c=!0;const[f,p]=qv(d,t,!0);ae(o,f),p&&a.push(...p)};!e&&t.mixins.length&&t.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}if(!r&&!c)return jt(n)&&s.set(n,oa),oa;if(lt(r))for(let u=0;u<r.length;u++){const d=Pn(r[u]);Xm(d)&&(o[d]=Wt)}else if(r)for(const u in r){const d=Pn(u);if(Xm(d)){const f=r[u],p=o[d]=lt(f)||bt(f)?{type:f}:ae({},f);if(p){const g=Jm(Boolean,p.type),m=Jm(String,p.type);p[0]=g>-1,p[1]=m<0||g<m,(g>-1||St(p,"default"))&&a.push(d)}}}const h=[o,a];return jt(n)&&s.set(n,h),h}function Xm(n){return n[0]!=="$"&&!jc(n)}function Ym(n){return n===null?"null":typeof n=="function"?n.name||"":typeof n=="object"&&n.constructor&&n.constructor.name||""}function Zm(n,t){return Ym(n)===Ym(t)}function Jm(n,t){return lt(t)?t.findIndex(e=>Zm(e,n)):bt(t)&&Zm(t,n)?0:-1}const $v=n=>n[0]==="_"||n==="$stable",tm=n=>lt(n)?n.map(En):[En(n)],bx=(n,t,e)=>{if(t._n)return t;const s=ms((...i)=>tm(t(...i)),e);return s._c=!1,s},Bv=(n,t,e)=>{const s=n._ctx;for(const i in n){if($v(i))continue;const r=n[i];if(bt(r))t[i]=bx(i,r,s);else if(r!=null){const o=tm(r);t[i]=()=>o}}},Hv=(n,t)=>{const e=tm(t);n.slots.default=()=>e},_x=(n,t)=>{if(n.vnode.shapeFlag&32){const e=t._;e?(n.slots=Tt(t),W_(n.slots,"_",e)):Bv(t,n.slots=up())}else n.slots=up(),t&&Hv(n,t)},vx=(n,t,e)=>{const{vnode:s,slots:i}=n;let r=!0,o=Wt;if(s.shapeFlag&32){const a=t._;a?e&&a===1?r=!1:(ae(i,t),!e&&a===1&&delete i._):(r=!t.$stable,Bv(t,i)),o=t}else t&&(Hv(n,t),o={default:1});if(r)for(const a in i)!$v(a)&&o[a]==null&&delete i[a]};function fp(n,t,e,s,i=!1){if(lt(n)){n.forEach((f,p)=>fp(f,t&&(lt(t)?t[p]:t),e,s,i));return}if(Gc(s)&&!i)return;const r=s.shapeFlag&4?Jd(s.component)||s.component.proxy:s.el,o=i?null:r,{i:a,r:c}=n,h=t&&t.r,u=a.refs===Wt?a.refs={}:a.refs,d=a.setupState;if(h!=null&&h!==c&&(ee(h)?(u[h]=null,St(d,h)&&(d[h]=null)):ts(h)&&(h.value=null)),bt(c))hr(c,a,12,[o,u]);else{const f=ee(c),p=ts(c);if(f||p){const g=()=>{if(n.f){const m=f?St(d,c)?d[c]:u[c]:c.value;i?lt(m)&&$g(m,r):lt(m)?m.includes(r)||m.push(r):f?(u[c]=[r],St(d,c)&&(d[c]=u[c])):(c.value=[r],n.k&&(u[n.k]=c.value))}else f?(u[c]=o,St(d,c)&&(d[c]=o)):p&&(c.value=o,n.k&&(u[n.k]=o))};o?(g.id=-1,We(g,e)):g()}}}const We=Uw;function yx(n){return Ax(n)}function Ax(n,t){const e=K_();e.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:c,setText:h,setElementText:u,parentNode:d,nextSibling:f,setScopeId:p=Ts,insertStaticContent:g}=n,m=(x,S,D,O=null,F=null,j=null,Q=void 0,z=null,W=!!S.dynamicChildren)=>{if(x===S)return;x&&!Pr(x,S)&&(O=P(x),Pt(x,F,j,!0),x=null),S.patchFlag===-2&&(W=!1,S.dynamicChildren=null);const{type:q,ref:st,shapeFlag:ht}=S;switch(q){case Yd:A(x,S,D,O);break;case Ds:b(x,S,D,O);break;case ku:x==null&&w(S,D,O,Q);break;case ne:H(x,S,D,O,F,j,Q,z,W);break;default:ht&1?R(x,S,D,O,F,j,Q,z,W):ht&6?nt(x,S,D,O,F,j,Q,z,W):(ht&64||ht&128)&&q.process(x,S,D,O,F,j,Q,z,W,rt)}st!=null&&F&&fp(st,x&&x.ref,j,S||x,!S)},A=(x,S,D,O)=>{if(x==null)s(S.el=a(S.children),D,O);else{const F=S.el=x.el;S.children!==x.children&&h(F,S.children)}},b=(x,S,D,O)=>{x==null?s(S.el=c(S.children||""),D,O):S.el=x.el},w=(x,S,D,O)=>{[x.el,x.anchor]=g(x.children,S,D,O,x.el,x.anchor)},C=({el:x,anchor:S},D,O)=>{let F;for(;x&&x!==S;)F=f(x),s(x,D,O),x=F;s(S,D,O)},k=({el:x,anchor:S})=>{let D;for(;x&&x!==S;)D=f(x),i(x),x=D;i(S)},R=(x,S,D,O,F,j,Q,z,W)=>{S.type==="svg"?Q="svg":S.type==="math"&&(Q="mathml"),x==null?E(S,D,O,F,j,Q,z,W):U(x,S,F,j,Q,z,W)},E=(x,S,D,O,F,j,Q,z)=>{let W,q;const{props:st,shapeFlag:ht,transition:ct,dirs:pt}=x;if(W=x.el=o(x.type,j,st&&st.is,st),ht&8?u(W,x.children):ht&16&&M(x.children,W,null,O,F,Rf(x,j),Q,z),pt&&wr(x,null,O,"created"),L(W,x,x.scopeId,Q,O),st){for(const Nt in st)Nt!=="value"&&!jc(Nt)&&r(W,Nt,null,st[Nt],j,x.children,O,F,Gt);"value"in st&&r(W,"value",null,st.value,j),(q=st.onVnodeBeforeMount)&&on(q,O,x)}pt&&wr(x,null,O,"beforeMount");const wt=wx(F,ct);wt&&ct.beforeEnter(W),s(W,S,D),((q=st&&st.onVnodeMounted)||wt||pt)&&We(()=>{q&&on(q,O,x),wt&&ct.enter(W),pt&&wr(x,null,O,"mounted")},F)},L=(x,S,D,O,F)=>{if(D&&p(x,D),O)for(let j=0;j<O.length;j++)p(x,O[j]);if(F){let j=F.subTree;if(S===j){const Q=F.vnode;L(x,Q,Q.scopeId,Q.slotScopeIds,F.parent)}}},M=(x,S,D,O,F,j,Q,z,W=0)=>{for(let q=W;q<x.length;q++){const st=x[q]=z?Ni(x[q]):En(x[q]);m(null,st,S,D,O,F,j,Q,z)}},U=(x,S,D,O,F,j,Q)=>{const z=S.el=x.el;let{patchFlag:W,dynamicChildren:q,dirs:st}=S;W|=x.patchFlag&16;const ht=x.props||Wt,ct=S.props||Wt;let pt;if(D&&xr(D,!1),(pt=ct.onVnodeBeforeUpdate)&&on(pt,D,S,x),st&&wr(S,x,D,"beforeUpdate"),D&&xr(D,!0),q?N(x.dynamicChildren,q,z,D,O,Rf(S,F),j):Q||Z(x,S,z,null,D,O,Rf(S,F),j,!1),W>0){if(W&16)B(z,S,ht,ct,D,O,F);else if(W&2&&ht.class!==ct.class&&r(z,"class",null,ct.class,F),W&4&&r(z,"style",ht.style,ct.style,F),W&8){const wt=S.dynamicProps;for(let Nt=0;Nt<wt.length;Nt++){const Yt=wt[Nt],ge=ht[Yt],Fs=ct[Yt];(Fs!==ge||Yt==="value")&&r(z,Yt,ge,Fs,F,x.children,D,O,Gt)}}W&1&&x.children!==S.children&&u(z,S.children)}else!Q&&q==null&&B(z,S,ht,ct,D,O,F);((pt=ct.onVnodeUpdated)||st)&&We(()=>{pt&&on(pt,D,S,x),st&&wr(S,x,D,"updated")},O)},N=(x,S,D,O,F,j,Q)=>{for(let z=0;z<S.length;z++){const W=x[z],q=S[z],st=W.el&&(W.type===ne||!Pr(W,q)||W.shapeFlag&70)?d(W.el):D;m(W,q,st,null,O,F,j,Q,!0)}},B=(x,S,D,O,F,j,Q)=>{if(D!==O){if(D!==Wt)for(const z in D)!jc(z)&&!(z in O)&&r(x,z,D[z],null,Q,S.children,F,j,Gt);for(const z in O){if(jc(z))continue;const W=O[z],q=D[z];W!==q&&z!=="value"&&r(x,z,q,W,Q,S.children,F,j,Gt)}"value"in O&&r(x,"value",D.value,O.value,Q)}},H=(x,S,D,O,F,j,Q,z,W)=>{const q=S.el=x?x.el:a(""),st=S.anchor=x?x.anchor:a("");let{patchFlag:ht,dynamicChildren:ct,slotScopeIds:pt}=S;pt&&(z=z?z.concat(pt):pt),x==null?(s(q,D,O),s(st,D,O),M(S.children||[],D,st,F,j,Q,z,W)):ht>0&&ht&64&&ct&&x.dynamicChildren?(N(x.dynamicChildren,ct,D,F,j,Q,z),(S.key!=null||F&&S===F.subTree)&&zv(x,S,!0)):Z(x,S,D,st,F,j,Q,z,W)},nt=(x,S,D,O,F,j,Q,z,W)=>{S.slotScopeIds=z,x==null?S.shapeFlag&512?F.ctx.activate(S,D,O,Q,W):I(S,D,O,F,j,Q,W):ot(x,S,W)},I=(x,S,D,O,F,j,Q)=>{const z=x.component=Rx(x,O,F);if(Kd(x)&&(z.ctx.renderer=rt),Dx(z),z.asyncDep){if(F&&F.registerDep(z,tt),!x.el){const W=z.subTree=_t(Ds);b(null,W,S,D)}}else tt(z,x,S,D,F,j,Q)},ot=(x,S,D)=>{const O=S.component=x.component;if($w(x,S,D))if(O.asyncDep&&!O.asyncResolved){V(O,S,D);return}else O.next=S,Mw(O.update),O.effect.dirty=!0,O.update();else S.el=x.el,O.vnode=S},tt=(x,S,D,O,F,j,Q)=>{const z=()=>{if(x.isMounted){let{next:st,bu:ht,u:ct,parent:pt,vnode:wt}=x;{const Ko=jv(x);if(Ko){st&&(st.el=wt.el,V(x,st,Q)),Ko.asyncDep.then(()=>{x.isUnmounted||z()});return}}let Nt=st,Yt;xr(x,!1),st?(st.el=wt.el,V(x,st,Q)):st=wt,ht&&xu(ht),(Yt=st.props&&st.props.onVnodeBeforeUpdate)&&on(Yt,pt,st,wt),xr(x,!0);const ge=Cf(x),Fs=x.subTree;x.subTree=ge,m(Fs,ge,d(Fs.el),P(Fs),x,F,j),st.el=ge.el,Nt===null&&Bw(x,ge.el),ct&&We(ct,F),(Yt=st.props&&st.props.onVnodeUpdated)&&We(()=>on(Yt,pt,st,wt),F)}else{let st;const{el:ht,props:ct}=S,{bm:pt,m:wt,parent:Nt}=x,Yt=Gc(S);if(xr(x,!1),pt&&xu(pt),!Yt&&(st=ct&&ct.onVnodeBeforeMount)&&on(st,Nt,S),xr(x,!0),ht&&Zt){const ge=()=>{x.subTree=Cf(x),Zt(ht,x.subTree,x,F,null)};Yt?S.type.__asyncLoader().then(()=>!x.isUnmounted&&ge()):ge()}else{const ge=x.subTree=Cf(x);m(null,ge,D,O,x,F,j),S.el=ge.el}if(wt&&We(wt,F),!Yt&&(st=ct&&ct.onVnodeMounted)){const ge=S;We(()=>on(st,Nt,ge),F)}(S.shapeFlag&256||Nt&&Gc(Nt.vnode)&&Nt.vnode.shapeFlag&256)&&x.a&&We(x.a,F),x.isMounted=!0,S=D=O=null}},W=x.effect=new Hg(z,Ts,()=>Xg(q),x.scope),q=x.update=()=>{W.dirty&&W.run()};q.id=x.uid,xr(x,!0),q()},V=(x,S,D)=>{S.component=x;const O=x.vnode.props;x.vnode=S,x.next=null,mx(x,S.props,O,D),vx(x,S.children,D),vr(),Hm(x),yr()},Z=(x,S,D,O,F,j,Q,z,W=!1)=>{const q=x&&x.children,st=x?x.shapeFlag:0,ht=S.children,{patchFlag:ct,shapeFlag:pt}=S;if(ct>0){if(ct&128){ss(q,ht,D,O,F,j,Q,z,W);return}else if(ct&256){Ue(q,ht,D,O,F,j,Q,z,W);return}}pt&8?(st&16&&Gt(q,F,j),ht!==q&&u(D,ht)):st&16?pt&16?ss(q,ht,D,O,F,j,Q,z,W):Gt(q,F,j,!0):(st&8&&u(D,""),pt&16&&M(ht,D,O,F,j,Q,z,W))},Ue=(x,S,D,O,F,j,Q,z,W)=>{x=x||oa,S=S||oa;const q=x.length,st=S.length,ht=Math.min(q,st);let ct;for(ct=0;ct<ht;ct++){const pt=S[ct]=W?Ni(S[ct]):En(S[ct]);m(x[ct],pt,D,null,F,j,Q,z,W)}q>st?Gt(x,F,j,!0,!1,ht):M(S,D,O,F,j,Q,z,W,ht)},ss=(x,S,D,O,F,j,Q,z,W)=>{let q=0;const st=S.length;let ht=x.length-1,ct=st-1;for(;q<=ht&&q<=ct;){const pt=x[q],wt=S[q]=W?Ni(S[q]):En(S[q]);if(Pr(pt,wt))m(pt,wt,D,null,F,j,Q,z,W);else break;q++}for(;q<=ht&&q<=ct;){const pt=x[ht],wt=S[ct]=W?Ni(S[ct]):En(S[ct]);if(Pr(pt,wt))m(pt,wt,D,null,F,j,Q,z,W);else break;ht--,ct--}if(q>ht){if(q<=ct){const pt=ct+1,wt=pt<st?S[pt].el:O;for(;q<=ct;)m(null,S[q]=W?Ni(S[q]):En(S[q]),D,wt,F,j,Q,z,W),q++}}else if(q>ct)for(;q<=ht;)Pt(x[q],F,j,!0),q++;else{const pt=q,wt=q,Nt=new Map;for(q=wt;q<=ct;q++){const ns=S[q]=W?Ni(S[q]):En(S[q]);ns.key!=null&&Nt.set(ns.key,q)}let Yt,ge=0;const Fs=ct-wt+1;let Ko=!1,Tm=0;const yc=new Array(Fs);for(q=0;q<Fs;q++)yc[q]=0;for(q=pt;q<=ht;q++){const ns=x[q];if(ge>=Fs){Pt(ns,F,j,!0);continue}let rn;if(ns.key!=null)rn=Nt.get(ns.key);else for(Yt=wt;Yt<=ct;Yt++)if(yc[Yt-wt]===0&&Pr(ns,S[Yt])){rn=Yt;break}rn===void 0?Pt(ns,F,j,!0):(yc[rn-wt]=q+1,rn>=Tm?Tm=rn:Ko=!0,m(ns,S[rn],D,null,F,j,Q,z,W),ge++)}const Rm=Ko?xx(yc):oa;for(Yt=Rm.length-1,q=Fs-1;q>=0;q--){const ns=wt+q,rn=S[ns],Dm=ns+1<st?S[ns+1].el:O;yc[q]===0?m(null,rn,D,Dm,F,j,Q,z,W):Ko&&(Yt<0||q!==Rm[Yt]?Ne(rn,D,Dm,2):Yt--)}}},Ne=(x,S,D,O,F=null)=>{const{el:j,type:Q,transition:z,children:W,shapeFlag:q}=x;if(q&6){Ne(x.component.subTree,S,D,O);return}if(q&128){x.suspense.move(S,D,O);return}if(q&64){Q.move(x,S,D,rt);return}if(Q===ne){s(j,S,D);for(let ht=0;ht<W.length;ht++)Ne(W[ht],S,D,O);s(x.anchor,S,D);return}if(Q===ku){C(x,S,D);return}if(O!==2&&q&1&&z)if(O===0)z.beforeEnter(j),s(j,S,D),We(()=>z.enter(j),F);else{const{leave:ht,delayLeave:ct,afterLeave:pt}=z,wt=()=>s(j,S,D),Nt=()=>{ht(j,()=>{wt(),pt&&pt()})};ct?ct(j,wt,Nt):Nt()}else s(j,S,D)},Pt=(x,S,D,O=!1,F=!1)=>{const{type:j,props:Q,ref:z,children:W,dynamicChildren:q,shapeFlag:st,patchFlag:ht,dirs:ct}=x;if(z!=null&&fp(z,null,D,x,!0),st&256){S.ctx.deactivate(x);return}const pt=st&1&&ct,wt=!Gc(x);let Nt;if(wt&&(Nt=Q&&Q.onVnodeBeforeUnmount)&&on(Nt,S,x),st&6)vs(x.component,D,O);else{if(st&128){x.suspense.unmount(D,O);return}pt&&wr(x,null,S,"beforeUnmount"),st&64?x.type.remove(x,S,D,F,rt,O):q&&(j!==ne||ht>0&&ht&64)?Gt(q,S,D,!1,!0):(j===ne&&ht&384||!F&&st&16)&&Gt(W,S,D),O&&Xt(x)}(wt&&(Nt=Q&&Q.onVnodeUnmounted)||pt)&&We(()=>{Nt&&on(Nt,S,x),pt&&wr(x,null,S,"unmounted")},D)},Xt=x=>{const{type:S,el:D,anchor:O,transition:F}=x;if(S===ne){Ms(D,O);return}if(S===ku){k(x);return}const j=()=>{i(D),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(x.shapeFlag&1&&F&&!F.persisted){const{leave:Q,delayLeave:z}=F,W=()=>Q(D,j);z?z(x.el,j,W):W()}else j()},Ms=(x,S)=>{let D;for(;x!==S;)D=f(x),i(x),x=D;i(S)},vs=(x,S,D)=>{const{bum:O,scope:F,update:j,subTree:Q,um:z}=x;O&&xu(O),F.stop(),j&&(j.active=!1,Pt(Q,x,S,D)),z&&We(z,S),We(()=>{x.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&x.asyncDep&&!x.asyncResolved&&x.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve())},Gt=(x,S,D,O=!1,F=!1,j=0)=>{for(let Q=j;Q<x.length;Q++)Pt(x[Q],S,D,O,F)},P=x=>x.shapeFlag&6?P(x.component.subTree):x.shapeFlag&128?x.suspense.next():f(x.anchor||x.el);let K=!1;const Y=(x,S,D)=>{x==null?S._vnode&&Pt(S._vnode,null,null,!0):m(S._vnode||null,x,S,null,null,null,D),K||(K=!0,Hm(),vv(),K=!1),S._vnode=x},rt={p:m,um:Pt,m:Ne,r:Xt,mt:I,mc:M,pc:Z,pbc:N,n:P,o:n};let Mt,Zt;return{render:Y,hydrate:Mt,createApp:px(Y,Mt)}}function Rf({type:n,props:t},e){return e==="svg"&&n==="foreignObject"||e==="mathml"&&n==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:e}function xr({effect:n,update:t},e){n.allowRecurse=t.allowRecurse=e}function wx(n,t){return(!n||n&&!n.pendingBranch)&&t&&!t.persisted}function zv(n,t,e=!1){const s=n.children,i=t.children;if(lt(s)&&lt(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=Ni(i[r]),a.el=o.el),e||zv(o,a)),a.type===Yd&&(a.el=o.el)}}function xx(n){const t=n.slice(),e=[0];let s,i,r,o,a;const c=n.length;for(s=0;s<c;s++){const h=n[s];if(h!==0){if(i=e[e.length-1],n[i]<h){t[s]=i,e.push(s);continue}for(r=0,o=e.length-1;r<o;)a=r+o>>1,n[e[a]]<h?r=a+1:o=a;h<n[e[r]]&&(r>0&&(t[s]=e[r-1]),e[r]=s)}}for(r=e.length,o=e[r-1];r-- >0;)e[r]=o,o=t[o];return e}function jv(n){const t=n.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:jv(t)}const Ex=n=>n.__isTeleport,ne=Symbol.for("v-fgt"),Yd=Symbol.for("v-txt"),Ds=Symbol.for("v-cmt"),ku=Symbol.for("v-stc"),Xc=[];let tn=null;function $(n=!1){Xc.push(tn=n?null:[])}function Cx(){Xc.pop(),tn=Xc[Xc.length-1]||null}let cl=1;function Qm(n){cl+=n}function Vv(n){return n.dynamicChildren=cl>0?tn||oa:null,Cx(),cl>0&&tn&&tn.push(n),n}function G(n,t,e,s,i,r){return Vv(T(n,t,e,s,i,r,!0))}function _s(n,t,e,s,i){return Vv(_t(n,t,e,s,i,!0))}function id(n){return n?n.__v_isVNode===!0:!1}function Pr(n,t){return n.type===t.type&&n.key===t.key}const Uv=({key:n})=>n??null,Su=({ref:n,ref_key:t,ref_for:e})=>(typeof n=="number"&&(n=""+n),n!=null?ee(n)||ts(n)||bt(n)?{i:pe,r:n,k:t,f:!!e}:n:null);function T(n,t=null,e=null,s=0,i=null,r=n===ne?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&Uv(t),ref:t&&Su(t),scopeId:Wd,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:pe};return a?(em(c,e),r&128&&n.normalize(c)):e&&(c.shapeFlag|=ee(e)?8:16),cl>0&&!o&&tn&&(c.patchFlag>0||r&6)&&c.patchFlag!==32&&tn.push(c),c}const _t=kx;function kx(n,t=null,e=null,s=0,i=null,r=!1){if((!n||n===wv)&&(n=Ds),id(n)){const a=pr(n,t,!0);return e&&em(a,e),cl>0&&!r&&tn&&(a.shapeFlag&6?tn[tn.indexOf(n)]=a:tn.push(a)),a.patchFlag|=-2,a}if(Ix(n)&&(n=n.__vccOpts),t){t=Ns(t);let{class:a,style:c}=t;a&&!ee(a)&&(t.class=cc(a)),jt(c)&&(uv(c)&&!lt(c)&&(c=ae({},c)),t.style=zd(c))}const o=ee(n)?1:Vw(n)?128:Ex(n)?64:jt(n)?4:bt(n)?2:0;return T(n,t,e,s,i,o,r,!0)}function Ns(n){return n?uv(n)||Ov(n)?ae({},n):n:null}function pr(n,t,e=!1){const{props:s,ref:i,patchFlag:r,children:o}=n,a=t?pp(s||{},t):s;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:a,key:a&&Uv(a),ref:t&&t.ref?e&&i?lt(i)?i.concat(Su(t)):[i,Su(t)]:Su(t):i,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:o,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==ne?r===-1?16:r|16:r,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&pr(n.ssContent),ssFallback:n.ssFallback&&pr(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce}}function Ot(n=" ",t=0){return _t(Yd,null,n,t)}function Gv(n,t){const e=_t(ku,null,n);return e.staticCount=t,e}function ft(n="",t=!1){return t?($(),_s(Ds,null,n)):_t(Ds,null,n)}function En(n){return n==null||typeof n=="boolean"?_t(Ds):lt(n)?_t(ne,null,n.slice()):typeof n=="object"?Ni(n):_t(Yd,null,String(n))}function Ni(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:pr(n)}function em(n,t){let e=0;const{shapeFlag:s}=n;if(t==null)t=null;else if(lt(t))e=16;else if(typeof t=="object")if(s&65){const i=t.default;i&&(i._c&&(i._d=!1),em(n,i()),i._c&&(i._d=!0));return}else{e=32;const i=t._;!i&&!Ov(t)?t._ctx=pe:i===3&&pe&&(pe.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else bt(t)?(t={default:t,_ctx:pe},e=32):(t=String(t),s&64?(e=16,t=[Ot(t)]):e=8);n.children=t,n.shapeFlag|=e}function pp(...n){const t={};for(let e=0;e<n.length;e++){const s=n[e];for(const i in s)if(i==="class")t.class!==s.class&&(t.class=cc([t.class,s.class]));else if(i==="style")t.style=zd([t.style,s.style]);else if(qd(i)){const r=t[i],o=s[i];o&&r!==o&&!(lt(r)&&r.includes(o))&&(t[i]=r?[].concat(r,o):o)}else i!==""&&(t[i]=s[i])}return t}function on(n,t,e,s=null){Rs(n,t,7,[e,s])}const Sx=Fv();let Tx=0;function Rx(n,t,e){const s=n.type,i=(t?t.appContext:n.appContext)||Sx,r={uid:Tx++,vnode:n,type:s,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new iw(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:qv(s,i),emitsOptions:Av(s,i),emit:null,emitted:null,propsDefaults:Wt,inheritAttrs:s.inheritAttrs,ctx:Wt,data:Wt,props:Wt,attrs:Wt,slots:Wt,refs:Wt,setupState:Wt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=Ow.bind(null,r),n.ce&&n.ce(r),r}let Ce=null;const Wv=()=>Ce||pe;let rd,gp;{const n=K_(),t=(e,s)=>{let i;return(i=n[e])||(i=n[e]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};rd=t("__VUE_INSTANCE_SETTERS__",e=>Ce=e),gp=t("__VUE_SSR_SETTERS__",e=>Zd=e)}const Yh=n=>{const t=Ce;return rd(n),n.scope.on(),()=>{n.scope.off(),rd(t)}},tb=()=>{Ce&&Ce.scope.off(),rd(null)};function Kv(n){return n.vnode.shapeFlag&4}let Zd=!1;function Dx(n,t=!1){t&&gp(t);const{props:e,children:s}=n.vnode,i=Kv(n);gx(n,e,i,t),_x(n,s);const r=i?Px(n,t):void 0;return t&&gp(!1),r}function Px(n,t){const e=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,ax);const{setup:s}=e;if(s){const i=n.setupContext=s.length>1?Mx(n):null,r=Yh(n);vr();const o=hr(s,n,0,[n.props,i]);if(yr(),r(),V_(o)){if(o.then(tb,tb),t)return o.then(a=>{eb(n,a,t)}).catch(a=>{Ud(a,n,0)});n.asyncDep=o}else eb(n,o,t)}else Xv(n,t)}function eb(n,t,e){bt(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:jt(t)&&(n.setupState=gv(t)),Xv(n,e)}let sb;function Xv(n,t,e){const s=n.type;if(!n.render){if(!t&&sb&&!s.render){const i=s.template||Qg(n).template;if(i){const{isCustomElement:r,compilerOptions:o}=n.appContext.config,{delimiters:a,compilerOptions:c}=s,h=ae(ae({isCustomElement:r,delimiters:a},o),c);s.render=sb(i,h)}}n.render=s.render||Ts}{const i=Yh(n);vr();try{cx(n)}finally{yr(),i()}}}const Lx={get(n,t){return Qe(n,"get",""),n[t]}};function Mx(n){const t=e=>{n.exposed=e||{}};return{attrs:new Proxy(n.attrs,Lx),slots:n.slots,emit:n.emit,expose:t}}function Jd(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(gv(kw(n.exposed)),{get(t,e){if(e in t)return t[e];if(e in Wc)return Wc[e](n)},has(t,e){return e in t||e in Wc}}))}function Fx(n,t=!0){return bt(n)?n.displayName||n.name:n.name||t&&n.__name}function Ix(n){return bt(n)&&"__vccOpts"in n}const ke=(n,t)=>Sw(n,t,Zd);function Qd(n,t,e){const s=arguments.length;return s===2?jt(t)&&!lt(t)?id(t)?_t(n,null,[t]):_t(n,t):_t(n,null,t):(s>3?e=Array.prototype.slice.call(arguments,2):s===3&&id(e)&&(e=[e]),_t(n,t,e))}const Ox="3.4.23";/**
* @vue/runtime-dom v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Nx="http://www.w3.org/2000/svg",qx="http://www.w3.org/1998/Math/MathML",qi=typeof document<"u"?document:null,nb=qi&&qi.createElement("template"),$x={insert:(n,t,e)=>{t.insertBefore(n,e||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,e,s)=>{const i=t==="svg"?qi.createElementNS(Nx,n):t==="mathml"?qi.createElementNS(qx,n):qi.createElement(n,e?{is:e}:void 0);return n==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:n=>qi.createTextNode(n),createComment:n=>qi.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>qi.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},insertStaticContent(n,t,e,s,i,r){const o=e?e.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),e),!(i===r||!(i=i.nextSibling)););else{nb.innerHTML=s==="svg"?`<svg>${n}</svg>`:s==="mathml"?`<math>${n}</math>`:n;const a=nb.content;if(s==="svg"||s==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,e)}return[o?o.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}},Ri="transition",Ac="animation",lc=Symbol("_vtc"),la=(n,{slots:t})=>Qd(Yw,Zv(n),t);la.displayName="Transition";const Yv={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Bx=la.props=ae({},kv,Yv),Er=(n,t=[])=>{lt(n)?n.forEach(e=>e(...t)):n&&n(...t)},ib=n=>n?lt(n)?n.some(t=>t.length>1):n.length>1:!1;function Zv(n){const t={};for(const H in n)H in Yv||(t[H]=n[H]);if(n.css===!1)return t;const{name:e="v",type:s,duration:i,enterFromClass:r=`${e}-enter-from`,enterActiveClass:o=`${e}-enter-active`,enterToClass:a=`${e}-enter-to`,appearFromClass:c=r,appearActiveClass:h=o,appearToClass:u=a,leaveFromClass:d=`${e}-leave-from`,leaveActiveClass:f=`${e}-leave-active`,leaveToClass:p=`${e}-leave-to`}=n,g=Hx(i),m=g&&g[0],A=g&&g[1],{onBeforeEnter:b,onEnter:w,onEnterCancelled:C,onLeave:k,onLeaveCancelled:R,onBeforeAppear:E=b,onAppear:L=w,onAppearCancelled:M=C}=t,U=(H,nt,I)=>{Pi(H,nt?u:a),Pi(H,nt?h:o),I&&I()},N=(H,nt)=>{H._isLeaving=!1,Pi(H,d),Pi(H,p),Pi(H,f),nt&&nt()},B=H=>(nt,I)=>{const ot=H?L:w,tt=()=>U(nt,H,I);Er(ot,[nt,tt]),rb(()=>{Pi(nt,H?c:r),Bn(nt,H?u:a),ib(ot)||ob(nt,s,m,tt)})};return ae(t,{onBeforeEnter(H){Er(b,[H]),Bn(H,r),Bn(H,o)},onBeforeAppear(H){Er(E,[H]),Bn(H,c),Bn(H,h)},onEnter:B(!1),onAppear:B(!0),onLeave(H,nt){H._isLeaving=!0;const I=()=>N(H,nt);Bn(H,d),Qv(),Bn(H,f),rb(()=>{H._isLeaving&&(Pi(H,d),Bn(H,p),ib(k)||ob(H,s,A,I))}),Er(k,[H,I])},onEnterCancelled(H){U(H,!1),Er(C,[H])},onAppearCancelled(H){U(H,!0),Er(M,[H])},onLeaveCancelled(H){N(H),Er(R,[H])}})}function Hx(n){if(n==null)return null;if(jt(n))return[Df(n.enter),Df(n.leave)];{const t=Df(n);return[t,t]}}function Df(n){return YA(n)}function Bn(n,t){t.split(/\s+/).forEach(e=>e&&n.classList.add(e)),(n[lc]||(n[lc]=new Set)).add(t)}function Pi(n,t){t.split(/\s+/).forEach(s=>s&&n.classList.remove(s));const e=n[lc];e&&(e.delete(t),e.size||(n[lc]=void 0))}function rb(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let zx=0;function ob(n,t,e,s){const i=n._endId=++zx,r=()=>{i===n._endId&&s()};if(e)return setTimeout(r,e);const{type:o,timeout:a,propCount:c}=Jv(n,t);if(!o)return s();const h=o+"end";let u=0;const d=()=>{n.removeEventListener(h,f),r()},f=p=>{p.target===n&&++u>=c&&d()};setTimeout(()=>{u<c&&d()},a+1),n.addEventListener(h,f)}function Jv(n,t){const e=window.getComputedStyle(n),s=g=>(e[g]||"").split(", "),i=s(`${Ri}Delay`),r=s(`${Ri}Duration`),o=ab(i,r),a=s(`${Ac}Delay`),c=s(`${Ac}Duration`),h=ab(a,c);let u=null,d=0,f=0;t===Ri?o>0&&(u=Ri,d=o,f=r.length):t===Ac?h>0&&(u=Ac,d=h,f=c.length):(d=Math.max(o,h),u=d>0?o>h?Ri:Ac:null,f=u?u===Ri?r.length:c.length:0);const p=u===Ri&&/\b(transform|all)(,|$)/.test(s(`${Ri}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:p}}function ab(n,t){for(;n.length<t.length;)n=n.concat(n);return Math.max(...t.map((e,s)=>cb(e)+cb(n[s])))}function cb(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function Qv(){return document.body.offsetHeight}function jx(n,t,e){const s=n[lc];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?n.removeAttribute("class"):e?n.setAttribute("class",t):n.className=t}const od=Symbol("_vod"),t0=Symbol("_vsh"),mp={beforeMount(n,{value:t},{transition:e}){n[od]=n.style.display==="none"?"":n.style.display,e&&t?e.beforeEnter(n):wc(n,t)},mounted(n,{value:t},{transition:e}){e&&t&&e.enter(n)},updated(n,{value:t,oldValue:e},{transition:s}){!t!=!e&&(s?t?(s.beforeEnter(n),wc(n,!0),s.enter(n)):s.leave(n,()=>{wc(n,!1)}):wc(n,t))},beforeUnmount(n,{value:t}){wc(n,t)}};function wc(n,t){n.style.display=t?n[od]:"none",n[t0]=!t}const Vx=Symbol(""),Ux=/(^|;)\s*display\s*:/;function Gx(n,t,e){const s=n.style,i=ee(e);let r=!1;if(e&&!i){if(t)if(ee(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();e[a]==null&&Tu(s,a,"")}else for(const o in t)e[o]==null&&Tu(s,o,"");for(const o in e)o==="display"&&(r=!0),Tu(s,o,e[o])}else if(i){if(t!==e){const o=s[Vx];o&&(e+=";"+o),s.cssText=e,r=Ux.test(e)}}else t&&n.removeAttribute("style");od in n&&(n[od]=r?s.display:"",n[t0]&&(s.display="none"))}const lb=/\s*!important$/;function Tu(n,t,e){if(lt(e))e.forEach(s=>Tu(n,t,s));else if(e==null&&(e=""),t.startsWith("--"))n.setProperty(t,e);else{const s=Wx(n,t);lb.test(e)?n.setProperty(dc(s),e.replace(lb,""),"important"):n[s]=e}}const hb=["Webkit","Moz","ms"],Pf={};function Wx(n,t){const e=Pf[t];if(e)return e;let s=Pn(t);if(s!=="filter"&&s in n)return Pf[t]=s;s=Hd(s);for(let i=0;i<hb.length;i++){const r=hb[i]+s;if(r in n)return Pf[t]=r}return t}const ub="http://www.w3.org/1999/xlink";function Kx(n,t,e,s,i){if(s&&t.startsWith("xlink:"))e==null?n.removeAttributeNS(ub,t.slice(6,t.length)):n.setAttributeNS(ub,t,e);else{const r=sw(t);e==null||r&&!X_(e)?n.removeAttribute(t):n.setAttribute(t,r?"":e)}}function Xx(n,t,e,s,i,r,o){if(t==="innerHTML"||t==="textContent"){s&&o(s,i,r),n[t]=e??"";return}const a=n.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){const h=a==="OPTION"?n.getAttribute("value")||"":n.value,u=e??"";(h!==u||!("_value"in n))&&(n.value=u),e==null&&n.removeAttribute(t),n._value=e;return}let c=!1;if(e===""||e==null){const h=typeof n[t];h==="boolean"?e=X_(e):e==null&&h==="string"?(e="",c=!0):h==="number"&&(e=0,c=!0)}try{n[t]=e}catch{}c&&n.removeAttribute(t)}function Lr(n,t,e,s){n.addEventListener(t,e,s)}function Yx(n,t,e,s){n.removeEventListener(t,e,s)}const db=Symbol("_vei");function Zx(n,t,e,s,i=null){const r=n[db]||(n[db]={}),o=r[t];if(s&&o)o.value=s;else{const[a,c]=Jx(t);if(s){const h=r[t]=eE(s,i);Lr(n,a,h,c)}else o&&(Yx(n,a,o,c),r[t]=void 0)}}const fb=/(?:Once|Passive|Capture)$/;function Jx(n){let t;if(fb.test(n)){t={};let s;for(;s=n.match(fb);)n=n.slice(0,n.length-s[0].length),t[s[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):dc(n.slice(2)),t]}let Lf=0;const Qx=Promise.resolve(),tE=()=>Lf||(Qx.then(()=>Lf=0),Lf=Date.now());function eE(n,t){const e=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=e.attached)return;Rs(sE(s,e.value),t,5,[s])};return e.value=n,e.attached=tE(),e}function sE(n,t){if(lt(t)){const e=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{e.call(n),n._stopped=!0},t.map(s=>i=>!i._stopped&&s&&s(i))}else return t}const pb=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,nE=(n,t,e,s,i,r,o,a,c)=>{const h=i==="svg";t==="class"?jx(n,s,h):t==="style"?Gx(n,e,s):qd(t)?qg(t)||Zx(n,t,e,s,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):iE(n,t,s,h))?Xx(n,t,s,r,o,a,c):(t==="true-value"?n._trueValue=s:t==="false-value"&&(n._falseValue=s),Kx(n,t,s,h))};function iE(n,t,e,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in n&&pb(t)&&bt(e));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=n.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return pb(t)&&ee(e)?!1:t in n}const e0=new WeakMap,s0=new WeakMap,ad=Symbol("_moveCb"),gb=Symbol("_enterCb"),n0={name:"TransitionGroup",props:ae({},Bx,{tag:String,moveClass:String}),setup(n,{slots:t}){const e=Wv(),s=Cv();let i,r;return Rv(()=>{if(!i.length)return;const o=n.moveClass||`${n.name||"v"}-move`;if(!lE(i[0].el,e.vnode.el,o))return;i.forEach(oE),i.forEach(aE);const a=i.filter(cE);Qv(),a.forEach(c=>{const h=c.el,u=h.style;Bn(h,o),u.transform=u.webkitTransform=u.transitionDuration="";const d=h[ad]=f=>{f&&f.target!==h||(!f||/transform$/.test(f.propertyName))&&(h.removeEventListener("transitionend",d),h[ad]=null,Pi(h,o))};h.addEventListener("transitionend",d)})}),()=>{const o=Tt(n),a=Zv(o);let c=o.tag||ne;if(i=[],r)for(let h=0;h<r.length;h++){const u=r[h];u.el&&u.el instanceof Element&&(i.push(u),al(u,ol(u,a,s,e)),e0.set(u,u.el.getBoundingClientRect()))}r=t.default?Jg(t.default()):[];for(let h=0;h<r.length;h++){const u=r[h];u.key!=null&&al(u,ol(u,a,s,e))}return _t(c,null,r)}}},rE=n=>delete n.mode;n0.props;const i0=n0;function oE(n){const t=n.el;t[ad]&&t[ad](),t[gb]&&t[gb]()}function aE(n){s0.set(n,n.el.getBoundingClientRect())}function cE(n){const t=e0.get(n),e=s0.get(n),s=t.left-e.left,i=t.top-e.top;if(s||i){const r=n.el.style;return r.transform=r.webkitTransform=`translate(${s}px,${i}px)`,r.transitionDuration="0s",n}}function lE(n,t,e){const s=n.cloneNode(),i=n[lc];i&&i.forEach(a=>{a.split(/\s+/).forEach(c=>c&&s.classList.remove(c))}),e.split(/\s+/).forEach(a=>a&&s.classList.add(a)),s.style.display="none";const r=t.nodeType===1?t:t.parentNode;r.appendChild(s);const{hasTransform:o}=Jv(s);return r.removeChild(s),o}const cd=n=>{const t=n.props["onUpdate:modelValue"]||!1;return lt(t)?e=>xu(t,e):t};function hE(n){n.target.composing=!0}function mb(n){const t=n.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ha=Symbol("_assign"),r0={created(n,{modifiers:{lazy:t,trim:e,number:s}},i){n[ha]=cd(i);const r=s||i.props&&i.props.type==="number";Lr(n,t?"change":"input",o=>{if(o.target.composing)return;let a=n.value;e&&(a=a.trim()),r&&(a=sp(a)),n[ha](a)}),e&&Lr(n,"change",()=>{n.value=n.value.trim()}),t||(Lr(n,"compositionstart",hE),Lr(n,"compositionend",mb),Lr(n,"change",mb))},mounted(n,{value:t}){n.value=t??""},beforeUpdate(n,{value:t,modifiers:{lazy:e,trim:s,number:i}},r){if(n[ha]=cd(r),n.composing)return;const o=(i||n.type==="number")&&!/^0\d/.test(n.value)?sp(n.value):n.value,a=t??"";o!==a&&(document.activeElement===n&&n.type!=="range"&&(e||s&&n.value.trim()===a)||(n.value=a))}},o0={deep:!0,created(n,t,e){n[ha]=cd(e),Lr(n,"change",()=>{const s=n._modelValue,i=uE(n),r=n.checked,o=n[ha];if(lt(s)){const a=Y_(s,i),c=a!==-1;if(r&&!c)o(s.concat(i));else if(!r&&c){const h=[...s];h.splice(a,1),o(h)}}else if($d(s)){const a=new Set(s);r?a.add(i):a.delete(i),o(a)}else o(a0(n,r))})},mounted:bb,beforeUpdate(n,t,e){n[ha]=cd(e),bb(n,t,e)}};function bb(n,{value:t,oldValue:e},s){n._modelValue=t,lt(t)?n.checked=Y_(t,s.props.value)>-1:$d(t)?n.checked=t.has(s.props.value):t!==e&&(n.checked=jd(t,a0(n,!0)))}function uE(n){return"_value"in n?n._value:n.value}function a0(n,t){const e=t?"_trueValue":"_falseValue";return e in n?n[e]:t}const dE=["ctrl","shift","alt","meta"],fE={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,t)=>dE.some(e=>n[`${e}Key`]&&!t.includes(e))},gr=(n,t)=>{const e=n._withMods||(n._withMods={}),s=t.join(".");return e[s]||(e[s]=(i,...r)=>{for(let o=0;o<t.length;o++){const a=fE[t[o]];if(a&&a(i,t))return}return n(i,...r)})},pE=ae({patchProp:nE},$x);let _b;function gE(){return _b||(_b=yx(pE))}const mE=(...n)=>{const t=gE().createApp(...n),{mount:e}=t;return t.mount=s=>{const i=_E(s);if(!i)return;const r=t._component;!bt(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.innerHTML="";const o=e(i,!1,bE(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function bE(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function _E(n){return ee(n)?document.querySelector(n):n}const vE="/Logo%20Pemprov%20Jabar.png",yE="/assets/user-B0grYou3.png";/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Zo=typeof document<"u";function AE(n){return n.__esModule||n[Symbol.toStringTag]==="Module"}const It=Object.assign;function Mf(n,t){const e={};for(const s in t){const i=t[s];e[s]=en(i)?i.map(n):n(i)}return e}const Yc=()=>{},en=Array.isArray,c0=/#/g,wE=/&/g,xE=/\//g,EE=/=/g,CE=/\?/g,l0=/\+/g,kE=/%5B/g,SE=/%5D/g,h0=/%5E/g,TE=/%60/g,u0=/%7B/g,RE=/%7C/g,d0=/%7D/g,DE=/%20/g;function sm(n){return encodeURI(""+n).replace(RE,"|").replace(kE,"[").replace(SE,"]")}function PE(n){return sm(n).replace(u0,"{").replace(d0,"}").replace(h0,"^")}function bp(n){return sm(n).replace(l0,"%2B").replace(DE,"+").replace(c0,"%23").replace(wE,"%26").replace(TE,"`").replace(u0,"{").replace(d0,"}").replace(h0,"^")}function LE(n){return bp(n).replace(EE,"%3D")}function ME(n){return sm(n).replace(c0,"%23").replace(CE,"%3F")}function FE(n){return n==null?"":ME(n).replace(xE,"%2F")}function ll(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const IE=/\/$/,OE=n=>n.replace(IE,"");function Ff(n,t,e="/"){let s,i={},r="",o="";const a=t.indexOf("#");let c=t.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(s=t.slice(0,c),r=t.slice(c+1,a>-1?a:t.length),i=n(r)),a>-1&&(s=s||t.slice(0,a),o=t.slice(a,t.length)),s=BE(s??t,e),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:ll(o)}}function NE(n,t){const e=t.query?n(t.query):"";return t.path+(e&&"?")+e+(t.hash||"")}function vb(n,t){return!t||!n.toLowerCase().startsWith(t.toLowerCase())?n:n.slice(t.length)||"/"}function qE(n,t,e){const s=t.matched.length-1,i=e.matched.length-1;return s>-1&&s===i&&hc(t.matched[s],e.matched[i])&&f0(t.params,e.params)&&n(t.query)===n(e.query)&&t.hash===e.hash}function hc(n,t){return(n.aliasOf||n)===(t.aliasOf||t)}function f0(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const e in n)if(!$E(n[e],t[e]))return!1;return!0}function $E(n,t){return en(n)?yb(n,t):en(t)?yb(t,n):n===t}function yb(n,t){return en(t)?n.length===t.length&&n.every((e,s)=>e===t[s]):n.length===1&&n[0]===t}function BE(n,t){if(n.startsWith("/"))return n;if(!n)return t;const e=t.split("/"),s=n.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=e.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return e.slice(0,r).join("/")+"/"+s.slice(o).join("/")}var hl;(function(n){n.pop="pop",n.push="push"})(hl||(hl={}));var Zc;(function(n){n.back="back",n.forward="forward",n.unknown=""})(Zc||(Zc={}));function HE(n){if(!n)if(Zo){const t=document.querySelector("base");n=t&&t.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),OE(n)}const zE=/^[^#]+#/;function jE(n,t){return n.replace(zE,"#")+t}function VE(n,t){const e=document.documentElement.getBoundingClientRect(),s=n.getBoundingClientRect();return{behavior:t.behavior,left:s.left-e.left-(t.left||0),top:s.top-e.top-(t.top||0)}}const tf=()=>({left:window.scrollX,top:window.scrollY});function UE(n){let t;if("el"in n){const e=n.el,s=typeof e=="string"&&e.startsWith("#"),i=typeof e=="string"?s?document.getElementById(e.slice(1)):document.querySelector(e):e;if(!i)return;t=VE(i,n)}else t=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Ab(n,t){return(history.state?history.state.position-t:-1)+n}const _p=new Map;function GE(n,t){_p.set(n,t)}function WE(n){const t=_p.get(n);return _p.delete(n),t}let KE=()=>location.protocol+"//"+location.host;function p0(n,t){const{pathname:e,search:s,hash:i}=t,r=n.indexOf("#");if(r>-1){let a=i.includes(n.slice(r))?n.slice(r).length:1,c=i.slice(a);return c[0]!=="/"&&(c="/"+c),vb(c,"")}return vb(e,n)+s+i}function XE(n,t,e,s){let i=[],r=[],o=null;const a=({state:f})=>{const p=p0(n,location),g=e.value,m=t.value;let A=0;if(f){if(e.value=p,t.value=f,o&&o===g){o=null;return}A=m?f.position-m.position:0}else s(p);i.forEach(b=>{b(e.value,g,{delta:A,type:hl.pop,direction:A?A>0?Zc.forward:Zc.back:Zc.unknown})})};function c(){o=e.value}function h(f){i.push(f);const p=()=>{const g=i.indexOf(f);g>-1&&i.splice(g,1)};return r.push(p),p}function u(){const{history:f}=window;f.state&&f.replaceState(It({},f.state,{scroll:tf()}),"")}function d(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:h,destroy:d}}function wb(n,t,e,s=!1,i=!1){return{back:n,current:t,forward:e,replaced:s,position:window.history.length,scroll:i?tf():null}}function YE(n){const{history:t,location:e}=window,s={value:p0(n,e)},i={value:t.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(c,h,u){const d=n.indexOf("#"),f=d>-1?(e.host&&document.querySelector("base")?n:n.slice(d))+c:KE()+n+c;try{t[u?"replaceState":"pushState"](h,"",f),i.value=h}catch(p){console.error(p),e[u?"replace":"assign"](f)}}function o(c,h){const u=It({},t.state,wb(i.value.back,c,i.value.forward,!0),h,{position:i.value.position});r(c,u,!0),s.value=c}function a(c,h){const u=It({},i.value,t.state,{forward:c,scroll:tf()});r(u.current,u,!0);const d=It({},wb(s.value,c,null),{position:u.position+1},h);r(c,d,!1),s.value=c}return{location:s,state:i,push:a,replace:o}}function ZE(n){n=HE(n);const t=YE(n),e=XE(n,t.state,t.location,t.replace);function s(r,o=!0){o||e.pauseListeners(),history.go(r)}const i=It({location:"",base:n,go:s,createHref:jE.bind(null,n)},t,e);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function JE(n){return typeof n=="string"||n&&typeof n=="object"}function g0(n){return typeof n=="string"||typeof n=="symbol"}const Di={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},m0=Symbol("");var xb;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(xb||(xb={}));function uc(n,t){return It(new Error,{type:n,[m0]:!0},t)}function Nn(n,t){return n instanceof Error&&m0 in n&&(t==null||!!(n.type&t))}const Eb="[^/]+?",QE={sensitive:!1,strict:!1,start:!0,end:!0},tC=/[.+*?^${}()[\]/\\]/g;function eC(n,t){const e=It({},QE,t),s=[];let i=e.start?"^":"";const r=[];for(const h of n){const u=h.length?[]:[90];e.strict&&!h.length&&(i+="/");for(let d=0;d<h.length;d++){const f=h[d];let p=40+(e.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(tC,"\\$&"),p+=40;else if(f.type===1){const{value:g,repeatable:m,optional:A,regexp:b}=f;r.push({name:g,repeatable:m,optional:A});const w=b||Eb;if(w!==Eb){p+=10;try{new RegExp(`(${w})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${g}" (${w}): `+k.message)}}let C=m?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;d||(C=A&&h.length<2?`(?:/${C})`:"/"+C),A&&(C+="?"),i+=C,p+=20,A&&(p+=-8),m&&(p+=-20),w===".*"&&(p+=-50)}u.push(p)}s.push(u)}if(e.strict&&e.end){const h=s.length-1;s[h][s[h].length-1]+=.7000000000000001}e.strict||(i+="/?"),e.end?i+="$":e.strict&&(i+="(?:/|$)");const o=new RegExp(i,e.sensitive?"":"i");function a(h){const u=h.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const p=u[f]||"",g=r[f-1];d[g.name]=p&&g.repeatable?p.split("/"):p}return d}function c(h){let u="",d=!1;for(const f of n){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const p of f)if(p.type===0)u+=p.value;else if(p.type===1){const{value:g,repeatable:m,optional:A}=p,b=g in h?h[g]:"";if(en(b)&&!m)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const w=en(b)?b.join("/"):b;if(!w)if(A)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${g}"`);u+=w}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:c}}function sC(n,t){let e=0;for(;e<n.length&&e<t.length;){const s=t[e]-n[e];if(s)return s;e++}return n.length<t.length?n.length===1&&n[0]===80?-1:1:n.length>t.length?t.length===1&&t[0]===80?1:-1:0}function nC(n,t){let e=0;const s=n.score,i=t.score;for(;e<s.length&&e<i.length;){const r=sC(s[e],i[e]);if(r)return r;e++}if(Math.abs(i.length-s.length)===1){if(Cb(s))return 1;if(Cb(i))return-1}return i.length-s.length}function Cb(n){const t=n[n.length-1];return n.length>0&&t[t.length-1]<0}const iC={type:0,value:""},rC=/[a-zA-Z0-9_]/;function oC(n){if(!n)return[[]];if(n==="/")return[[iC]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function t(p){throw new Error(`ERR (${e})/"${h}": ${p}`)}let e=0,s=e;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,c,h="",u="";function d(){h&&(e===0?r.push({type:0,value:h}):e===1||e===2||e===3?(r.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:h,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),h="")}function f(){h+=c}for(;a<n.length;){if(c=n[a++],c==="\\"&&e!==2){s=e,e=4;continue}switch(e){case 0:c==="/"?(h&&d(),o()):c===":"?(d(),e=1):f();break;case 4:f(),e=s;break;case 1:c==="("?e=2:rC.test(c)?f():(d(),e=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:e=3:u+=c;break;case 3:d(),e=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:t("Unknown state");break}}return e===2&&t(`Unfinished custom RegExp for param "${h}"`),d(),o(),i}function aC(n,t,e){const s=eC(oC(n.path),e),i=It(s,{record:n,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function cC(n,t){const e=[],s=new Map;t=Tb({strict:!1,end:!0,sensitive:!1},t);function i(u){return s.get(u)}function r(u,d,f){const p=!f,g=lC(u);g.aliasOf=f&&f.record;const m=Tb(t,u),A=[g];if("alias"in u){const C=typeof u.alias=="string"?[u.alias]:u.alias;for(const k of C)A.push(It({},g,{components:f?f.record.components:g.components,path:k,aliasOf:f?f.record:g}))}let b,w;for(const C of A){const{path:k}=C;if(d&&k[0]!=="/"){const R=d.record.path,E=R[R.length-1]==="/"?"":"/";C.path=d.record.path+(k&&E+k)}if(b=aC(C,d,m),f?f.alias.push(b):(w=w||b,w!==b&&w.alias.push(b),p&&u.name&&!Sb(b)&&o(u.name)),g.children){const R=g.children;for(let E=0;E<R.length;E++)r(R[E],b,f&&f.children[E])}f=f||b,(b.record.components&&Object.keys(b.record.components).length||b.record.name||b.record.redirect)&&c(b)}return w?()=>{o(w)}:Yc}function o(u){if(g0(u)){const d=s.get(u);d&&(s.delete(u),e.splice(e.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=e.indexOf(u);d>-1&&(e.splice(d,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return e}function c(u){let d=0;for(;d<e.length&&nC(u,e[d])>=0&&(u.record.path!==e[d].record.path||!b0(u,e[d]));)d++;e.splice(d,0,u),u.record.name&&!Sb(u)&&s.set(u.record.name,u)}function h(u,d){let f,p={},g,m;if("name"in u&&u.name){if(f=s.get(u.name),!f)throw uc(1,{location:u});m=f.record.name,p=It(kb(d.params,f.keys.filter(w=>!w.optional).concat(f.parent?f.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),u.params&&kb(u.params,f.keys.map(w=>w.name))),g=f.stringify(p)}else if(u.path!=null)g=u.path,f=e.find(w=>w.re.test(g)),f&&(p=f.parse(g),m=f.record.name);else{if(f=d.name?s.get(d.name):e.find(w=>w.re.test(d.path)),!f)throw uc(1,{location:u,currentLocation:d});m=f.record.name,p=It({},d.params,u.params),g=f.stringify(p)}const A=[];let b=f;for(;b;)A.unshift(b.record),b=b.parent;return{name:m,path:g,params:p,matched:A,meta:uC(A)}}return n.forEach(u=>r(u)),{addRoute:r,resolve:h,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function kb(n,t){const e={};for(const s of t)s in n&&(e[s]=n[s]);return e}function lC(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:hC(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}}}function hC(n){const t={},e=n.props||!1;if("component"in n)t.default=e;else for(const s in n.components)t[s]=typeof e=="object"?e[s]:e;return t}function Sb(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function uC(n){return n.reduce((t,e)=>It(t,e.meta),{})}function Tb(n,t){const e={};for(const s in n)e[s]=s in t?t[s]:n[s];return e}function b0(n,t){return t.children.some(e=>e===n||b0(n,e))}function dC(n){const t={};if(n===""||n==="?")return t;const s=(n[0]==="?"?n.slice(1):n).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(l0," "),o=r.indexOf("="),a=ll(o<0?r:r.slice(0,o)),c=o<0?null:ll(r.slice(o+1));if(a in t){let h=t[a];en(h)||(h=t[a]=[h]),h.push(c)}else t[a]=c}return t}function Rb(n){let t="";for(let e in n){const s=n[e];if(e=LE(e),s==null){s!==void 0&&(t+=(t.length?"&":"")+e);continue}(en(s)?s.map(r=>r&&bp(r)):[s&&bp(s)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+e,r!=null&&(t+="="+r))})}return t}function fC(n){const t={};for(const e in n){const s=n[e];s!==void 0&&(t[e]=en(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return t}const pC=Symbol(""),Db=Symbol(""),ef=Symbol(""),_0=Symbol(""),vp=Symbol("");function xc(){let n=[];function t(s){return n.push(s),()=>{const i=n.indexOf(s);i>-1&&n.splice(i,1)}}function e(){n=[]}return{add:t,list:()=>n.slice(),reset:e}}function $i(n,t,e,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((a,c)=>{const h=f=>{f===!1?c(uc(4,{from:e,to:t})):f instanceof Error?c(f):JE(f)?c(uc(2,{from:t,to:f})):(o&&s.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},u=r(()=>n.call(s&&s.instances[i],t,e,h));let d=Promise.resolve(u);n.length<3&&(d=d.then(h)),d.catch(f=>c(f))})}function If(n,t,e,s,i=r=>r()){const r=[];for(const o of n)for(const a in o.components){let c=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(gC(c)){const u=(c.__vccOpts||c)[t];u&&r.push($i(u,e,s,o,a,i))}else{let h=c();r.push(()=>h.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const d=AE(u)?u.default:u;o.components[a]=d;const p=(d.__vccOpts||d)[t];return p&&$i(p,e,s,o,a,i)()}))}}return r}function gC(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function Pb(n){const t=Tn(ef),e=Tn(_0),s=ke(()=>{const c=Kt(n.to);return t.resolve(c)}),i=ke(()=>{const{matched:c}=s.value,{length:h}=c,u=c[h-1],d=e.matched;if(!u||!d.length)return-1;const f=d.findIndex(hc.bind(null,u));if(f>-1)return f;const p=Lb(c[h-2]);return h>1&&Lb(u)===p&&d[d.length-1].path!==p?d.findIndex(hc.bind(null,c[h-2])):f}),r=ke(()=>i.value>-1&&_C(e.params,s.value.params)),o=ke(()=>i.value>-1&&i.value===e.matched.length-1&&f0(e.params,s.value.params));function a(c={}){return bC(c)?t[Kt(n.replace)?"replace":"push"](Kt(n.to)).catch(Yc):Promise.resolve()}return{route:s,href:ke(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}const mC=es({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Pb,setup(n,{slots:t}){const e=Xh(Pb(n)),{options:s}=Tn(ef),i=ke(()=>({[Mb(n.activeClass,s.linkActiveClass,"router-link-active")]:e.isActive,[Mb(n.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:e.isExactActive}));return()=>{const r=t.default&&t.default(e);return n.custom?r:Qd("a",{"aria-current":e.isExactActive?n.ariaCurrentValue:null,href:e.href,onClick:e.navigate,class:i.value},r)}}}),kr=mC;function bC(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const t=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return n.preventDefault&&n.preventDefault(),!0}}function _C(n,t){for(const e in t){const s=t[e],i=n[e];if(typeof s=="string"){if(s!==i)return!1}else if(!en(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function Lb(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const Mb=(n,t,e)=>n??t??e,vC=es({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:t,slots:e}){const s=Tn(vp),i=ke(()=>n.route||s.value),r=Tn(Db,0),o=ke(()=>{let h=Kt(r);const{matched:u}=i.value;let d;for(;(d=u[h])&&!d.components;)h++;return h}),a=ke(()=>i.value.matched[o.value]);Cu(Db,ke(()=>o.value+1)),Cu(pC,a),Cu(vp,i);const c=dt();return Uc(()=>[c.value,a.value,n.name],([h,u,d],[f,p,g])=>{u&&(u.instances[d]=h,p&&p!==u&&h&&h===f&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),h&&u&&(!p||!hc(u,p)||!f)&&(u.enterCallbacks[d]||[]).forEach(m=>m(h))},{flush:"post"}),()=>{const h=i.value,u=n.name,d=a.value,f=d&&d.components[u];if(!f)return Fb(e.default,{Component:f,route:h});const p=d.props[u],g=p?p===!0?h.params:typeof p=="function"?p(h):p:null,A=Qd(f,It({},g,t,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(d.instances[u]=null)},ref:c}));return Fb(e.default,{Component:A,route:h})||A}}});function Fb(n,t){if(!n)return null;const e=n(t);return e.length===1?e[0]:e}const yC=vC;function AC(n){const t=cC(n.routes,n),e=n.parseQuery||dC,s=n.stringifyQuery||Rb,i=n.history,r=xc(),o=xc(),a=xc(),c=Tw(Di);let h=Di;Zo&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Mf.bind(null,P=>""+P),d=Mf.bind(null,FE),f=Mf.bind(null,ll);function p(P,K){let Y,rt;return g0(P)?(Y=t.getRecordMatcher(P),rt=K):rt=P,t.addRoute(rt,Y)}function g(P){const K=t.getRecordMatcher(P);K&&t.removeRoute(K)}function m(){return t.getRoutes().map(P=>P.record)}function A(P){return!!t.getRecordMatcher(P)}function b(P,K){if(K=It({},K||c.value),typeof P=="string"){const S=Ff(e,P,K.path),D=t.resolve({path:S.path},K),O=i.createHref(S.fullPath);return It(S,D,{params:f(D.params),hash:ll(S.hash),redirectedFrom:void 0,href:O})}let Y;if(P.path!=null)Y=It({},P,{path:Ff(e,P.path,K.path).path});else{const S=It({},P.params);for(const D in S)S[D]==null&&delete S[D];Y=It({},P,{params:d(S)}),K.params=d(K.params)}const rt=t.resolve(Y,K),Mt=P.hash||"";rt.params=u(f(rt.params));const Zt=NE(s,It({},P,{hash:PE(Mt),path:rt.path})),x=i.createHref(Zt);return It({fullPath:Zt,hash:Mt,query:s===Rb?fC(P.query):P.query||{}},rt,{redirectedFrom:void 0,href:x})}function w(P){return typeof P=="string"?Ff(e,P,c.value.path):It({},P)}function C(P,K){if(h!==P)return uc(8,{from:K,to:P})}function k(P){return L(P)}function R(P){return k(It(w(P),{replace:!0}))}function E(P){const K=P.matched[P.matched.length-1];if(K&&K.redirect){const{redirect:Y}=K;let rt=typeof Y=="function"?Y(P):Y;return typeof rt=="string"&&(rt=rt.includes("?")||rt.includes("#")?rt=w(rt):{path:rt},rt.params={}),It({query:P.query,hash:P.hash,params:rt.path!=null?{}:P.params},rt)}}function L(P,K){const Y=h=b(P),rt=c.value,Mt=P.state,Zt=P.force,x=P.replace===!0,S=E(Y);if(S)return L(It(w(S),{state:typeof S=="object"?It({},Mt,S.state):Mt,force:Zt,replace:x}),K||Y);const D=Y;D.redirectedFrom=K;let O;return!Zt&&qE(s,rt,Y)&&(O=uc(16,{to:D,from:rt}),Ne(rt,rt,!0,!1)),(O?Promise.resolve(O):N(D,rt)).catch(F=>Nn(F)?Nn(F,2)?F:ss(F):Z(F,D,rt)).then(F=>{if(F){if(Nn(F,2))return L(It({replace:x},w(F.to),{state:typeof F.to=="object"?It({},Mt,F.to.state):Mt,force:Zt}),K||D)}else F=H(D,rt,!0,x,Mt);return B(D,rt,F),F})}function M(P,K){const Y=C(P,K);return Y?Promise.reject(Y):Promise.resolve()}function U(P){const K=Ms.values().next().value;return K&&typeof K.runWithContext=="function"?K.runWithContext(P):P()}function N(P,K){let Y;const[rt,Mt,Zt]=wC(P,K);Y=If(rt.reverse(),"beforeRouteLeave",P,K);for(const S of rt)S.leaveGuards.forEach(D=>{Y.push($i(D,P,K))});const x=M.bind(null,P,K);return Y.push(x),Gt(Y).then(()=>{Y=[];for(const S of r.list())Y.push($i(S,P,K));return Y.push(x),Gt(Y)}).then(()=>{Y=If(Mt,"beforeRouteUpdate",P,K);for(const S of Mt)S.updateGuards.forEach(D=>{Y.push($i(D,P,K))});return Y.push(x),Gt(Y)}).then(()=>{Y=[];for(const S of Zt)if(S.beforeEnter)if(en(S.beforeEnter))for(const D of S.beforeEnter)Y.push($i(D,P,K));else Y.push($i(S.beforeEnter,P,K));return Y.push(x),Gt(Y)}).then(()=>(P.matched.forEach(S=>S.enterCallbacks={}),Y=If(Zt,"beforeRouteEnter",P,K,U),Y.push(x),Gt(Y))).then(()=>{Y=[];for(const S of o.list())Y.push($i(S,P,K));return Y.push(x),Gt(Y)}).catch(S=>Nn(S,8)?S:Promise.reject(S))}function B(P,K,Y){a.list().forEach(rt=>U(()=>rt(P,K,Y)))}function H(P,K,Y,rt,Mt){const Zt=C(P,K);if(Zt)return Zt;const x=K===Di,S=Zo?history.state:{};Y&&(rt||x?i.replace(P.fullPath,It({scroll:x&&S&&S.scroll},Mt)):i.push(P.fullPath,Mt)),c.value=P,Ne(P,K,Y,x),ss()}let nt;function I(){nt||(nt=i.listen((P,K,Y)=>{if(!vs.listening)return;const rt=b(P),Mt=E(rt);if(Mt){L(It(Mt,{replace:!0}),rt).catch(Yc);return}h=rt;const Zt=c.value;Zo&&GE(Ab(Zt.fullPath,Y.delta),tf()),N(rt,Zt).catch(x=>Nn(x,12)?x:Nn(x,2)?(L(x.to,rt).then(S=>{Nn(S,20)&&!Y.delta&&Y.type===hl.pop&&i.go(-1,!1)}).catch(Yc),Promise.reject()):(Y.delta&&i.go(-Y.delta,!1),Z(x,rt,Zt))).then(x=>{x=x||H(rt,Zt,!1),x&&(Y.delta&&!Nn(x,8)?i.go(-Y.delta,!1):Y.type===hl.pop&&Nn(x,20)&&i.go(-1,!1)),B(rt,Zt,x)}).catch(Yc)}))}let ot=xc(),tt=xc(),V;function Z(P,K,Y){ss(P);const rt=tt.list();return rt.length?rt.forEach(Mt=>Mt(P,K,Y)):console.error(P),Promise.reject(P)}function Ue(){return V&&c.value!==Di?Promise.resolve():new Promise((P,K)=>{ot.add([P,K])})}function ss(P){return V||(V=!P,I(),ot.list().forEach(([K,Y])=>P?Y(P):K()),ot.reset()),P}function Ne(P,K,Y,rt){const{scrollBehavior:Mt}=n;if(!Zo||!Mt)return Promise.resolve();const Zt=!Y&&WE(Ab(P.fullPath,0))||(rt||!Y)&&history.state&&history.state.scroll||null;return bv().then(()=>Mt(P,K,Zt)).then(x=>x&&UE(x)).catch(x=>Z(x,P,K))}const Pt=P=>i.go(P);let Xt;const Ms=new Set,vs={currentRoute:c,listening:!0,addRoute:p,removeRoute:g,hasRoute:A,getRoutes:m,resolve:b,options:n,push:k,replace:R,go:Pt,back:()=>Pt(-1),forward:()=>Pt(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:tt.add,isReady:Ue,install(P){const K=this;P.component("RouterLink",kr),P.component("RouterView",yC),P.config.globalProperties.$router=K,Object.defineProperty(P.config.globalProperties,"$route",{enumerable:!0,get:()=>Kt(c)}),Zo&&!Xt&&c.value===Di&&(Xt=!0,k(i.location).catch(Mt=>{}));const Y={};for(const Mt in Di)Object.defineProperty(Y,Mt,{get:()=>c.value[Mt],enumerable:!0});P.provide(ef,K),P.provide(_0,lv(Y)),P.provide(vp,c);const rt=P.unmount;Ms.add(P),P.unmount=function(){Ms.delete(P),Ms.size<1&&(h=Di,nt&&nt(),nt=null,c.value=Di,Xt=!1,V=!1),rt()}}};function Gt(P){return P.reduce((K,Y)=>K.then(()=>U(Y)),Promise.resolve())}return vs}function wC(n,t){const e=[],s=[],i=[],r=Math.max(t.matched.length,n.matched.length);for(let o=0;o<r;o++){const a=t.matched[o];a&&(n.matched.find(h=>hc(h,a))?s.push(a):e.push(a));const c=n.matched[o];c&&(t.matched.find(h=>hc(h,c))||i.push(c))}return[e,s,i]}function fc(){return Tn(ef)}const nm=n=>(Ci("data-v-5b09fa30"),n=n(),ki(),n),xC={id:"header_container",class:"header_container"},EC=nm(()=>T("img",{src:vE,alt:"Logo",class:"logo_container"},null,-1)),CC=[EC],kC={id:"tittle_logo",class:"pemprov_container"},SC=nm(()=>T("br",null,null,-1)),TC={class:"menu_container"},RC={class:"menu_item"},DC={class:"menu_item"},PC={class:"menu_item"},LC={class:"menu_item"},MC={class:"menu_item"},FC=nm(()=>T("img",{class:"user-icon",src:yE},null,-1)),IC=es({__name:"HeaderContainer",setup(n){return(t,e)=>($(),G("div",xC,[T("div",{class:"logo_container",onClick:e[0]||(e[0]=()=>{})},CC),T("div",kC,[T("h3",null,[_t(Kt(kr),{to:"/"},{default:ms(()=>[Ot(" Pemerintah "),SC,Ot(" Provinsi Jawa Barat ")]),_:1})])]),T("div",TC,[T("div",RC,[_t(Kt(kr),{class:"put_low",to:"/"},{default:ms(()=>[Ot("Home")]),_:1})]),T("div",DC,[_t(Kt(kr),{class:"put_low",to:"/admin"},{default:ms(()=>[Ot("Admin")]),_:1})]),T("div",PC,[_t(Kt(kr),{class:"put_low",to:"/"},{default:ms(()=>[Ot("Documentation")]),_:1})]),T("div",LC,[_t(Kt(kr),{class:"put_low",to:"/"},{default:ms(()=>[Ot("Source Code")]),_:1})]),T("div",MC,[_t(Kt(kr),{class:"put_low",to:"/"},{default:ms(()=>[Ot(" Login "),FC]),_:1})])])]))}}),sn=(n,t)=>{const e=n.__vccOpts||n;for(const[s,i]of t)e[s]=i;return e},OC=sn(IC,[["__scopeId","data-v-5b09fa30"]]),NC={};function qC(n,t){return $(),G("div")}const $C=sn(NC,[["render",qC]]),BC={id:"outer_container"},HC={id:"main_container"},zC={id:"body_container"},jC=es({__name:"App",setup(n){return(t,e)=>{const s=zw("RouterView");return $(),G("div",BC,[T("div",HC,[_t(OC),T("div",zC,[_t(s)]),_t($C)])])}}}),VC=sn(jC,[["__scopeId","data-v-d2f390f9"]]),v0="/assets/infographic-BgsbIXYi.gif",y0="/assets/sun-DIFx7g1s.gif",UC="/assets/connection-C5aI2awN.gif",Fn=n=>(Ci("data-v-5cf4c5b2"),n=n(),ki(),n),GC=Fn(()=>T("div",{class:"header_title_container"},[T("h1",{class:"main_tittle right_aligned_text"},[Ot("Smart "),T("span",{class:"green_color"},"Asistant ")]),T("h2",{class:"main_tittle right_aligned_text"},"Pemerintah Provinsi Jawa Barat")],-1)),WC=Fn(()=>T("h2",{class:"card_title"},"Matching Penugasan BUMD",-1)),KC=Fn(()=>T("img",{class:"card_image",src:v0,alt:""},null,-1)),XC=Fn(()=>T("p",null,"Sistem pintar yang dapat membantu memetakan potensi penugasan BUMD sesuai dengan Tujuan dan Ruang Lingkup Pendirian",-1)),YC=[WC,KC,XC],ZC=Fn(()=>T("h2",{class:"card_title"},"Chatbot Pemanfaatan Aset",-1)),JC=Fn(()=>T("img",{class:"card_image",src:y0,alt:""},null,-1)),QC=Fn(()=>T("p",null,"Asisten pintar yang dapat membantu menjawab pertanyaan terkait peraturan dan kebijakan terkait pemanfaatan aset",-1)),tk=[ZC,JC,QC],ek=Fn(()=>T("h2",{class:"card_title"},"Kelola Dokumen",-1)),sk=Fn(()=>T("img",{class:"card_image",src:UC,alt:""},null,-1)),nk=Fn(()=>T("p",null,"Sistem pintar yang dapat membantu menjawab pertanyaan dan memahami terkait dokumen hukum di lingkungan Pemerintah Provinsi Jawa Barat",-1)),ik=[ek,sk,nk],rk=es({__name:"HomeView",setup(n){const t=fc();function e(){console.log("navigateToBUMD"),t.push("/bumd")}function s(){console.log("navigateToAset"),t.push("/aset")}function i(){console.log("navigateToDocument"),t.push("/admin")}return(r,o)=>($(),G("div",null,[T("div",{class:"main_container right_aligned_text"},[GC,T("div",{class:"tools_card_container"},[T("div",{class:"tools_card",onClick:e},YC),T("div",{class:"tools_card",onClick:s},tk),T("div",{class:"tools_card",onClick:i},ik)])])]))}}),ok=sn(rk,[["__scopeId","data-v-5cf4c5b2"]]),ak="/assets/infographic-C7RQHPPw.png",pc="/assets/work-in-progress-DTNJnZ4k.gif";var ck=Object.defineProperty,lk=Object.defineProperties,hk=Object.getOwnPropertyDescriptors,Ib=Object.getOwnPropertySymbols,uk=Object.prototype.hasOwnProperty,dk=Object.prototype.propertyIsEnumerable,Ob=(n,t,e)=>t in n?ck(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,Xo=(n,t)=>{for(var e in t||(t={}))uk.call(t,e)&&Ob(n,e,t[e]);if(Ib)for(var e of Ib(t))dk.call(t,e)&&Ob(n,e,t[e]);return n},Nb=(n,t)=>lk(n,hk(t));const fk={props:{autoscroll:{type:Boolean,default:!0}},watch:{typeAheadPointer(){this.autoscroll&&this.maybeAdjustScroll()},open(n){this.autoscroll&&n&&this.$nextTick(()=>this.maybeAdjustScroll())}},methods:{maybeAdjustScroll(){var n;const t=((n=this.$refs.dropdownMenu)==null?void 0:n.children[this.typeAheadPointer])||!1;if(t){const e=this.getDropdownViewport(),{top:s,bottom:i,height:r}=t.getBoundingClientRect();if(s<e.top)return this.$refs.dropdownMenu.scrollTop=t.offsetTop;if(i>e.bottom)return this.$refs.dropdownMenu.scrollTop=t.offsetTop-(e.height-r)}},getDropdownViewport(){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.getBoundingClientRect():{height:0,top:0,bottom:0}}}},pk={data(){return{typeAheadPointer:-1}},watch:{filteredOptions(){for(let n=0;n<this.filteredOptions.length;n++)if(this.selectable(this.filteredOptions[n])){this.typeAheadPointer=n;break}},open(n){n&&this.typeAheadToLastSelected()},selectedValue(){this.open&&this.typeAheadToLastSelected()}},methods:{typeAheadUp(){for(let n=this.typeAheadPointer-1;n>=0;n--)if(this.selectable(this.filteredOptions[n])){this.typeAheadPointer=n;break}},typeAheadDown(){for(let n=this.typeAheadPointer+1;n<this.filteredOptions.length;n++)if(this.selectable(this.filteredOptions[n])){this.typeAheadPointer=n;break}},typeAheadSelect(){const n=this.filteredOptions[this.typeAheadPointer];n&&this.selectable(n)&&this.select(n)},typeAheadToLastSelected(){this.typeAheadPointer=this.selectedValue.length!==0?this.filteredOptions.indexOf(this.selectedValue[this.selectedValue.length-1]):-1}}},gk={props:{loading:{type:Boolean,default:!1}},data(){return{mutableLoading:!1}},watch:{search(){this.$emit("search",this.search,this.toggleLoading)},loading(n){this.mutableLoading=n}},methods:{toggleLoading(n=null){return n==null?this.mutableLoading=!this.mutableLoading:this.mutableLoading=n}}},im=(n,t)=>{const e=n.__vccOpts||n;for(const[s,i]of t)e[s]=i;return e},mk={},bk={xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"},_k=T("path",{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"},null,-1),vk=[_k];function yk(n,t){return $(),G("svg",bk,vk)}const Ak=im(mk,[["render",yk]]),wk={},xk={xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10"},Ek=T("path",{d:"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z"},null,-1),Ck=[Ek];function kk(n,t){return $(),G("svg",xk,Ck)}const Sk=im(wk,[["render",kk]]),qb={Deselect:Ak,OpenIndicator:Sk},Tk={mounted(n,{instance:t}){if(t.appendToBody){const{height:e,top:s,left:i,width:r}=t.$refs.toggle.getBoundingClientRect();let o=window.scrollX||window.pageXOffset,a=window.scrollY||window.pageYOffset;n.unbindPosition=t.calculatePosition(n,t,{width:r+"px",left:o+i+"px",top:a+s+e+"px"}),document.body.appendChild(n)}},unmounted(n,{instance:t}){t.appendToBody&&(n.unbindPosition&&typeof n.unbindPosition=="function"&&n.unbindPosition(),n.parentNode&&n.parentNode.removeChild(n))}};function Rk(n){const t={};return Object.keys(n).sort().forEach(e=>{t[e]=n[e]}),JSON.stringify(t)}let Dk=0;function Pk(){return++Dk}const Lk={components:Xo({},qb),directives:{appendToBody:Tk},mixins:[fk,pk,gk],compatConfig:{MODE:3},emits:["open","close","update:modelValue","search","search:compositionstart","search:compositionend","search:keydown","search:blur","search:focus","search:input","option:created","option:selecting","option:selected","option:deselecting","option:deselected"],props:{modelValue:{},components:{type:Object,default:()=>({})},options:{type:Array,default(){return[]}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},deselectFromDropdown:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},transition:{type:String,default:"vs__fade"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:"label"},autocomplete:{type:String,default:"off"},reduce:{type:Function,default:n=>n},selectable:{type:Function,default:n=>!0},getOptionLabel:{type:Function,default(n){return typeof n=="object"?n.hasOwnProperty(this.label)?n[this.label]:console.warn(`[vue-select warn]: Label key "option.${this.label}" does not exist in options object ${JSON.stringify(n)}.
https://vue-select.org/api/props.html#getoptionlabel`):n}},getOptionKey:{type:Function,default(n){if(typeof n!="object")return n;try{return n.hasOwnProperty("id")?n.id:Rk(n)}catch(t){return console.warn(`[vue-select warn]: Could not stringify this option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.
https://vue-select.org/api/props.html#getoptionkey`,n,t)}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect()}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default(n,t,e){return(t||"").toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1}},filter:{type:Function,default(n,t){return n.filter(e=>{let s=this.getOptionLabel(e);return typeof s=="number"&&(s=s.toString()),this.filterBy(e,s,t)})}},createOption:{type:Function,default(n){return typeof this.optionList[0]=="object"?{[this.label]:n}:n}},resetOnOptionsChange:{default:!1,validator:n=>["function","boolean"].includes(typeof n)},clearSearchOnBlur:{type:Function,default:function({clearSearchOnSelect:n,multiple:t}){return n&&!t}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:"auto"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:()=>[13]},searchInputQuerySelector:{type:String,default:"[type=search]"},mapKeydown:{type:Function,default:(n,t)=>n},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default(n,t,{width:e,top:s,left:i}){n.style.top=s,n.style.left=i,n.style.width=e}},dropdownShouldOpen:{type:Function,default({noDrop:n,open:t,mutableLoading:e}){return n?!1:t&&!e}},uid:{type:[String,Number],default:()=>Pk()}},data(){return{search:"",open:!1,isComposing:!1,pushedTags:[],_value:[],deselectButtons:[]}},computed:{isReducingValues(){return this.$props.reduce!==this.$options.props.reduce.default},isTrackingValues(){return typeof this.modelValue>"u"||this.isReducingValues},selectedValue(){let n=this.modelValue;return this.isTrackingValues&&(n=this.$data._value),n!=null&&n!==""?[].concat(n):[]},optionList(){return this.options.concat(this.pushTags?this.pushedTags:[])},searchEl(){return this.$slots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope(){const n={search:this.search,loading:this.loading,searching:this.searching,filteredOptions:this.filteredOptions};return{search:{attributes:Xo({disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,id:this.inputId,"aria-autocomplete":"list","aria-labelledby":`vs${this.uid}__combobox`,"aria-controls":`vs${this.uid}__listbox`,ref:"search",type:"search",autocomplete:this.autocomplete,value:this.search},this.dropdownOpen&&this.filteredOptions[this.typeAheadPointer]?{"aria-activedescendant":`vs${this.uid}__option-${this.typeAheadPointer}`}:{}),events:{compositionstart:()=>this.isComposing=!0,compositionend:()=>this.isComposing=!1,keydown:this.onSearchKeyDown,blur:this.onSearchBlur,focus:this.onSearchFocus,input:t=>this.search=t.target.value}},spinner:{loading:this.mutableLoading},noOptions:{search:this.search,loading:this.mutableLoading,searching:this.searching},openIndicator:{attributes:{ref:"openIndicator",role:"presentation",class:"vs__open-indicator"}},listHeader:n,listFooter:n,header:Nb(Xo({},n),{deselect:this.deselect}),footer:Nb(Xo({},n),{deselect:this.deselect})}},childComponents(){return Xo(Xo({},qb),this.components)},stateClasses(){return{"vs--open":this.dropdownOpen,"vs--single":!this.multiple,"vs--multiple":this.multiple,"vs--searching":this.searching&&!this.noDrop,"vs--searchable":this.searchable&&!this.noDrop,"vs--unsearchable":!this.searchable,"vs--loading":this.mutableLoading,"vs--disabled":this.disabled}},searching(){return!!this.search},dropdownOpen(){return this.dropdownShouldOpen(this)},searchPlaceholder(){return this.isValueEmpty&&this.placeholder?this.placeholder:void 0},filteredOptions(){const n=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return n;const t=this.search.length?this.filter(n,this.search,this):n;if(this.taggable&&this.search.length){const e=this.createOption(this.search);this.optionExists(e)||t.unshift(e)}return t},isValueEmpty(){return this.selectedValue.length===0},showClearButton(){return!this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}},watch:{options(n,t){const e=()=>typeof this.resetOnOptionsChange=="function"?this.resetOnOptionsChange(n,t,this.selectedValue):this.resetOnOptionsChange;!this.taggable&&e()&&this.clearSelection(),this.modelValue&&this.isTrackingValues&&this.setInternalValueFromOptions(this.modelValue)},modelValue:{immediate:!0,handler(n){this.isTrackingValues&&this.setInternalValueFromOptions(n)}},multiple(){this.clearSelection()},open(n){this.$emit(n?"open":"close")}},created(){this.mutableLoading=this.loading},methods:{setInternalValueFromOptions(n){Array.isArray(n)?this.$data._value=n.map(t=>this.findOptionFromReducedValue(t)):this.$data._value=this.findOptionFromReducedValue(n)},select(n){this.$emit("option:selecting",n),this.isOptionSelected(n)?this.deselectFromDropdown&&(this.clearable||this.multiple&&this.selectedValue.length>1)&&this.deselect(n):(this.taggable&&!this.optionExists(n)&&(this.$emit("option:created",n),this.pushTag(n)),this.multiple&&(n=this.selectedValue.concat(n)),this.updateValue(n),this.$emit("option:selected",n)),this.onAfterSelect(n)},deselect(n){this.$emit("option:deselecting",n),this.updateValue(this.selectedValue.filter(t=>!this.optionComparator(t,n))),this.$emit("option:deselected",n)},clearSelection(){this.updateValue(this.multiple?[]:null)},onAfterSelect(n){this.closeOnSelect&&(this.open=!this.open,this.searchEl.blur()),this.clearSearchOnSelect&&(this.search="")},updateValue(n){typeof this.modelValue>"u"&&(this.$data._value=n),n!==null&&(Array.isArray(n)?n=n.map(t=>this.reduce(t)):n=this.reduce(n)),this.$emit("update:modelValue",n)},toggleDropdown(n){const t=n.target!==this.searchEl;t&&n.preventDefault();const e=[...this.deselectButtons||[],this.$refs.clearButton];if(this.searchEl===void 0||e.filter(Boolean).some(s=>s.contains(n.target)||s===n.target)){n.preventDefault();return}this.open&&t?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus())},isOptionSelected(n){return this.selectedValue.some(t=>this.optionComparator(t,n))},isOptionDeselectable(n){return this.isOptionSelected(n)&&this.deselectFromDropdown},optionComparator(n,t){return this.getOptionKey(n)===this.getOptionKey(t)},findOptionFromReducedValue(n){const t=s=>JSON.stringify(this.reduce(s))===JSON.stringify(n),e=[...this.options,...this.pushedTags].filter(t);return e.length===1?e[0]:e.find(s=>this.optionComparator(s,this.$data._value))||n},closeSearchOptions(){this.open=!1,this.$emit("search:blur")},maybeDeleteValue(){if(!this.searchEl.value.length&&this.selectedValue&&this.selectedValue.length&&this.clearable){let n=null;this.multiple&&(n=[...this.selectedValue.slice(0,this.selectedValue.length-1)]),this.updateValue(n)}},optionExists(n){return this.optionList.some(t=>this.optionComparator(t,n))},normalizeOptionForSlot(n){return typeof n=="object"?n:{[this.label]:n}},pushTag(n){this.pushedTags.push(n)},onEscape(){this.search.length?this.search="":this.searchEl.blur()},onSearchBlur(){if(this.mousedown&&!this.searching)this.mousedown=!1;else{const{clearSearchOnSelect:n,multiple:t}=this;this.clearSearchOnBlur({clearSearchOnSelect:n,multiple:t})&&(this.search=""),this.closeSearchOptions();return}if(this.search.length===0&&this.options.length===0){this.closeSearchOptions();return}},onSearchFocus(){this.open=!0,this.$emit("search:focus")},onMousedown(){this.mousedown=!0},onMouseUp(){this.mousedown=!1},onSearchKeyDown(n){const t=i=>(i.preventDefault(),!this.isComposing&&this.typeAheadSelect()),e={8:i=>this.maybeDeleteValue(),9:i=>this.onTab(),27:i=>this.onEscape(),38:i=>(i.preventDefault(),this.typeAheadUp()),40:i=>(i.preventDefault(),this.typeAheadDown())};this.selectOnKeyCodes.forEach(i=>e[i]=t);const s=this.mapKeydown(e,this);if(typeof s[n.keyCode]=="function")return s[n.keyCode](n)}}},Mk=["dir"],Fk=["id","aria-expanded","aria-owns"],Ik={ref:"selectedOptions",class:"vs__selected-options"},Ok=["disabled","title","aria-label","onClick"],Nk={ref:"actions",class:"vs__actions"},qk=["disabled"],$k={class:"vs__spinner"},Bk=["id"],Hk=["id","aria-selected","onMouseover","onClick"],zk={key:0,class:"vs__no-options"},jk=Ot(" Sorry, no matching options. "),Vk=["id"];function Uk(n,t,e,s,i,r){const o=jw("append-to-body");return $(),G("div",{dir:e.dir,class:cc(["v-select",r.stateClasses])},[Os(n.$slots,"header",Is(Ns(r.scope.header))),T("div",{id:`vs${e.uid}__combobox`,ref:"toggle",class:"vs__dropdown-toggle",role:"combobox","aria-expanded":r.dropdownOpen.toString(),"aria-owns":`vs${e.uid}__listbox`,"aria-label":"Search for option",onMousedown:t[1]||(t[1]=a=>r.toggleDropdown(a))},[T("div",Ik,[($(!0),G(ne,null,fr(r.selectedValue,(a,c)=>Os(n.$slots,"selected-option-container",{option:r.normalizeOptionForSlot(a),deselect:r.deselect,multiple:e.multiple,disabled:e.disabled},()=>[($(),G("span",{key:e.getOptionKey(a),class:"vs__selected"},[Os(n.$slots,"selected-option",Is(Ns(r.normalizeOptionForSlot(a))),()=>[Ot(Ut(e.getOptionLabel(a)),1)]),e.multiple?($(),G("button",{key:0,ref_for:!0,ref:h=>i.deselectButtons[c]=h,disabled:e.disabled,type:"button",class:"vs__deselect",title:`Deselect ${e.getOptionLabel(a)}`,"aria-label":`Deselect ${e.getOptionLabel(a)}`,onClick:h=>r.deselect(a)},[($(),_s(kf(r.childComponents.Deselect)))],8,Ok)):ft("",!0)]))])),256)),Os(n.$slots,"search",Is(Ns(r.scope.search)),()=>[T("input",pp({class:"vs__search"},r.scope.search.attributes,ox(r.scope.search.events)),null,16)])],512),T("div",Nk,[ur(T("button",{ref:"clearButton",disabled:e.disabled,type:"button",class:"vs__clear",title:"Clear Selected","aria-label":"Clear Selected",onClick:t[0]||(t[0]=(...a)=>r.clearSelection&&r.clearSelection(...a))},[($(),_s(kf(r.childComponents.Deselect)))],8,qk),[[mp,r.showClearButton]]),Os(n.$slots,"open-indicator",Is(Ns(r.scope.openIndicator)),()=>[e.noDrop?ft("",!0):($(),_s(kf(r.childComponents.OpenIndicator),Is(pp({key:0},r.scope.openIndicator.attributes)),null,16))]),Os(n.$slots,"spinner",Is(Ns(r.scope.spinner)),()=>[ur(T("div",$k,"Loading...",512),[[mp,n.mutableLoading]])])],512)],40,Fk),_t(la,{name:e.transition},{default:ms(()=>[r.dropdownOpen?ur(($(),G("ul",{id:`vs${e.uid}__listbox`,ref:"dropdownMenu",key:`vs${e.uid}__listbox`,class:"vs__dropdown-menu",role:"listbox",tabindex:"-1",onMousedown:t[2]||(t[2]=gr((...a)=>r.onMousedown&&r.onMousedown(...a),["prevent"])),onMouseup:t[3]||(t[3]=(...a)=>r.onMouseUp&&r.onMouseUp(...a))},[Os(n.$slots,"list-header",Is(Ns(r.scope.listHeader))),($(!0),G(ne,null,fr(r.filteredOptions,(a,c)=>($(),G("li",{id:`vs${e.uid}__option-${c}`,key:e.getOptionKey(a),role:"option",class:cc(["vs__dropdown-option",{"vs__dropdown-option--deselect":r.isOptionDeselectable(a)&&c===n.typeAheadPointer,"vs__dropdown-option--selected":r.isOptionSelected(a),"vs__dropdown-option--highlight":c===n.typeAheadPointer,"vs__dropdown-option--disabled":!e.selectable(a)}]),"aria-selected":c===n.typeAheadPointer?!0:null,onMouseover:h=>e.selectable(a)?n.typeAheadPointer=c:null,onClick:gr(h=>e.selectable(a)?r.select(a):null,["prevent","stop"])},[Os(n.$slots,"option",Is(Ns(r.normalizeOptionForSlot(a))),()=>[Ot(Ut(e.getOptionLabel(a)),1)])],42,Hk))),128)),r.filteredOptions.length===0?($(),G("li",zk,[Os(n.$slots,"no-options",Is(Ns(r.scope.noOptions)),()=>[jk])])):ft("",!0),Os(n.$slots,"list-footer",Is(Ns(r.scope.listFooter)))],40,Bk)),[[o]]):($(),G("ul",{key:1,id:`vs${e.uid}__listbox`,role:"listbox",style:{display:"none",visibility:"hidden"}},null,8,Vk))]),_:3},8,["name"]),Os(n.$slots,"footer",Is(Ns(r.scope.footer)))],10,Mk)}const ld=im(Lk,[["render",Uk]]);function Gk(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Wk(n){if(n.__esModule)return n;var t=n.default;if(typeof t=="function"){var e=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var i=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:function(){return n[s]}})}),e}var Dt={};const Kk="Á",Xk="á",Yk="Ă",Zk="ă",Jk="∾",Qk="∿",t1="∾̳",e1="Â",s1="â",n1="´",i1="А",r1="а",o1="Æ",a1="æ",c1="⁡",l1="𝔄",h1="𝔞",u1="À",d1="à",f1="ℵ",p1="ℵ",g1="Α",m1="α",b1="Ā",_1="ā",v1="⨿",y1="&",A1="&",w1="⩕",x1="⩓",E1="∧",C1="⩜",k1="⩘",S1="⩚",T1="∠",R1="⦤",D1="∠",P1="⦨",L1="⦩",M1="⦪",F1="⦫",I1="⦬",O1="⦭",N1="⦮",q1="⦯",$1="∡",B1="∟",H1="⊾",z1="⦝",j1="∢",V1="Å",U1="⍼",G1="Ą",W1="ą",K1="𝔸",X1="𝕒",Y1="⩯",Z1="≈",J1="⩰",Q1="≊",tS="≋",eS="'",sS="⁡",nS="≈",iS="≊",rS="Å",oS="å",aS="𝒜",cS="𝒶",lS="≔",hS="*",uS="≈",dS="≍",fS="Ã",pS="ã",gS="Ä",mS="ä",bS="∳",_S="⨑",vS="≌",yS="϶",AS="‵",wS="∽",xS="⋍",ES="∖",CS="⫧",kS="⊽",SS="⌅",TS="⌆",RS="⌅",DS="⎵",PS="⎶",LS="≌",MS="Б",FS="б",IS="„",OS="∵",NS="∵",qS="∵",$S="⦰",BS="϶",HS="ℬ",zS="ℬ",jS="Β",VS="β",US="ℶ",GS="≬",WS="𝔅",KS="𝔟",XS="⋂",YS="◯",ZS="⋃",JS="⨀",QS="⨁",tT="⨂",eT="⨆",sT="★",nT="▽",iT="△",rT="⨄",oT="⋁",aT="⋀",cT="⤍",lT="⧫",hT="▪",uT="▴",dT="▾",fT="◂",pT="▸",gT="␣",mT="▒",bT="░",_T="▓",vT="█",yT="=⃥",AT="≡⃥",wT="⫭",xT="⌐",ET="𝔹",CT="𝕓",kT="⊥",ST="⊥",TT="⋈",RT="⧉",DT="┐",PT="╕",LT="╖",MT="╗",FT="┌",IT="╒",OT="╓",NT="╔",qT="─",$T="═",BT="┬",HT="╤",zT="╥",jT="╦",VT="┴",UT="╧",GT="╨",WT="╩",KT="⊟",XT="⊞",YT="⊠",ZT="┘",JT="╛",QT="╜",tR="╝",eR="└",sR="╘",nR="╙",iR="╚",rR="│",oR="║",aR="┼",cR="╪",lR="╫",hR="╬",uR="┤",dR="╡",fR="╢",pR="╣",gR="├",mR="╞",bR="╟",_R="╠",vR="‵",yR="˘",AR="˘",wR="¦",xR="𝒷",ER="ℬ",CR="⁏",kR="∽",SR="⋍",TR="⧅",RR="\\",DR="⟈",PR="•",LR="•",MR="≎",FR="⪮",IR="≏",OR="≎",NR="≏",qR="Ć",$R="ć",BR="⩄",HR="⩉",zR="⩋",jR="∩",VR="⋒",UR="⩇",GR="⩀",WR="ⅅ",KR="∩︀",XR="⁁",YR="ˇ",ZR="ℭ",JR="⩍",QR="Č",tD="č",eD="Ç",sD="ç",nD="Ĉ",iD="ĉ",rD="∰",oD="⩌",aD="⩐",cD="Ċ",lD="ċ",hD="¸",uD="¸",dD="⦲",fD="¢",pD="·",gD="·",mD="𝔠",bD="ℭ",_D="Ч",vD="ч",yD="✓",AD="✓",wD="Χ",xD="χ",ED="ˆ",CD="≗",kD="↺",SD="↻",TD="⊛",RD="⊚",DD="⊝",PD="⊙",LD="®",MD="Ⓢ",FD="⊖",ID="⊕",OD="⊗",ND="○",qD="⧃",$D="≗",BD="⨐",HD="⫯",zD="⧂",jD="∲",VD="”",UD="’",GD="♣",WD="♣",KD=":",XD="∷",YD="⩴",ZD="≔",JD="≔",QD=",",tP="@",eP="∁",sP="∘",nP="∁",iP="ℂ",rP="≅",oP="⩭",aP="≡",cP="∮",lP="∯",hP="∮",uP="𝕔",dP="ℂ",fP="∐",pP="∐",gP="©",mP="©",bP="℗",_P="∳",vP="↵",yP="✗",AP="⨯",wP="𝒞",xP="𝒸",EP="⫏",CP="⫑",kP="⫐",SP="⫒",TP="⋯",RP="⤸",DP="⤵",PP="⋞",LP="⋟",MP="↶",FP="⤽",IP="⩈",OP="⩆",NP="≍",qP="∪",$P="⋓",BP="⩊",HP="⊍",zP="⩅",jP="∪︀",VP="↷",UP="⤼",GP="⋞",WP="⋟",KP="⋎",XP="⋏",YP="¤",ZP="↶",JP="↷",QP="⋎",tL="⋏",eL="∲",sL="∱",nL="⌭",iL="†",rL="‡",oL="ℸ",aL="↓",cL="↡",lL="⇓",hL="‐",uL="⫤",dL="⊣",fL="⤏",pL="˝",gL="Ď",mL="ď",bL="Д",_L="д",vL="‡",yL="⇊",AL="ⅅ",wL="ⅆ",xL="⤑",EL="⩷",CL="°",kL="∇",SL="Δ",TL="δ",RL="⦱",DL="⥿",PL="𝔇",LL="𝔡",ML="⥥",FL="⇃",IL="⇂",OL="´",NL="˙",qL="˝",$L="`",BL="˜",HL="⋄",zL="⋄",jL="⋄",VL="♦",UL="♦",GL="¨",WL="ⅆ",KL="ϝ",XL="⋲",YL="÷",ZL="÷",JL="⋇",QL="⋇",tM="Ђ",eM="ђ",sM="⌞",nM="⌍",iM="$",rM="𝔻",oM="𝕕",aM="¨",cM="˙",lM="⃜",hM="≐",uM="≑",dM="≐",fM="∸",pM="∔",gM="⊡",mM="⌆",bM="∯",_M="¨",vM="⇓",yM="⇐",AM="⇔",wM="⫤",xM="⟸",EM="⟺",CM="⟹",kM="⇒",SM="⊨",TM="⇑",RM="⇕",DM="∥",PM="⤓",LM="↓",MM="↓",FM="⇓",IM="⇵",OM="̑",NM="⇊",qM="⇃",$M="⇂",BM="⥐",HM="⥞",zM="⥖",jM="↽",VM="⥟",UM="⥗",GM="⇁",WM="↧",KM="⊤",XM="⤐",YM="⌟",ZM="⌌",JM="𝒟",QM="𝒹",tF="Ѕ",eF="ѕ",sF="⧶",nF="Đ",iF="đ",rF="⋱",oF="▿",aF="▾",cF="⇵",lF="⥯",hF="⦦",uF="Џ",dF="џ",fF="⟿",pF="É",gF="é",mF="⩮",bF="Ě",_F="ě",vF="Ê",yF="ê",AF="≖",wF="≕",xF="Э",EF="э",CF="⩷",kF="Ė",SF="ė",TF="≑",RF="ⅇ",DF="≒",PF="𝔈",LF="𝔢",MF="⪚",FF="È",IF="è",OF="⪖",NF="⪘",qF="⪙",$F="∈",BF="⏧",HF="ℓ",zF="⪕",jF="⪗",VF="Ē",UF="ē",GF="∅",WF="∅",KF="◻",XF="∅",YF="▫",ZF=" ",JF=" ",QF=" ",tI="Ŋ",eI="ŋ",sI=" ",nI="Ę",iI="ę",rI="𝔼",oI="𝕖",aI="⋕",cI="⧣",lI="⩱",hI="ε",uI="Ε",dI="ε",fI="ϵ",pI="≖",gI="≕",mI="≂",bI="⪖",_I="⪕",vI="⩵",yI="=",AI="≂",wI="≟",xI="⇌",EI="≡",CI="⩸",kI="⧥",SI="⥱",TI="≓",RI="ℯ",DI="ℰ",PI="≐",LI="⩳",MI="≂",FI="Η",II="η",OI="Ð",NI="ð",qI="Ë",$I="ë",BI="€",HI="!",zI="∃",jI="∃",VI="ℰ",UI="ⅇ",GI="ⅇ",WI="≒",KI="Ф",XI="ф",YI="♀",ZI="ﬃ",JI="ﬀ",QI="ﬄ",tO="𝔉",eO="𝔣",sO="ﬁ",nO="◼",iO="▪",rO="fj",oO="♭",aO="ﬂ",cO="▱",lO="ƒ",hO="𝔽",uO="𝕗",dO="∀",fO="∀",pO="⋔",gO="⫙",mO="ℱ",bO="⨍",_O="½",vO="⅓",yO="¼",AO="⅕",wO="⅙",xO="⅛",EO="⅔",CO="⅖",kO="¾",SO="⅗",TO="⅜",RO="⅘",DO="⅚",PO="⅝",LO="⅞",MO="⁄",FO="⌢",IO="𝒻",OO="ℱ",NO="ǵ",qO="Γ",$O="γ",BO="Ϝ",HO="ϝ",zO="⪆",jO="Ğ",VO="ğ",UO="Ģ",GO="Ĝ",WO="ĝ",KO="Г",XO="г",YO="Ġ",ZO="ġ",JO="≥",QO="≧",t2="⪌",e2="⋛",s2="≥",n2="≧",i2="⩾",r2="⪩",o2="⩾",a2="⪀",c2="⪂",l2="⪄",h2="⋛︀",u2="⪔",d2="𝔊",f2="𝔤",p2="≫",g2="⋙",m2="⋙",b2="ℷ",_2="Ѓ",v2="ѓ",y2="⪥",A2="≷",w2="⪒",x2="⪤",E2="⪊",C2="⪊",k2="⪈",S2="≩",T2="⪈",R2="≩",D2="⋧",P2="𝔾",L2="𝕘",M2="`",F2="≥",I2="⋛",O2="≧",N2="⪢",q2="≷",$2="⩾",B2="≳",H2="𝒢",z2="ℊ",j2="≳",V2="⪎",U2="⪐",G2="⪧",W2="⩺",K2=">",X2=">",Y2="≫",Z2="⋗",J2="⦕",Q2="⩼",tN="⪆",eN="⥸",sN="⋗",nN="⋛",iN="⪌",rN="≷",oN="≳",aN="≩︀",cN="≩︀",lN="ˇ",hN=" ",uN="½",dN="ℋ",fN="Ъ",pN="ъ",gN="⥈",mN="↔",bN="⇔",_N="↭",vN="^",yN="ℏ",AN="Ĥ",wN="ĥ",xN="♥",EN="♥",CN="…",kN="⊹",SN="𝔥",TN="ℌ",RN="ℋ",DN="⤥",PN="⤦",LN="⇿",MN="∻",FN="↩",IN="↪",ON="𝕙",NN="ℍ",qN="―",$N="─",BN="𝒽",HN="ℋ",zN="ℏ",jN="Ħ",VN="ħ",UN="≎",GN="≏",WN="⁃",KN="‐",XN="Í",YN="í",ZN="⁣",JN="Î",QN="î",tq="И",eq="и",sq="İ",nq="Е",iq="е",rq="¡",oq="⇔",aq="𝔦",cq="ℑ",lq="Ì",hq="ì",uq="ⅈ",dq="⨌",fq="∭",pq="⧜",gq="℩",mq="Ĳ",bq="ĳ",_q="Ī",vq="ī",yq="ℑ",Aq="ⅈ",wq="ℐ",xq="ℑ",Eq="ı",Cq="ℑ",kq="⊷",Sq="Ƶ",Tq="⇒",Rq="℅",Dq="∞",Pq="⧝",Lq="ı",Mq="⊺",Fq="∫",Iq="∬",Oq="ℤ",Nq="∫",qq="⊺",$q="⋂",Bq="⨗",Hq="⨼",zq="⁣",jq="⁢",Vq="Ё",Uq="ё",Gq="Į",Wq="į",Kq="𝕀",Xq="𝕚",Yq="Ι",Zq="ι",Jq="⨼",Qq="¿",t$="𝒾",e$="ℐ",s$="∈",n$="⋵",i$="⋹",r$="⋴",o$="⋳",a$="∈",c$="⁢",l$="Ĩ",h$="ĩ",u$="І",d$="і",f$="Ï",p$="ï",g$="Ĵ",m$="ĵ",b$="Й",_$="й",v$="𝔍",y$="𝔧",A$="ȷ",w$="𝕁",x$="𝕛",E$="𝒥",C$="𝒿",k$="Ј",S$="ј",T$="Є",R$="є",D$="Κ",P$="κ",L$="ϰ",M$="Ķ",F$="ķ",I$="К",O$="к",N$="𝔎",q$="𝔨",$$="ĸ",B$="Х",H$="х",z$="Ќ",j$="ќ",V$="𝕂",U$="𝕜",G$="𝒦",W$="𝓀",K$="⇚",X$="Ĺ",Y$="ĺ",Z$="⦴",J$="ℒ",Q$="Λ",tB="λ",eB="⟨",sB="⟪",nB="⦑",iB="⟨",rB="⪅",oB="ℒ",aB="«",cB="⇤",lB="⤟",hB="←",uB="↞",dB="⇐",fB="⤝",pB="↩",gB="↫",mB="⤹",bB="⥳",_B="↢",vB="⤙",yB="⤛",AB="⪫",wB="⪭",xB="⪭︀",EB="⤌",CB="⤎",kB="❲",SB="{",TB="[",RB="⦋",DB="⦏",PB="⦍",LB="Ľ",MB="ľ",FB="Ļ",IB="ļ",OB="⌈",NB="{",qB="Л",$B="л",BB="⤶",HB="“",zB="„",jB="⥧",VB="⥋",UB="↲",GB="≤",WB="≦",KB="⟨",XB="⇤",YB="←",ZB="←",JB="⇐",QB="⇆",t3="↢",e3="⌈",s3="⟦",n3="⥡",i3="⥙",r3="⇃",o3="⌊",a3="↽",c3="↼",l3="⇇",h3="↔",u3="↔",d3="⇔",f3="⇆",p3="⇋",g3="↭",m3="⥎",b3="↤",_3="⊣",v3="⥚",y3="⋋",A3="⧏",w3="⊲",x3="⊴",E3="⥑",C3="⥠",k3="⥘",S3="↿",T3="⥒",R3="↼",D3="⪋",P3="⋚",L3="≤",M3="≦",F3="⩽",I3="⪨",O3="⩽",N3="⩿",q3="⪁",$3="⪃",B3="⋚︀",H3="⪓",z3="⪅",j3="⋖",V3="⋚",U3="⪋",G3="⋚",W3="≦",K3="≶",X3="≶",Y3="⪡",Z3="≲",J3="⩽",Q3="≲",tH="⥼",eH="⌊",sH="𝔏",nH="𝔩",iH="≶",rH="⪑",oH="⥢",aH="↽",cH="↼",lH="⥪",hH="▄",uH="Љ",dH="љ",fH="⇇",pH="≪",gH="⋘",mH="⌞",bH="⇚",_H="⥫",vH="◺",yH="Ŀ",AH="ŀ",wH="⎰",xH="⎰",EH="⪉",CH="⪉",kH="⪇",SH="≨",TH="⪇",RH="≨",DH="⋦",PH="⟬",LH="⇽",MH="⟦",FH="⟵",IH="⟵",OH="⟸",NH="⟷",qH="⟷",$H="⟺",BH="⟼",HH="⟶",zH="⟶",jH="⟹",VH="↫",UH="↬",GH="⦅",WH="𝕃",KH="𝕝",XH="⨭",YH="⨴",ZH="∗",JH="_",QH="↙",tz="↘",ez="◊",sz="◊",nz="⧫",iz="(",rz="⦓",oz="⇆",az="⌟",cz="⇋",lz="⥭",hz="‎",uz="⊿",dz="‹",fz="𝓁",pz="ℒ",gz="↰",mz="↰",bz="≲",_z="⪍",vz="⪏",yz="[",Az="‘",wz="‚",xz="Ł",Ez="ł",Cz="⪦",kz="⩹",Sz="<",Tz="<",Rz="≪",Dz="⋖",Pz="⋋",Lz="⋉",Mz="⥶",Fz="⩻",Iz="◃",Oz="⊴",Nz="◂",qz="⦖",$z="⥊",Bz="⥦",Hz="≨︀",zz="≨︀",jz="¯",Vz="♂",Uz="✠",Gz="✠",Wz="↦",Kz="↦",Xz="↧",Yz="↤",Zz="↥",Jz="▮",Qz="⨩",tj="М",ej="м",sj="—",nj="∺",ij="∡",rj=" ",oj="ℳ",aj="𝔐",cj="𝔪",lj="℧",hj="µ",uj="*",dj="⫰",fj="∣",pj="·",gj="⊟",mj="−",bj="∸",_j="⨪",vj="∓",yj="⫛",Aj="…",wj="∓",xj="⊧",Ej="𝕄",Cj="𝕞",kj="∓",Sj="𝓂",Tj="ℳ",Rj="∾",Dj="Μ",Pj="μ",Lj="⊸",Mj="⊸",Fj="∇",Ij="Ń",Oj="ń",Nj="∠⃒",qj="≉",$j="⩰̸",Bj="≋̸",Hj="ŉ",zj="≉",jj="♮",Vj="ℕ",Uj="♮",Gj=" ",Wj="≎̸",Kj="≏̸",Xj="⩃",Yj="Ň",Zj="ň",Jj="Ņ",Qj="ņ",tV="≇",eV="⩭̸",sV="⩂",nV="Н",iV="н",rV="–",oV="⤤",aV="↗",cV="⇗",lV="↗",hV="≠",uV="≐̸",dV="​",fV="​",pV="​",gV="​",mV="≢",bV="⤨",_V="≂̸",vV="≫",yV="≪",AV=`
`,wV="∄",xV="∄",EV="𝔑",CV="𝔫",kV="≧̸",SV="≱",TV="≱",RV="≧̸",DV="⩾̸",PV="⩾̸",LV="⋙̸",MV="≵",FV="≫⃒",IV="≯",OV="≯",NV="≫̸",qV="↮",$V="⇎",BV="⫲",HV="∋",zV="⋼",jV="⋺",VV="∋",UV="Њ",GV="њ",WV="↚",KV="⇍",XV="‥",YV="≦̸",ZV="≰",JV="↚",QV="⇍",tU="↮",eU="⇎",sU="≰",nU="≦̸",iU="⩽̸",rU="⩽̸",oU="≮",aU="⋘̸",cU="≴",lU="≪⃒",hU="≮",uU="⋪",dU="⋬",fU="≪̸",pU="∤",gU="⁠",mU=" ",bU="𝕟",_U="ℕ",vU="⫬",yU="¬",AU="≢",wU="≭",xU="∦",EU="∉",CU="≠",kU="≂̸",SU="∄",TU="≯",RU="≱",DU="≧̸",PU="≫̸",LU="≹",MU="⩾̸",FU="≵",IU="≎̸",OU="≏̸",NU="∉",qU="⋵̸",$U="⋹̸",BU="∉",HU="⋷",zU="⋶",jU="⧏̸",VU="⋪",UU="⋬",GU="≮",WU="≰",KU="≸",XU="≪̸",YU="⩽̸",ZU="≴",JU="⪢̸",QU="⪡̸",t4="∌",e4="∌",s4="⋾",n4="⋽",i4="⊀",r4="⪯̸",o4="⋠",a4="∌",c4="⧐̸",l4="⋫",h4="⋭",u4="⊏̸",d4="⋢",f4="⊐̸",p4="⋣",g4="⊂⃒",m4="⊈",b4="⊁",_4="⪰̸",v4="⋡",y4="≿̸",A4="⊃⃒",w4="⊉",x4="≁",E4="≄",C4="≇",k4="≉",S4="∤",T4="∦",R4="∦",D4="⫽⃥",P4="∂̸",L4="⨔",M4="⊀",F4="⋠",I4="⊀",O4="⪯̸",N4="⪯̸",q4="⤳̸",$4="↛",B4="⇏",H4="↝̸",z4="↛",j4="⇏",V4="⋫",U4="⋭",G4="⊁",W4="⋡",K4="⪰̸",X4="𝒩",Y4="𝓃",Z4="∤",J4="∦",Q4="≁",t6="≄",e6="≄",s6="∤",n6="∦",i6="⋢",r6="⋣",o6="⊄",a6="⫅̸",c6="⊈",l6="⊂⃒",h6="⊈",u6="⫅̸",d6="⊁",f6="⪰̸",p6="⊅",g6="⫆̸",m6="⊉",b6="⊃⃒",_6="⊉",v6="⫆̸",y6="≹",A6="Ñ",w6="ñ",x6="≸",E6="⋪",C6="⋬",k6="⋫",S6="⋭",T6="Ν",R6="ν",D6="#",P6="№",L6=" ",M6="≍⃒",F6="⊬",I6="⊭",O6="⊮",N6="⊯",q6="≥⃒",$6=">⃒",B6="⤄",H6="⧞",z6="⤂",j6="≤⃒",V6="<⃒",U6="⊴⃒",G6="⤃",W6="⊵⃒",K6="∼⃒",X6="⤣",Y6="↖",Z6="⇖",J6="↖",Q6="⤧",t8="Ó",e8="ó",s8="⊛",n8="Ô",i8="ô",r8="⊚",o8="О",a8="о",c8="⊝",l8="Ő",h8="ő",u8="⨸",d8="⊙",f8="⦼",p8="Œ",g8="œ",m8="⦿",b8="𝔒",_8="𝔬",v8="˛",y8="Ò",A8="ò",w8="⧁",x8="⦵",E8="Ω",C8="∮",k8="↺",S8="⦾",T8="⦻",R8="‾",D8="⧀",P8="Ō",L8="ō",M8="Ω",F8="ω",I8="Ο",O8="ο",N8="⦶",q8="⊖",$8="𝕆",B8="𝕠",H8="⦷",z8="“",j8="‘",V8="⦹",U8="⊕",G8="↻",W8="⩔",K8="∨",X8="⩝",Y8="ℴ",Z8="ℴ",J8="ª",Q8="º",t5="⊶",e5="⩖",s5="⩗",n5="⩛",i5="Ⓢ",r5="𝒪",o5="ℴ",a5="Ø",c5="ø",l5="⊘",h5="Õ",u5="õ",d5="⨶",f5="⨷",p5="⊗",g5="Ö",m5="ö",b5="⌽",_5="‾",v5="⏞",y5="⎴",A5="⏜",w5="¶",x5="∥",E5="∥",C5="⫳",k5="⫽",S5="∂",T5="∂",R5="П",D5="п",P5="%",L5=".",M5="‰",F5="⊥",I5="‱",O5="𝔓",N5="𝔭",q5="Φ",$5="φ",B5="ϕ",H5="ℳ",z5="☎",j5="Π",V5="π",U5="⋔",G5="ϖ",W5="ℏ",K5="ℎ",X5="ℏ",Y5="⨣",Z5="⊞",J5="⨢",Q5="+",tG="∔",eG="⨥",sG="⩲",nG="±",iG="±",rG="⨦",oG="⨧",aG="±",cG="ℌ",lG="⨕",hG="𝕡",uG="ℙ",dG="£",fG="⪷",pG="⪻",gG="≺",mG="≼",bG="⪷",_G="≺",vG="≼",yG="≺",AG="⪯",wG="≼",xG="≾",EG="⪯",CG="⪹",kG="⪵",SG="⋨",TG="⪯",RG="⪳",DG="≾",PG="′",LG="″",MG="ℙ",FG="⪹",IG="⪵",OG="⋨",NG="∏",qG="∏",$G="⌮",BG="⌒",HG="⌓",zG="∝",jG="∝",VG="∷",UG="∝",GG="≾",WG="⊰",KG="𝒫",XG="𝓅",YG="Ψ",ZG="ψ",JG=" ",QG="𝔔",tW="𝔮",eW="⨌",sW="𝕢",nW="ℚ",iW="⁗",rW="𝒬",oW="𝓆",aW="ℍ",cW="⨖",lW="?",hW="≟",uW='"',dW='"',fW="⇛",pW="∽̱",gW="Ŕ",mW="ŕ",bW="√",_W="⦳",vW="⟩",yW="⟫",AW="⦒",wW="⦥",xW="⟩",EW="»",CW="⥵",kW="⇥",SW="⤠",TW="⤳",RW="→",DW="↠",PW="⇒",LW="⤞",MW="↪",FW="↬",IW="⥅",OW="⥴",NW="⤖",qW="↣",$W="↝",BW="⤚",HW="⤜",zW="∶",jW="ℚ",VW="⤍",UW="⤏",GW="⤐",WW="❳",KW="}",XW="]",YW="⦌",ZW="⦎",JW="⦐",QW="Ř",tK="ř",eK="Ŗ",sK="ŗ",nK="⌉",iK="}",rK="Р",oK="р",aK="⤷",cK="⥩",lK="”",hK="”",uK="↳",dK="ℜ",fK="ℛ",pK="ℜ",gK="ℝ",mK="ℜ",bK="▭",_K="®",vK="®",yK="∋",AK="⇋",wK="⥯",xK="⥽",EK="⌋",CK="𝔯",kK="ℜ",SK="⥤",TK="⇁",RK="⇀",DK="⥬",PK="Ρ",LK="ρ",MK="ϱ",FK="⟩",IK="⇥",OK="→",NK="→",qK="⇒",$K="⇄",BK="↣",HK="⌉",zK="⟧",jK="⥝",VK="⥕",UK="⇂",GK="⌋",WK="⇁",KK="⇀",XK="⇄",YK="⇌",ZK="⇉",JK="↝",QK="↦",tX="⊢",eX="⥛",sX="⋌",nX="⧐",iX="⊳",rX="⊵",oX="⥏",aX="⥜",cX="⥔",lX="↾",hX="⥓",uX="⇀",dX="˚",fX="≓",pX="⇄",gX="⇌",mX="‏",bX="⎱",_X="⎱",vX="⫮",yX="⟭",AX="⇾",wX="⟧",xX="⦆",EX="𝕣",CX="ℝ",kX="⨮",SX="⨵",TX="⥰",RX=")",DX="⦔",PX="⨒",LX="⇉",MX="⇛",FX="›",IX="𝓇",OX="ℛ",NX="↱",qX="↱",$X="]",BX="’",HX="’",zX="⋌",jX="⋊",VX="▹",UX="⊵",GX="▸",WX="⧎",KX="⧴",XX="⥨",YX="℞",ZX="Ś",JX="ś",QX="‚",t7="⪸",e7="Š",s7="š",n7="⪼",i7="≻",r7="≽",o7="⪰",a7="⪴",c7="Ş",l7="ş",h7="Ŝ",u7="ŝ",d7="⪺",f7="⪶",p7="⋩",g7="⨓",m7="≿",b7="С",_7="с",v7="⊡",y7="⋅",A7="⩦",w7="⤥",x7="↘",E7="⇘",C7="↘",k7="§",S7=";",T7="⤩",R7="∖",D7="∖",P7="✶",L7="𝔖",M7="𝔰",F7="⌢",I7="♯",O7="Щ",N7="щ",q7="Ш",$7="ш",B7="↓",H7="←",z7="∣",j7="∥",V7="→",U7="↑",G7="­",W7="Σ",K7="σ",X7="ς",Y7="ς",Z7="∼",J7="⩪",Q7="≃",tY="≃",eY="⪞",sY="⪠",nY="⪝",iY="⪟",rY="≆",oY="⨤",aY="⥲",cY="←",lY="∘",hY="∖",uY="⨳",dY="⧤",fY="∣",pY="⌣",gY="⪪",mY="⪬",bY="⪬︀",_Y="Ь",vY="ь",yY="⌿",AY="⧄",wY="/",xY="𝕊",EY="𝕤",CY="♠",kY="♠",SY="∥",TY="⊓",RY="⊓︀",DY="⊔",PY="⊔︀",LY="√",MY="⊏",FY="⊑",IY="⊏",OY="⊑",NY="⊐",qY="⊒",$Y="⊐",BY="⊒",HY="□",zY="□",jY="⊓",VY="⊏",UY="⊑",GY="⊐",WY="⊒",KY="⊔",XY="▪",YY="□",ZY="▪",JY="→",QY="𝒮",t9="𝓈",e9="∖",s9="⌣",n9="⋆",i9="⋆",r9="☆",o9="★",a9="ϵ",c9="ϕ",l9="¯",h9="⊂",u9="⋐",d9="⪽",f9="⫅",p9="⊆",g9="⫃",m9="⫁",b9="⫋",_9="⊊",v9="⪿",y9="⥹",A9="⊂",w9="⋐",x9="⊆",E9="⫅",C9="⊆",k9="⊊",S9="⫋",T9="⫇",R9="⫕",D9="⫓",P9="⪸",L9="≻",M9="≽",F9="≻",I9="⪰",O9="≽",N9="≿",q9="⪰",$9="⪺",B9="⪶",H9="⋩",z9="≿",j9="∋",V9="∑",U9="∑",G9="♪",W9="¹",K9="²",X9="³",Y9="⊃",Z9="⋑",J9="⪾",Q9="⫘",tZ="⫆",eZ="⊇",sZ="⫄",nZ="⊃",iZ="⊇",rZ="⟉",oZ="⫗",aZ="⥻",cZ="⫂",lZ="⫌",hZ="⊋",uZ="⫀",dZ="⊃",fZ="⋑",pZ="⊇",gZ="⫆",mZ="⊋",bZ="⫌",_Z="⫈",vZ="⫔",yZ="⫖",AZ="⤦",wZ="↙",xZ="⇙",EZ="↙",CZ="⤪",kZ="ß",SZ="	",TZ="⌖",RZ="Τ",DZ="τ",PZ="⎴",LZ="Ť",MZ="ť",FZ="Ţ",IZ="ţ",OZ="Т",NZ="т",qZ="⃛",$Z="⌕",BZ="𝔗",HZ="𝔱",zZ="∴",jZ="∴",VZ="∴",UZ="Θ",GZ="θ",WZ="ϑ",KZ="ϑ",XZ="≈",YZ="∼",ZZ="  ",JZ=" ",QZ=" ",tJ="≈",eJ="∼",sJ="Þ",nJ="þ",iJ="˜",rJ="∼",oJ="≃",aJ="≅",cJ="≈",lJ="⨱",hJ="⊠",uJ="×",dJ="⨰",fJ="∭",pJ="⤨",gJ="⌶",mJ="⫱",bJ="⊤",_J="𝕋",vJ="𝕥",yJ="⫚",AJ="⤩",wJ="‴",xJ="™",EJ="™",CJ="▵",kJ="▿",SJ="◃",TJ="⊴",RJ="≜",DJ="▹",PJ="⊵",LJ="◬",MJ="≜",FJ="⨺",IJ="⃛",OJ="⨹",NJ="⧍",qJ="⨻",$J="⏢",BJ="𝒯",HJ="𝓉",zJ="Ц",jJ="ц",VJ="Ћ",UJ="ћ",GJ="Ŧ",WJ="ŧ",KJ="≬",XJ="↞",YJ="↠",ZJ="Ú",JJ="ú",QJ="↑",tQ="↟",eQ="⇑",sQ="⥉",nQ="Ў",iQ="ў",rQ="Ŭ",oQ="ŭ",aQ="Û",cQ="û",lQ="У",hQ="у",uQ="⇅",dQ="Ű",fQ="ű",pQ="⥮",gQ="⥾",mQ="𝔘",bQ="𝔲",_Q="Ù",vQ="ù",yQ="⥣",AQ="↿",wQ="↾",xQ="▀",EQ="⌜",CQ="⌜",kQ="⌏",SQ="◸",TQ="Ū",RQ="ū",DQ="¨",PQ="_",LQ="⏟",MQ="⎵",FQ="⏝",IQ="⋃",OQ="⊎",NQ="Ų",qQ="ų",$Q="𝕌",BQ="𝕦",HQ="⤒",zQ="↑",jQ="↑",VQ="⇑",UQ="⇅",GQ="↕",WQ="↕",KQ="⇕",XQ="⥮",YQ="↿",ZQ="↾",JQ="⊎",QQ="↖",ttt="↗",ett="υ",stt="ϒ",ntt="ϒ",itt="Υ",rtt="υ",ott="↥",att="⊥",ctt="⇈",ltt="⌝",htt="⌝",utt="⌎",dtt="Ů",ftt="ů",ptt="◹",gtt="𝒰",mtt="𝓊",btt="⋰",_tt="Ũ",vtt="ũ",ytt="▵",Att="▴",wtt="⇈",xtt="Ü",Ett="ü",Ctt="⦧",ktt="⦜",Stt="ϵ",Ttt="ϰ",Rtt="∅",Dtt="ϕ",Ptt="ϖ",Ltt="∝",Mtt="↕",Ftt="⇕",Itt="ϱ",Ott="ς",Ntt="⊊︀",qtt="⫋︀",$tt="⊋︀",Btt="⫌︀",Htt="ϑ",ztt="⊲",jtt="⊳",Vtt="⫨",Utt="⫫",Gtt="⫩",Wtt="В",Ktt="в",Xtt="⊢",Ytt="⊨",Ztt="⊩",Jtt="⊫",Qtt="⫦",tet="⊻",eet="∨",set="⋁",net="≚",iet="⋮",ret="|",oet="‖",aet="|",cet="‖",het="∣",uet="|",det="❘",fet="≀",pet=" ",get="𝔙",met="𝔳",bet="⊲",_et="⊂⃒",vet="⊃⃒",yet="𝕍",Aet="𝕧",wet="∝",xet="⊳",Eet="𝒱",Cet="𝓋",ket="⫋︀",Tet="⊊︀",Ret="⫌︀",Det="⊋︀",Pet="⊪",Let="⦚",Met="Ŵ",Fet="ŵ",Iet="⩟",Oet="∧",Net="⋀",qet="≙",$et="℘",Bet="𝔚",Het="𝔴",zet="𝕎",jet="𝕨",Vet="℘",Uet="≀",Get="≀",Wet="𝒲",Ket="𝓌",Xet="⋂",Yet="◯",Zet="⋃",Jet="▽",Qet="𝔛",tst="𝔵",est="⟷",sst="⟺",nst="Ξ",ist="ξ",rst="⟵",ost="⟸",ast="⟼",cst="⋻",lst="⨀",hst="𝕏",ust="𝕩",dst="⨁",fst="⨂",pst="⟶",gst="⟹",mst="𝒳",bst="𝓍",_st="⨆",vst="⨄",yst="△",Ast="⋁",wst="⋀",xst="Ý",Est="ý",Cst="Я",kst="я",Sst="Ŷ",Tst="ŷ",Rst="Ы",Dst="ы",Pst="¥",Lst="𝔜",Mst="𝔶",Fst="Ї",Ist="ї",Ost="𝕐",Nst="𝕪",qst="𝒴",$st="𝓎",Bst="Ю",Hst="ю",zst="ÿ",jst="Ÿ",Vst="Ź",Ust="ź",Gst="Ž",Wst="ž",Kst="З",Xst="з",Yst="Ż",Zst="ż",Jst="ℨ",Qst="​",tnt="Ζ",ent="ζ",snt="𝔷",nnt="ℨ",int="Ж",rnt="ж",ont="⇝",ant="𝕫",cnt="ℤ",lnt="𝒵",hnt="𝓏",unt="‍",dnt="‌",fnt={Aacute:Kk,aacute:Xk,Abreve:Yk,abreve:Zk,ac:Jk,acd:Qk,acE:t1,Acirc:e1,acirc:s1,acute:n1,Acy:i1,acy:r1,AElig:o1,aelig:a1,af:c1,Afr:l1,afr:h1,Agrave:u1,agrave:d1,alefsym:f1,aleph:p1,Alpha:g1,alpha:m1,Amacr:b1,amacr:_1,amalg:v1,amp:y1,AMP:A1,andand:w1,And:x1,and:E1,andd:C1,andslope:k1,andv:S1,ang:T1,ange:R1,angle:D1,angmsdaa:P1,angmsdab:L1,angmsdac:M1,angmsdad:F1,angmsdae:I1,angmsdaf:O1,angmsdag:N1,angmsdah:q1,angmsd:$1,angrt:B1,angrtvb:H1,angrtvbd:z1,angsph:j1,angst:V1,angzarr:U1,Aogon:G1,aogon:W1,Aopf:K1,aopf:X1,apacir:Y1,ap:Z1,apE:J1,ape:Q1,apid:tS,apos:eS,ApplyFunction:sS,approx:nS,approxeq:iS,Aring:rS,aring:oS,Ascr:aS,ascr:cS,Assign:lS,ast:hS,asymp:uS,asympeq:dS,Atilde:fS,atilde:pS,Auml:gS,auml:mS,awconint:bS,awint:_S,backcong:vS,backepsilon:yS,backprime:AS,backsim:wS,backsimeq:xS,Backslash:ES,Barv:CS,barvee:kS,barwed:SS,Barwed:TS,barwedge:RS,bbrk:DS,bbrktbrk:PS,bcong:LS,Bcy:MS,bcy:FS,bdquo:IS,becaus:OS,because:NS,Because:qS,bemptyv:$S,bepsi:BS,bernou:HS,Bernoullis:zS,Beta:jS,beta:VS,beth:US,between:GS,Bfr:WS,bfr:KS,bigcap:XS,bigcirc:YS,bigcup:ZS,bigodot:JS,bigoplus:QS,bigotimes:tT,bigsqcup:eT,bigstar:sT,bigtriangledown:nT,bigtriangleup:iT,biguplus:rT,bigvee:oT,bigwedge:aT,bkarow:cT,blacklozenge:lT,blacksquare:hT,blacktriangle:uT,blacktriangledown:dT,blacktriangleleft:fT,blacktriangleright:pT,blank:gT,blk12:mT,blk14:bT,blk34:_T,block:vT,bne:yT,bnequiv:AT,bNot:wT,bnot:xT,Bopf:ET,bopf:CT,bot:kT,bottom:ST,bowtie:TT,boxbox:RT,boxdl:DT,boxdL:PT,boxDl:LT,boxDL:MT,boxdr:FT,boxdR:IT,boxDr:OT,boxDR:NT,boxh:qT,boxH:$T,boxhd:BT,boxHd:HT,boxhD:zT,boxHD:jT,boxhu:VT,boxHu:UT,boxhU:GT,boxHU:WT,boxminus:KT,boxplus:XT,boxtimes:YT,boxul:ZT,boxuL:JT,boxUl:QT,boxUL:tR,boxur:eR,boxuR:sR,boxUr:nR,boxUR:iR,boxv:rR,boxV:oR,boxvh:aR,boxvH:cR,boxVh:lR,boxVH:hR,boxvl:uR,boxvL:dR,boxVl:fR,boxVL:pR,boxvr:gR,boxvR:mR,boxVr:bR,boxVR:_R,bprime:vR,breve:yR,Breve:AR,brvbar:wR,bscr:xR,Bscr:ER,bsemi:CR,bsim:kR,bsime:SR,bsolb:TR,bsol:RR,bsolhsub:DR,bull:PR,bullet:LR,bump:MR,bumpE:FR,bumpe:IR,Bumpeq:OR,bumpeq:NR,Cacute:qR,cacute:$R,capand:BR,capbrcup:HR,capcap:zR,cap:jR,Cap:VR,capcup:UR,capdot:GR,CapitalDifferentialD:WR,caps:KR,caret:XR,caron:YR,Cayleys:ZR,ccaps:JR,Ccaron:QR,ccaron:tD,Ccedil:eD,ccedil:sD,Ccirc:nD,ccirc:iD,Cconint:rD,ccups:oD,ccupssm:aD,Cdot:cD,cdot:lD,cedil:hD,Cedilla:uD,cemptyv:dD,cent:fD,centerdot:pD,CenterDot:gD,cfr:mD,Cfr:bD,CHcy:_D,chcy:vD,check:yD,checkmark:AD,Chi:wD,chi:xD,circ:ED,circeq:CD,circlearrowleft:kD,circlearrowright:SD,circledast:TD,circledcirc:RD,circleddash:DD,CircleDot:PD,circledR:LD,circledS:MD,CircleMinus:FD,CirclePlus:ID,CircleTimes:OD,cir:ND,cirE:qD,cire:$D,cirfnint:BD,cirmid:HD,cirscir:zD,ClockwiseContourIntegral:jD,CloseCurlyDoubleQuote:VD,CloseCurlyQuote:UD,clubs:GD,clubsuit:WD,colon:KD,Colon:XD,Colone:YD,colone:ZD,coloneq:JD,comma:QD,commat:tP,comp:eP,compfn:sP,complement:nP,complexes:iP,cong:rP,congdot:oP,Congruent:aP,conint:cP,Conint:lP,ContourIntegral:hP,copf:uP,Copf:dP,coprod:fP,Coproduct:pP,copy:gP,COPY:mP,copysr:bP,CounterClockwiseContourIntegral:_P,crarr:vP,cross:yP,Cross:AP,Cscr:wP,cscr:xP,csub:EP,csube:CP,csup:kP,csupe:SP,ctdot:TP,cudarrl:RP,cudarrr:DP,cuepr:PP,cuesc:LP,cularr:MP,cularrp:FP,cupbrcap:IP,cupcap:OP,CupCap:NP,cup:qP,Cup:$P,cupcup:BP,cupdot:HP,cupor:zP,cups:jP,curarr:VP,curarrm:UP,curlyeqprec:GP,curlyeqsucc:WP,curlyvee:KP,curlywedge:XP,curren:YP,curvearrowleft:ZP,curvearrowright:JP,cuvee:QP,cuwed:tL,cwconint:eL,cwint:sL,cylcty:nL,dagger:iL,Dagger:rL,daleth:oL,darr:aL,Darr:cL,dArr:lL,dash:hL,Dashv:uL,dashv:dL,dbkarow:fL,dblac:pL,Dcaron:gL,dcaron:mL,Dcy:bL,dcy:_L,ddagger:vL,ddarr:yL,DD:AL,dd:wL,DDotrahd:xL,ddotseq:EL,deg:CL,Del:kL,Delta:SL,delta:TL,demptyv:RL,dfisht:DL,Dfr:PL,dfr:LL,dHar:ML,dharl:FL,dharr:IL,DiacriticalAcute:OL,DiacriticalDot:NL,DiacriticalDoubleAcute:qL,DiacriticalGrave:$L,DiacriticalTilde:BL,diam:HL,diamond:zL,Diamond:jL,diamondsuit:VL,diams:UL,die:GL,DifferentialD:WL,digamma:KL,disin:XL,div:YL,divide:ZL,divideontimes:JL,divonx:QL,DJcy:tM,djcy:eM,dlcorn:sM,dlcrop:nM,dollar:iM,Dopf:rM,dopf:oM,Dot:aM,dot:cM,DotDot:lM,doteq:hM,doteqdot:uM,DotEqual:dM,dotminus:fM,dotplus:pM,dotsquare:gM,doublebarwedge:mM,DoubleContourIntegral:bM,DoubleDot:_M,DoubleDownArrow:vM,DoubleLeftArrow:yM,DoubleLeftRightArrow:AM,DoubleLeftTee:wM,DoubleLongLeftArrow:xM,DoubleLongLeftRightArrow:EM,DoubleLongRightArrow:CM,DoubleRightArrow:kM,DoubleRightTee:SM,DoubleUpArrow:TM,DoubleUpDownArrow:RM,DoubleVerticalBar:DM,DownArrowBar:PM,downarrow:LM,DownArrow:MM,Downarrow:FM,DownArrowUpArrow:IM,DownBreve:OM,downdownarrows:NM,downharpoonleft:qM,downharpoonright:$M,DownLeftRightVector:BM,DownLeftTeeVector:HM,DownLeftVectorBar:zM,DownLeftVector:jM,DownRightTeeVector:VM,DownRightVectorBar:UM,DownRightVector:GM,DownTeeArrow:WM,DownTee:KM,drbkarow:XM,drcorn:YM,drcrop:ZM,Dscr:JM,dscr:QM,DScy:tF,dscy:eF,dsol:sF,Dstrok:nF,dstrok:iF,dtdot:rF,dtri:oF,dtrif:aF,duarr:cF,duhar:lF,dwangle:hF,DZcy:uF,dzcy:dF,dzigrarr:fF,Eacute:pF,eacute:gF,easter:mF,Ecaron:bF,ecaron:_F,Ecirc:vF,ecirc:yF,ecir:AF,ecolon:wF,Ecy:xF,ecy:EF,eDDot:CF,Edot:kF,edot:SF,eDot:TF,ee:RF,efDot:DF,Efr:PF,efr:LF,eg:MF,Egrave:FF,egrave:IF,egs:OF,egsdot:NF,el:qF,Element:$F,elinters:BF,ell:HF,els:zF,elsdot:jF,Emacr:VF,emacr:UF,empty:GF,emptyset:WF,EmptySmallSquare:KF,emptyv:XF,EmptyVerySmallSquare:YF,emsp13:ZF,emsp14:JF,emsp:QF,ENG:tI,eng:eI,ensp:sI,Eogon:nI,eogon:iI,Eopf:rI,eopf:oI,epar:aI,eparsl:cI,eplus:lI,epsi:hI,Epsilon:uI,epsilon:dI,epsiv:fI,eqcirc:pI,eqcolon:gI,eqsim:mI,eqslantgtr:bI,eqslantless:_I,Equal:vI,equals:yI,EqualTilde:AI,equest:wI,Equilibrium:xI,equiv:EI,equivDD:CI,eqvparsl:kI,erarr:SI,erDot:TI,escr:RI,Escr:DI,esdot:PI,Esim:LI,esim:MI,Eta:FI,eta:II,ETH:OI,eth:NI,Euml:qI,euml:$I,euro:BI,excl:HI,exist:zI,Exists:jI,expectation:VI,exponentiale:UI,ExponentialE:GI,fallingdotseq:WI,Fcy:KI,fcy:XI,female:YI,ffilig:ZI,fflig:JI,ffllig:QI,Ffr:tO,ffr:eO,filig:sO,FilledSmallSquare:nO,FilledVerySmallSquare:iO,fjlig:rO,flat:oO,fllig:aO,fltns:cO,fnof:lO,Fopf:hO,fopf:uO,forall:dO,ForAll:fO,fork:pO,forkv:gO,Fouriertrf:mO,fpartint:bO,frac12:_O,frac13:vO,frac14:yO,frac15:AO,frac16:wO,frac18:xO,frac23:EO,frac25:CO,frac34:kO,frac35:SO,frac38:TO,frac45:RO,frac56:DO,frac58:PO,frac78:LO,frasl:MO,frown:FO,fscr:IO,Fscr:OO,gacute:NO,Gamma:qO,gamma:$O,Gammad:BO,gammad:HO,gap:zO,Gbreve:jO,gbreve:VO,Gcedil:UO,Gcirc:GO,gcirc:WO,Gcy:KO,gcy:XO,Gdot:YO,gdot:ZO,ge:JO,gE:QO,gEl:t2,gel:e2,geq:s2,geqq:n2,geqslant:i2,gescc:r2,ges:o2,gesdot:a2,gesdoto:c2,gesdotol:l2,gesl:h2,gesles:u2,Gfr:d2,gfr:f2,gg:p2,Gg:g2,ggg:m2,gimel:b2,GJcy:_2,gjcy:v2,gla:y2,gl:A2,glE:w2,glj:x2,gnap:E2,gnapprox:C2,gne:k2,gnE:S2,gneq:T2,gneqq:R2,gnsim:D2,Gopf:P2,gopf:L2,grave:M2,GreaterEqual:F2,GreaterEqualLess:I2,GreaterFullEqual:O2,GreaterGreater:N2,GreaterLess:q2,GreaterSlantEqual:$2,GreaterTilde:B2,Gscr:H2,gscr:z2,gsim:j2,gsime:V2,gsiml:U2,gtcc:G2,gtcir:W2,gt:K2,GT:X2,Gt:Y2,gtdot:Z2,gtlPar:J2,gtquest:Q2,gtrapprox:tN,gtrarr:eN,gtrdot:sN,gtreqless:nN,gtreqqless:iN,gtrless:rN,gtrsim:oN,gvertneqq:aN,gvnE:cN,Hacek:lN,hairsp:hN,half:uN,hamilt:dN,HARDcy:fN,hardcy:pN,harrcir:gN,harr:mN,hArr:bN,harrw:_N,Hat:vN,hbar:yN,Hcirc:AN,hcirc:wN,hearts:xN,heartsuit:EN,hellip:CN,hercon:kN,hfr:SN,Hfr:TN,HilbertSpace:RN,hksearow:DN,hkswarow:PN,hoarr:LN,homtht:MN,hookleftarrow:FN,hookrightarrow:IN,hopf:ON,Hopf:NN,horbar:qN,HorizontalLine:$N,hscr:BN,Hscr:HN,hslash:zN,Hstrok:jN,hstrok:VN,HumpDownHump:UN,HumpEqual:GN,hybull:WN,hyphen:KN,Iacute:XN,iacute:YN,ic:ZN,Icirc:JN,icirc:QN,Icy:tq,icy:eq,Idot:sq,IEcy:nq,iecy:iq,iexcl:rq,iff:oq,ifr:aq,Ifr:cq,Igrave:lq,igrave:hq,ii:uq,iiiint:dq,iiint:fq,iinfin:pq,iiota:gq,IJlig:mq,ijlig:bq,Imacr:_q,imacr:vq,image:yq,ImaginaryI:Aq,imagline:wq,imagpart:xq,imath:Eq,Im:Cq,imof:kq,imped:Sq,Implies:Tq,incare:Rq,in:"∈",infin:Dq,infintie:Pq,inodot:Lq,intcal:Mq,int:Fq,Int:Iq,integers:Oq,Integral:Nq,intercal:qq,Intersection:$q,intlarhk:Bq,intprod:Hq,InvisibleComma:zq,InvisibleTimes:jq,IOcy:Vq,iocy:Uq,Iogon:Gq,iogon:Wq,Iopf:Kq,iopf:Xq,Iota:Yq,iota:Zq,iprod:Jq,iquest:Qq,iscr:t$,Iscr:e$,isin:s$,isindot:n$,isinE:i$,isins:r$,isinsv:o$,isinv:a$,it:c$,Itilde:l$,itilde:h$,Iukcy:u$,iukcy:d$,Iuml:f$,iuml:p$,Jcirc:g$,jcirc:m$,Jcy:b$,jcy:_$,Jfr:v$,jfr:y$,jmath:A$,Jopf:w$,jopf:x$,Jscr:E$,jscr:C$,Jsercy:k$,jsercy:S$,Jukcy:T$,jukcy:R$,Kappa:D$,kappa:P$,kappav:L$,Kcedil:M$,kcedil:F$,Kcy:I$,kcy:O$,Kfr:N$,kfr:q$,kgreen:$$,KHcy:B$,khcy:H$,KJcy:z$,kjcy:j$,Kopf:V$,kopf:U$,Kscr:G$,kscr:W$,lAarr:K$,Lacute:X$,lacute:Y$,laemptyv:Z$,lagran:J$,Lambda:Q$,lambda:tB,lang:eB,Lang:sB,langd:nB,langle:iB,lap:rB,Laplacetrf:oB,laquo:aB,larrb:cB,larrbfs:lB,larr:hB,Larr:uB,lArr:dB,larrfs:fB,larrhk:pB,larrlp:gB,larrpl:mB,larrsim:bB,larrtl:_B,latail:vB,lAtail:yB,lat:AB,late:wB,lates:xB,lbarr:EB,lBarr:CB,lbbrk:kB,lbrace:SB,lbrack:TB,lbrke:RB,lbrksld:DB,lbrkslu:PB,Lcaron:LB,lcaron:MB,Lcedil:FB,lcedil:IB,lceil:OB,lcub:NB,Lcy:qB,lcy:$B,ldca:BB,ldquo:HB,ldquor:zB,ldrdhar:jB,ldrushar:VB,ldsh:UB,le:GB,lE:WB,LeftAngleBracket:KB,LeftArrowBar:XB,leftarrow:YB,LeftArrow:ZB,Leftarrow:JB,LeftArrowRightArrow:QB,leftarrowtail:t3,LeftCeiling:e3,LeftDoubleBracket:s3,LeftDownTeeVector:n3,LeftDownVectorBar:i3,LeftDownVector:r3,LeftFloor:o3,leftharpoondown:a3,leftharpoonup:c3,leftleftarrows:l3,leftrightarrow:h3,LeftRightArrow:u3,Leftrightarrow:d3,leftrightarrows:f3,leftrightharpoons:p3,leftrightsquigarrow:g3,LeftRightVector:m3,LeftTeeArrow:b3,LeftTee:_3,LeftTeeVector:v3,leftthreetimes:y3,LeftTriangleBar:A3,LeftTriangle:w3,LeftTriangleEqual:x3,LeftUpDownVector:E3,LeftUpTeeVector:C3,LeftUpVectorBar:k3,LeftUpVector:S3,LeftVectorBar:T3,LeftVector:R3,lEg:D3,leg:P3,leq:L3,leqq:M3,leqslant:F3,lescc:I3,les:O3,lesdot:N3,lesdoto:q3,lesdotor:$3,lesg:B3,lesges:H3,lessapprox:z3,lessdot:j3,lesseqgtr:V3,lesseqqgtr:U3,LessEqualGreater:G3,LessFullEqual:W3,LessGreater:K3,lessgtr:X3,LessLess:Y3,lesssim:Z3,LessSlantEqual:J3,LessTilde:Q3,lfisht:tH,lfloor:eH,Lfr:sH,lfr:nH,lg:iH,lgE:rH,lHar:oH,lhard:aH,lharu:cH,lharul:lH,lhblk:hH,LJcy:uH,ljcy:dH,llarr:fH,ll:pH,Ll:gH,llcorner:mH,Lleftarrow:bH,llhard:_H,lltri:vH,Lmidot:yH,lmidot:AH,lmoustache:wH,lmoust:xH,lnap:EH,lnapprox:CH,lne:kH,lnE:SH,lneq:TH,lneqq:RH,lnsim:DH,loang:PH,loarr:LH,lobrk:MH,longleftarrow:FH,LongLeftArrow:IH,Longleftarrow:OH,longleftrightarrow:NH,LongLeftRightArrow:qH,Longleftrightarrow:$H,longmapsto:BH,longrightarrow:HH,LongRightArrow:zH,Longrightarrow:jH,looparrowleft:VH,looparrowright:UH,lopar:GH,Lopf:WH,lopf:KH,loplus:XH,lotimes:YH,lowast:ZH,lowbar:JH,LowerLeftArrow:QH,LowerRightArrow:tz,loz:ez,lozenge:sz,lozf:nz,lpar:iz,lparlt:rz,lrarr:oz,lrcorner:az,lrhar:cz,lrhard:lz,lrm:hz,lrtri:uz,lsaquo:dz,lscr:fz,Lscr:pz,lsh:gz,Lsh:mz,lsim:bz,lsime:_z,lsimg:vz,lsqb:yz,lsquo:Az,lsquor:wz,Lstrok:xz,lstrok:Ez,ltcc:Cz,ltcir:kz,lt:Sz,LT:Tz,Lt:Rz,ltdot:Dz,lthree:Pz,ltimes:Lz,ltlarr:Mz,ltquest:Fz,ltri:Iz,ltrie:Oz,ltrif:Nz,ltrPar:qz,lurdshar:$z,luruhar:Bz,lvertneqq:Hz,lvnE:zz,macr:jz,male:Vz,malt:Uz,maltese:Gz,Map:"⤅",map:Wz,mapsto:Kz,mapstodown:Xz,mapstoleft:Yz,mapstoup:Zz,marker:Jz,mcomma:Qz,Mcy:tj,mcy:ej,mdash:sj,mDDot:nj,measuredangle:ij,MediumSpace:rj,Mellintrf:oj,Mfr:aj,mfr:cj,mho:lj,micro:hj,midast:uj,midcir:dj,mid:fj,middot:pj,minusb:gj,minus:mj,minusd:bj,minusdu:_j,MinusPlus:vj,mlcp:yj,mldr:Aj,mnplus:wj,models:xj,Mopf:Ej,mopf:Cj,mp:kj,mscr:Sj,Mscr:Tj,mstpos:Rj,Mu:Dj,mu:Pj,multimap:Lj,mumap:Mj,nabla:Fj,Nacute:Ij,nacute:Oj,nang:Nj,nap:qj,napE:$j,napid:Bj,napos:Hj,napprox:zj,natural:jj,naturals:Vj,natur:Uj,nbsp:Gj,nbump:Wj,nbumpe:Kj,ncap:Xj,Ncaron:Yj,ncaron:Zj,Ncedil:Jj,ncedil:Qj,ncong:tV,ncongdot:eV,ncup:sV,Ncy:nV,ncy:iV,ndash:rV,nearhk:oV,nearr:aV,neArr:cV,nearrow:lV,ne:hV,nedot:uV,NegativeMediumSpace:dV,NegativeThickSpace:fV,NegativeThinSpace:pV,NegativeVeryThinSpace:gV,nequiv:mV,nesear:bV,nesim:_V,NestedGreaterGreater:vV,NestedLessLess:yV,NewLine:AV,nexist:wV,nexists:xV,Nfr:EV,nfr:CV,ngE:kV,nge:SV,ngeq:TV,ngeqq:RV,ngeqslant:DV,nges:PV,nGg:LV,ngsim:MV,nGt:FV,ngt:IV,ngtr:OV,nGtv:NV,nharr:qV,nhArr:$V,nhpar:BV,ni:HV,nis:zV,nisd:jV,niv:VV,NJcy:UV,njcy:GV,nlarr:WV,nlArr:KV,nldr:XV,nlE:YV,nle:ZV,nleftarrow:JV,nLeftarrow:QV,nleftrightarrow:tU,nLeftrightarrow:eU,nleq:sU,nleqq:nU,nleqslant:iU,nles:rU,nless:oU,nLl:aU,nlsim:cU,nLt:lU,nlt:hU,nltri:uU,nltrie:dU,nLtv:fU,nmid:pU,NoBreak:gU,NonBreakingSpace:mU,nopf:bU,Nopf:_U,Not:vU,not:yU,NotCongruent:AU,NotCupCap:wU,NotDoubleVerticalBar:xU,NotElement:EU,NotEqual:CU,NotEqualTilde:kU,NotExists:SU,NotGreater:TU,NotGreaterEqual:RU,NotGreaterFullEqual:DU,NotGreaterGreater:PU,NotGreaterLess:LU,NotGreaterSlantEqual:MU,NotGreaterTilde:FU,NotHumpDownHump:IU,NotHumpEqual:OU,notin:NU,notindot:qU,notinE:$U,notinva:BU,notinvb:HU,notinvc:zU,NotLeftTriangleBar:jU,NotLeftTriangle:VU,NotLeftTriangleEqual:UU,NotLess:GU,NotLessEqual:WU,NotLessGreater:KU,NotLessLess:XU,NotLessSlantEqual:YU,NotLessTilde:ZU,NotNestedGreaterGreater:JU,NotNestedLessLess:QU,notni:t4,notniva:e4,notnivb:s4,notnivc:n4,NotPrecedes:i4,NotPrecedesEqual:r4,NotPrecedesSlantEqual:o4,NotReverseElement:a4,NotRightTriangleBar:c4,NotRightTriangle:l4,NotRightTriangleEqual:h4,NotSquareSubset:u4,NotSquareSubsetEqual:d4,NotSquareSuperset:f4,NotSquareSupersetEqual:p4,NotSubset:g4,NotSubsetEqual:m4,NotSucceeds:b4,NotSucceedsEqual:_4,NotSucceedsSlantEqual:v4,NotSucceedsTilde:y4,NotSuperset:A4,NotSupersetEqual:w4,NotTilde:x4,NotTildeEqual:E4,NotTildeFullEqual:C4,NotTildeTilde:k4,NotVerticalBar:S4,nparallel:T4,npar:R4,nparsl:D4,npart:P4,npolint:L4,npr:M4,nprcue:F4,nprec:I4,npreceq:O4,npre:N4,nrarrc:q4,nrarr:$4,nrArr:B4,nrarrw:H4,nrightarrow:z4,nRightarrow:j4,nrtri:V4,nrtrie:U4,nsc:G4,nsccue:W4,nsce:K4,Nscr:X4,nscr:Y4,nshortmid:Z4,nshortparallel:J4,nsim:Q4,nsime:t6,nsimeq:e6,nsmid:s6,nspar:n6,nsqsube:i6,nsqsupe:r6,nsub:o6,nsubE:a6,nsube:c6,nsubset:l6,nsubseteq:h6,nsubseteqq:u6,nsucc:d6,nsucceq:f6,nsup:p6,nsupE:g6,nsupe:m6,nsupset:b6,nsupseteq:_6,nsupseteqq:v6,ntgl:y6,Ntilde:A6,ntilde:w6,ntlg:x6,ntriangleleft:E6,ntrianglelefteq:C6,ntriangleright:k6,ntrianglerighteq:S6,Nu:T6,nu:R6,num:D6,numero:P6,numsp:L6,nvap:M6,nvdash:F6,nvDash:I6,nVdash:O6,nVDash:N6,nvge:q6,nvgt:$6,nvHarr:B6,nvinfin:H6,nvlArr:z6,nvle:j6,nvlt:V6,nvltrie:U6,nvrArr:G6,nvrtrie:W6,nvsim:K6,nwarhk:X6,nwarr:Y6,nwArr:Z6,nwarrow:J6,nwnear:Q6,Oacute:t8,oacute:e8,oast:s8,Ocirc:n8,ocirc:i8,ocir:r8,Ocy:o8,ocy:a8,odash:c8,Odblac:l8,odblac:h8,odiv:u8,odot:d8,odsold:f8,OElig:p8,oelig:g8,ofcir:m8,Ofr:b8,ofr:_8,ogon:v8,Ograve:y8,ograve:A8,ogt:w8,ohbar:x8,ohm:E8,oint:C8,olarr:k8,olcir:S8,olcross:T8,oline:R8,olt:D8,Omacr:P8,omacr:L8,Omega:M8,omega:F8,Omicron:I8,omicron:O8,omid:N8,ominus:q8,Oopf:$8,oopf:B8,opar:H8,OpenCurlyDoubleQuote:z8,OpenCurlyQuote:j8,operp:V8,oplus:U8,orarr:G8,Or:W8,or:K8,ord:X8,order:Y8,orderof:Z8,ordf:J8,ordm:Q8,origof:t5,oror:e5,orslope:s5,orv:n5,oS:i5,Oscr:r5,oscr:o5,Oslash:a5,oslash:c5,osol:l5,Otilde:h5,otilde:u5,otimesas:d5,Otimes:f5,otimes:p5,Ouml:g5,ouml:m5,ovbar:b5,OverBar:_5,OverBrace:v5,OverBracket:y5,OverParenthesis:A5,para:w5,parallel:x5,par:E5,parsim:C5,parsl:k5,part:S5,PartialD:T5,Pcy:R5,pcy:D5,percnt:P5,period:L5,permil:M5,perp:F5,pertenk:I5,Pfr:O5,pfr:N5,Phi:q5,phi:$5,phiv:B5,phmmat:H5,phone:z5,Pi:j5,pi:V5,pitchfork:U5,piv:G5,planck:W5,planckh:K5,plankv:X5,plusacir:Y5,plusb:Z5,pluscir:J5,plus:Q5,plusdo:tG,plusdu:eG,pluse:sG,PlusMinus:nG,plusmn:iG,plussim:rG,plustwo:oG,pm:aG,Poincareplane:cG,pointint:lG,popf:hG,Popf:uG,pound:dG,prap:fG,Pr:pG,pr:gG,prcue:mG,precapprox:bG,prec:_G,preccurlyeq:vG,Precedes:yG,PrecedesEqual:AG,PrecedesSlantEqual:wG,PrecedesTilde:xG,preceq:EG,precnapprox:CG,precneqq:kG,precnsim:SG,pre:TG,prE:RG,precsim:DG,prime:PG,Prime:LG,primes:MG,prnap:FG,prnE:IG,prnsim:OG,prod:NG,Product:qG,profalar:$G,profline:BG,profsurf:HG,prop:zG,Proportional:jG,Proportion:VG,propto:UG,prsim:GG,prurel:WG,Pscr:KG,pscr:XG,Psi:YG,psi:ZG,puncsp:JG,Qfr:QG,qfr:tW,qint:eW,qopf:sW,Qopf:nW,qprime:iW,Qscr:rW,qscr:oW,quaternions:aW,quatint:cW,quest:lW,questeq:hW,quot:uW,QUOT:dW,rAarr:fW,race:pW,Racute:gW,racute:mW,radic:bW,raemptyv:_W,rang:vW,Rang:yW,rangd:AW,range:wW,rangle:xW,raquo:EW,rarrap:CW,rarrb:kW,rarrbfs:SW,rarrc:TW,rarr:RW,Rarr:DW,rArr:PW,rarrfs:LW,rarrhk:MW,rarrlp:FW,rarrpl:IW,rarrsim:OW,Rarrtl:NW,rarrtl:qW,rarrw:$W,ratail:BW,rAtail:HW,ratio:zW,rationals:jW,rbarr:VW,rBarr:UW,RBarr:GW,rbbrk:WW,rbrace:KW,rbrack:XW,rbrke:YW,rbrksld:ZW,rbrkslu:JW,Rcaron:QW,rcaron:tK,Rcedil:eK,rcedil:sK,rceil:nK,rcub:iK,Rcy:rK,rcy:oK,rdca:aK,rdldhar:cK,rdquo:lK,rdquor:hK,rdsh:uK,real:dK,realine:fK,realpart:pK,reals:gK,Re:mK,rect:bK,reg:_K,REG:vK,ReverseElement:yK,ReverseEquilibrium:AK,ReverseUpEquilibrium:wK,rfisht:xK,rfloor:EK,rfr:CK,Rfr:kK,rHar:SK,rhard:TK,rharu:RK,rharul:DK,Rho:PK,rho:LK,rhov:MK,RightAngleBracket:FK,RightArrowBar:IK,rightarrow:OK,RightArrow:NK,Rightarrow:qK,RightArrowLeftArrow:$K,rightarrowtail:BK,RightCeiling:HK,RightDoubleBracket:zK,RightDownTeeVector:jK,RightDownVectorBar:VK,RightDownVector:UK,RightFloor:GK,rightharpoondown:WK,rightharpoonup:KK,rightleftarrows:XK,rightleftharpoons:YK,rightrightarrows:ZK,rightsquigarrow:JK,RightTeeArrow:QK,RightTee:tX,RightTeeVector:eX,rightthreetimes:sX,RightTriangleBar:nX,RightTriangle:iX,RightTriangleEqual:rX,RightUpDownVector:oX,RightUpTeeVector:aX,RightUpVectorBar:cX,RightUpVector:lX,RightVectorBar:hX,RightVector:uX,ring:dX,risingdotseq:fX,rlarr:pX,rlhar:gX,rlm:mX,rmoustache:bX,rmoust:_X,rnmid:vX,roang:yX,roarr:AX,robrk:wX,ropar:xX,ropf:EX,Ropf:CX,roplus:kX,rotimes:SX,RoundImplies:TX,rpar:RX,rpargt:DX,rppolint:PX,rrarr:LX,Rrightarrow:MX,rsaquo:FX,rscr:IX,Rscr:OX,rsh:NX,Rsh:qX,rsqb:$X,rsquo:BX,rsquor:HX,rthree:zX,rtimes:jX,rtri:VX,rtrie:UX,rtrif:GX,rtriltri:WX,RuleDelayed:KX,ruluhar:XX,rx:YX,Sacute:ZX,sacute:JX,sbquo:QX,scap:t7,Scaron:e7,scaron:s7,Sc:n7,sc:i7,sccue:r7,sce:o7,scE:a7,Scedil:c7,scedil:l7,Scirc:h7,scirc:u7,scnap:d7,scnE:f7,scnsim:p7,scpolint:g7,scsim:m7,Scy:b7,scy:_7,sdotb:v7,sdot:y7,sdote:A7,searhk:w7,searr:x7,seArr:E7,searrow:C7,sect:k7,semi:S7,seswar:T7,setminus:R7,setmn:D7,sext:P7,Sfr:L7,sfr:M7,sfrown:F7,sharp:I7,SHCHcy:O7,shchcy:N7,SHcy:q7,shcy:$7,ShortDownArrow:B7,ShortLeftArrow:H7,shortmid:z7,shortparallel:j7,ShortRightArrow:V7,ShortUpArrow:U7,shy:G7,Sigma:W7,sigma:K7,sigmaf:X7,sigmav:Y7,sim:Z7,simdot:J7,sime:Q7,simeq:tY,simg:eY,simgE:sY,siml:nY,simlE:iY,simne:rY,simplus:oY,simrarr:aY,slarr:cY,SmallCircle:lY,smallsetminus:hY,smashp:uY,smeparsl:dY,smid:fY,smile:pY,smt:gY,smte:mY,smtes:bY,SOFTcy:_Y,softcy:vY,solbar:yY,solb:AY,sol:wY,Sopf:xY,sopf:EY,spades:CY,spadesuit:kY,spar:SY,sqcap:TY,sqcaps:RY,sqcup:DY,sqcups:PY,Sqrt:LY,sqsub:MY,sqsube:FY,sqsubset:IY,sqsubseteq:OY,sqsup:NY,sqsupe:qY,sqsupset:$Y,sqsupseteq:BY,square:HY,Square:zY,SquareIntersection:jY,SquareSubset:VY,SquareSubsetEqual:UY,SquareSuperset:GY,SquareSupersetEqual:WY,SquareUnion:KY,squarf:XY,squ:YY,squf:ZY,srarr:JY,Sscr:QY,sscr:t9,ssetmn:e9,ssmile:s9,sstarf:n9,Star:i9,star:r9,starf:o9,straightepsilon:a9,straightphi:c9,strns:l9,sub:h9,Sub:u9,subdot:d9,subE:f9,sube:p9,subedot:g9,submult:m9,subnE:b9,subne:_9,subplus:v9,subrarr:y9,subset:A9,Subset:w9,subseteq:x9,subseteqq:E9,SubsetEqual:C9,subsetneq:k9,subsetneqq:S9,subsim:T9,subsub:R9,subsup:D9,succapprox:P9,succ:L9,succcurlyeq:M9,Succeeds:F9,SucceedsEqual:I9,SucceedsSlantEqual:O9,SucceedsTilde:N9,succeq:q9,succnapprox:$9,succneqq:B9,succnsim:H9,succsim:z9,SuchThat:j9,sum:V9,Sum:U9,sung:G9,sup1:W9,sup2:K9,sup3:X9,sup:Y9,Sup:Z9,supdot:J9,supdsub:Q9,supE:tZ,supe:eZ,supedot:sZ,Superset:nZ,SupersetEqual:iZ,suphsol:rZ,suphsub:oZ,suplarr:aZ,supmult:cZ,supnE:lZ,supne:hZ,supplus:uZ,supset:dZ,Supset:fZ,supseteq:pZ,supseteqq:gZ,supsetneq:mZ,supsetneqq:bZ,supsim:_Z,supsub:vZ,supsup:yZ,swarhk:AZ,swarr:wZ,swArr:xZ,swarrow:EZ,swnwar:CZ,szlig:kZ,Tab:SZ,target:TZ,Tau:RZ,tau:DZ,tbrk:PZ,Tcaron:LZ,tcaron:MZ,Tcedil:FZ,tcedil:IZ,Tcy:OZ,tcy:NZ,tdot:qZ,telrec:$Z,Tfr:BZ,tfr:HZ,there4:zZ,therefore:jZ,Therefore:VZ,Theta:UZ,theta:GZ,thetasym:WZ,thetav:KZ,thickapprox:XZ,thicksim:YZ,ThickSpace:ZZ,ThinSpace:JZ,thinsp:QZ,thkap:tJ,thksim:eJ,THORN:sJ,thorn:nJ,tilde:iJ,Tilde:rJ,TildeEqual:oJ,TildeFullEqual:aJ,TildeTilde:cJ,timesbar:lJ,timesb:hJ,times:uJ,timesd:dJ,tint:fJ,toea:pJ,topbot:gJ,topcir:mJ,top:bJ,Topf:_J,topf:vJ,topfork:yJ,tosa:AJ,tprime:wJ,trade:xJ,TRADE:EJ,triangle:CJ,triangledown:kJ,triangleleft:SJ,trianglelefteq:TJ,triangleq:RJ,triangleright:DJ,trianglerighteq:PJ,tridot:LJ,trie:MJ,triminus:FJ,TripleDot:IJ,triplus:OJ,trisb:NJ,tritime:qJ,trpezium:$J,Tscr:BJ,tscr:HJ,TScy:zJ,tscy:jJ,TSHcy:VJ,tshcy:UJ,Tstrok:GJ,tstrok:WJ,twixt:KJ,twoheadleftarrow:XJ,twoheadrightarrow:YJ,Uacute:ZJ,uacute:JJ,uarr:QJ,Uarr:tQ,uArr:eQ,Uarrocir:sQ,Ubrcy:nQ,ubrcy:iQ,Ubreve:rQ,ubreve:oQ,Ucirc:aQ,ucirc:cQ,Ucy:lQ,ucy:hQ,udarr:uQ,Udblac:dQ,udblac:fQ,udhar:pQ,ufisht:gQ,Ufr:mQ,ufr:bQ,Ugrave:_Q,ugrave:vQ,uHar:yQ,uharl:AQ,uharr:wQ,uhblk:xQ,ulcorn:EQ,ulcorner:CQ,ulcrop:kQ,ultri:SQ,Umacr:TQ,umacr:RQ,uml:DQ,UnderBar:PQ,UnderBrace:LQ,UnderBracket:MQ,UnderParenthesis:FQ,Union:IQ,UnionPlus:OQ,Uogon:NQ,uogon:qQ,Uopf:$Q,uopf:BQ,UpArrowBar:HQ,uparrow:zQ,UpArrow:jQ,Uparrow:VQ,UpArrowDownArrow:UQ,updownarrow:GQ,UpDownArrow:WQ,Updownarrow:KQ,UpEquilibrium:XQ,upharpoonleft:YQ,upharpoonright:ZQ,uplus:JQ,UpperLeftArrow:QQ,UpperRightArrow:ttt,upsi:ett,Upsi:stt,upsih:ntt,Upsilon:itt,upsilon:rtt,UpTeeArrow:ott,UpTee:att,upuparrows:ctt,urcorn:ltt,urcorner:htt,urcrop:utt,Uring:dtt,uring:ftt,urtri:ptt,Uscr:gtt,uscr:mtt,utdot:btt,Utilde:_tt,utilde:vtt,utri:ytt,utrif:Att,uuarr:wtt,Uuml:xtt,uuml:Ett,uwangle:Ctt,vangrt:ktt,varepsilon:Stt,varkappa:Ttt,varnothing:Rtt,varphi:Dtt,varpi:Ptt,varpropto:Ltt,varr:Mtt,vArr:Ftt,varrho:Itt,varsigma:Ott,varsubsetneq:Ntt,varsubsetneqq:qtt,varsupsetneq:$tt,varsupsetneqq:Btt,vartheta:Htt,vartriangleleft:ztt,vartriangleright:jtt,vBar:Vtt,Vbar:Utt,vBarv:Gtt,Vcy:Wtt,vcy:Ktt,vdash:Xtt,vDash:Ytt,Vdash:Ztt,VDash:Jtt,Vdashl:Qtt,veebar:tet,vee:eet,Vee:set,veeeq:net,vellip:iet,verbar:ret,Verbar:oet,vert:aet,Vert:cet,VerticalBar:het,VerticalLine:uet,VerticalSeparator:det,VerticalTilde:fet,VeryThinSpace:pet,Vfr:get,vfr:met,vltri:bet,vnsub:_et,vnsup:vet,Vopf:yet,vopf:Aet,vprop:wet,vrtri:xet,Vscr:Eet,vscr:Cet,vsubnE:ket,vsubne:Tet,vsupnE:Ret,vsupne:Det,Vvdash:Pet,vzigzag:Let,Wcirc:Met,wcirc:Fet,wedbar:Iet,wedge:Oet,Wedge:Net,wedgeq:qet,weierp:$et,Wfr:Bet,wfr:Het,Wopf:zet,wopf:jet,wp:Vet,wr:Uet,wreath:Get,Wscr:Wet,wscr:Ket,xcap:Xet,xcirc:Yet,xcup:Zet,xdtri:Jet,Xfr:Qet,xfr:tst,xharr:est,xhArr:sst,Xi:nst,xi:ist,xlarr:rst,xlArr:ost,xmap:ast,xnis:cst,xodot:lst,Xopf:hst,xopf:ust,xoplus:dst,xotime:fst,xrarr:pst,xrArr:gst,Xscr:mst,xscr:bst,xsqcup:_st,xuplus:vst,xutri:yst,xvee:Ast,xwedge:wst,Yacute:xst,yacute:Est,YAcy:Cst,yacy:kst,Ycirc:Sst,ycirc:Tst,Ycy:Rst,ycy:Dst,yen:Pst,Yfr:Lst,yfr:Mst,YIcy:Fst,yicy:Ist,Yopf:Ost,yopf:Nst,Yscr:qst,yscr:$st,YUcy:Bst,yucy:Hst,yuml:zst,Yuml:jst,Zacute:Vst,zacute:Ust,Zcaron:Gst,zcaron:Wst,Zcy:Kst,zcy:Xst,Zdot:Yst,zdot:Zst,zeetrf:Jst,ZeroWidthSpace:Qst,Zeta:tnt,zeta:ent,zfr:snt,Zfr:nnt,ZHcy:int,zhcy:rnt,zigrarr:ont,zopf:ant,Zopf:cnt,Zscr:lnt,zscr:hnt,zwj:unt,zwnj:dnt};var A0=fnt,rm=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,gc={},$b={};function pnt(n){var t,e,s=$b[n];if(s)return s;for(s=$b[n]=[],t=0;t<128;t++)e=String.fromCharCode(t),/^[0-9a-z]$/i.test(e)?s.push(e):s.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<n.length;t++)s[n.charCodeAt(t)]=n[t];return s}function sf(n,t,e){var s,i,r,o,a,c="";for(typeof t!="string"&&(e=t,t=sf.defaultChars),typeof e>"u"&&(e=!0),a=pnt(t),s=0,i=n.length;s<i;s++){if(r=n.charCodeAt(s),e&&r===37&&s+2<i&&/^[0-9a-f]{2}$/i.test(n.slice(s+1,s+3))){c+=n.slice(s,s+3),s+=2;continue}if(r<128){c+=a[r];continue}if(r>=55296&&r<=57343){if(r>=55296&&r<=56319&&s+1<i&&(o=n.charCodeAt(s+1),o>=56320&&o<=57343)){c+=encodeURIComponent(n[s]+n[s+1]),s++;continue}c+="%EF%BF%BD";continue}c+=encodeURIComponent(n[s])}return c}sf.defaultChars=";/?:@&=+$,-_.!~*'()#";sf.componentChars="-_.!~*'()";var gnt=sf,Bb={};function mnt(n){var t,e,s=Bb[n];if(s)return s;for(s=Bb[n]=[],t=0;t<128;t++)e=String.fromCharCode(t),s.push(e);for(t=0;t<n.length;t++)e=n.charCodeAt(t),s[e]="%"+("0"+e.toString(16).toUpperCase()).slice(-2);return s}function nf(n,t){var e;return typeof t!="string"&&(t=nf.defaultChars),e=mnt(t),n.replace(/(%[a-f0-9]{2})+/gi,function(s){var i,r,o,a,c,h,u,d="";for(i=0,r=s.length;i<r;i+=3){if(o=parseInt(s.slice(i+1,i+3),16),o<128){d+=e[o];continue}if((o&224)===192&&i+3<r&&(a=parseInt(s.slice(i+4,i+6),16),(a&192)===128)){u=o<<6&1984|a&63,u<128?d+="��":d+=String.fromCharCode(u),i+=3;continue}if((o&240)===224&&i+6<r&&(a=parseInt(s.slice(i+4,i+6),16),c=parseInt(s.slice(i+7,i+9),16),(a&192)===128&&(c&192)===128)){u=o<<12&61440|a<<6&4032|c&63,u<2048||u>=55296&&u<=57343?d+="���":d+=String.fromCharCode(u),i+=6;continue}if((o&248)===240&&i+9<r&&(a=parseInt(s.slice(i+4,i+6),16),c=parseInt(s.slice(i+7,i+9),16),h=parseInt(s.slice(i+10,i+12),16),(a&192)===128&&(c&192)===128&&(h&192)===128)){u=o<<18&1835008|a<<12&258048|c<<6&4032|h&63,u<65536||u>1114111?d+="����":(u-=65536,d+=String.fromCharCode(55296+(u>>10),56320+(u&1023))),i+=9;continue}d+="�"}return d})}nf.defaultChars=";/?:@&=+$,#";nf.componentChars="";var bnt=nf,_nt=function(t){var e="";return e+=t.protocol||"",e+=t.slashes?"//":"",e+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?e+="["+t.hostname+"]":e+=t.hostname||"",e+=t.port?":"+t.port:"",e+=t.pathname||"",e+=t.search||"",e+=t.hash||"",e};function hd(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var vnt=/^([a-z0-9.+-]+:)/i,ynt=/:[0-9]*$/,Ant=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,wnt=["<",">",'"',"`"," ","\r",`
`,"	"],xnt=["{","}","|","\\","^","`"].concat(wnt),Ent=["'"].concat(xnt),Hb=["%","/","?",";","#"].concat(Ent),zb=["/","?","#"],Cnt=255,jb=/^[+a-z0-9A-Z_-]{0,63}$/,knt=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Vb={javascript:!0,"javascript:":!0},Ub={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Snt(n,t){if(n&&n instanceof hd)return n;var e=new hd;return e.parse(n,t),e}hd.prototype.parse=function(n,t){var e,s,i,r,o,a=n;if(a=a.trim(),!t&&n.split("#").length===1){var c=Ant.exec(a);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}var h=vnt.exec(a);if(h&&(h=h[0],i=h.toLowerCase(),this.protocol=h,a=a.substr(h.length)),(t||h||a.match(/^\/\/[^@\/]+@[^@\/]+/))&&(o=a.substr(0,2)==="//",o&&!(h&&Vb[h])&&(a=a.substr(2),this.slashes=!0)),!Vb[h]&&(o||h&&!Ub[h])){var u=-1;for(e=0;e<zb.length;e++)r=a.indexOf(zb[e]),r!==-1&&(u===-1||r<u)&&(u=r);var d,f;for(u===-1?f=a.lastIndexOf("@"):f=a.lastIndexOf("@",u),f!==-1&&(d=a.slice(0,f),a=a.slice(f+1),this.auth=d),u=-1,e=0;e<Hb.length;e++)r=a.indexOf(Hb[e]),r!==-1&&(u===-1||r<u)&&(u=r);u===-1&&(u=a.length),a[u-1]===":"&&u--;var p=a.slice(0,u);a=a.slice(u),this.parseHost(p),this.hostname=this.hostname||"";var g=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!g){var m=this.hostname.split(/\./);for(e=0,s=m.length;e<s;e++){var A=m[e];if(A&&!A.match(jb)){for(var b="",w=0,C=A.length;w<C;w++)A.charCodeAt(w)>127?b+="x":b+=A[w];if(!b.match(jb)){var k=m.slice(0,e),R=m.slice(e+1),E=A.match(knt);E&&(k.push(E[1]),R.unshift(E[2])),R.length&&(a=R.join(".")+a),this.hostname=k.join(".");break}}}}this.hostname.length>Cnt&&(this.hostname=""),g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var L=a.indexOf("#");L!==-1&&(this.hash=a.substr(L),a=a.slice(0,L));var M=a.indexOf("?");return M!==-1&&(this.search=a.substr(M),a=a.slice(0,M)),a&&(this.pathname=a),Ub[i]&&this.hostname&&!this.pathname&&(this.pathname=""),this};hd.prototype.parseHost=function(n){var t=ynt.exec(n);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),n=n.substr(0,n.length-t.length)),n&&(this.hostname=n)};var Tnt=Snt;gc.encode=gnt;gc.decode=bnt;gc.format=_nt;gc.parse=Tnt;var Cr={},Of,Gb;function w0(){return Gb||(Gb=1,Of=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),Of}var Nf,Wb;function x0(){return Wb||(Wb=1,Nf=/[\0-\x1F\x7F-\x9F]/),Nf}var qf,Kb;function Rnt(){return Kb||(Kb=1,qf=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/),qf}var $f,Xb;function E0(){return Xb||(Xb=1,$f=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/),$f}var Yb;function Dnt(){return Yb||(Yb=1,Cr.Any=w0(),Cr.Cc=x0(),Cr.Cf=Rnt(),Cr.P=rm,Cr.Z=E0()),Cr}(function(n){function t(I){return Object.prototype.toString.call(I)}function e(I){return t(I)==="[object String]"}var s=Object.prototype.hasOwnProperty;function i(I,ot){return s.call(I,ot)}function r(I){var ot=Array.prototype.slice.call(arguments,1);return ot.forEach(function(tt){if(tt){if(typeof tt!="object")throw new TypeError(tt+"must be object");Object.keys(tt).forEach(function(V){I[V]=tt[V]})}}),I}function o(I,ot,tt){return[].concat(I.slice(0,ot),tt,I.slice(ot+1))}function a(I){return!(I>=55296&&I<=57343||I>=64976&&I<=65007||(I&65535)===65535||(I&65535)===65534||I>=0&&I<=8||I===11||I>=14&&I<=31||I>=127&&I<=159||I>1114111)}function c(I){if(I>65535){I-=65536;var ot=55296+(I>>10),tt=56320+(I&1023);return String.fromCharCode(ot,tt)}return String.fromCharCode(I)}var h=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,u=/&([a-z#][a-z0-9]{1,31});/gi,d=new RegExp(h.source+"|"+u.source,"gi"),f=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,p=A0;function g(I,ot){var tt=0;return i(p,ot)?p[ot]:ot.charCodeAt(0)===35&&f.test(ot)&&(tt=ot[1].toLowerCase()==="x"?parseInt(ot.slice(2),16):parseInt(ot.slice(1),10),a(tt))?c(tt):I}function m(I){return I.indexOf("\\")<0?I:I.replace(h,"$1")}function A(I){return I.indexOf("\\")<0&&I.indexOf("&")<0?I:I.replace(d,function(ot,tt,V){return tt||g(ot,V)})}var b=/[&<>"]/,w=/[&<>"]/g,C={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function k(I){return C[I]}function R(I){return b.test(I)?I.replace(w,k):I}var E=/[.?*+^$[\]\\(){}|-]/g;function L(I){return I.replace(E,"\\$&")}function M(I){switch(I){case 9:case 32:return!0}return!1}function U(I){if(I>=8192&&I<=8202)return!0;switch(I){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var N=rm;function B(I){return N.test(I)}function H(I){switch(I){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function nt(I){return I=I.trim().replace(/\s+/g," "),"ẞ".toLowerCase()==="Ṿ"&&(I=I.replace(/ẞ/g,"ß")),I.toLowerCase().toUpperCase()}n.lib={},n.lib.mdurl=gc,n.lib.ucmicro=Dnt(),n.assign=r,n.isString=e,n.has=i,n.unescapeMd=m,n.unescapeAll=A,n.isValidEntityCode=a,n.fromCodePoint=c,n.escapeHtml=R,n.arrayReplaceAt=o,n.isSpace=M,n.isWhiteSpace=U,n.isMdAsciiPunct=H,n.isPunctChar=B,n.escapeRE=L,n.normalizeReference=nt})(Dt);var rf={},Pnt=function(t,e,s){var i,r,o,a,c=-1,h=t.posMax,u=t.pos;for(t.pos=e+1,i=1;t.pos<h;){if(o=t.src.charCodeAt(t.pos),o===93&&(i--,i===0)){r=!0;break}if(a=t.pos,t.md.inline.skipToken(t),o===91){if(a===t.pos-1)i++;else if(s)return t.pos=u,-1}}return r&&(c=t.pos),t.pos=u,c},Zb=Dt.unescapeAll,Lnt=function(t,e,s){var i,r,o=0,a=e,c={ok:!1,pos:0,lines:0,str:""};if(t.charCodeAt(e)===60){for(e++;e<s;){if(i=t.charCodeAt(e),i===10||i===60)return c;if(i===62)return c.pos=e+1,c.str=Zb(t.slice(a+1,e)),c.ok=!0,c;if(i===92&&e+1<s){e+=2;continue}e++}return c}for(r=0;e<s&&(i=t.charCodeAt(e),!(i===32||i<32||i===127));){if(i===92&&e+1<s){if(t.charCodeAt(e+1)===32)break;e+=2;continue}if(i===40&&(r++,r>32))return c;if(i===41){if(r===0)break;r--}e++}return a===e||r!==0||(c.str=Zb(t.slice(a,e)),c.lines=o,c.pos=e,c.ok=!0),c},Mnt=Dt.unescapeAll,Fnt=function(t,e,s){var i,r,o=0,a=e,c={ok:!1,pos:0,lines:0,str:""};if(e>=s||(r=t.charCodeAt(e),r!==34&&r!==39&&r!==40))return c;for(e++,r===40&&(r=41);e<s;){if(i=t.charCodeAt(e),i===r)return c.pos=e+1,c.lines=o,c.str=Mnt(t.slice(a+1,e)),c.ok=!0,c;if(i===40&&r===41)return c;i===10?o++:i===92&&e+1<s&&(e++,t.charCodeAt(e)===10&&o++),e++}return c};rf.parseLinkLabel=Pnt;rf.parseLinkDestination=Lnt;rf.parseLinkTitle=Fnt;var Int=Dt.assign,Ont=Dt.unescapeAll,qo=Dt.escapeHtml,In={};In.code_inline=function(n,t,e,s,i){var r=n[t];return"<code"+i.renderAttrs(r)+">"+qo(n[t].content)+"</code>"};In.code_block=function(n,t,e,s,i){var r=n[t];return"<pre"+i.renderAttrs(r)+"><code>"+qo(n[t].content)+`</code></pre>
`};In.fence=function(n,t,e,s,i){var r=n[t],o=r.info?Ont(r.info).trim():"",a="",c="",h,u,d,f,p;return o&&(d=o.split(/(\s+)/g),a=d[0],c=d.slice(2).join("")),e.highlight?h=e.highlight(r.content,a,c)||qo(r.content):h=qo(r.content),h.indexOf("<pre")===0?h+`
`:o?(u=r.attrIndex("class"),f=r.attrs?r.attrs.slice():[],u<0?f.push(["class",e.langPrefix+a]):(f[u]=f[u].slice(),f[u][1]+=" "+e.langPrefix+a),p={attrs:f},"<pre><code"+i.renderAttrs(p)+">"+h+`</code></pre>
`):"<pre><code"+i.renderAttrs(r)+">"+h+`</code></pre>
`};In.image=function(n,t,e,s,i){var r=n[t];return r.attrs[r.attrIndex("alt")][1]=i.renderInlineAsText(r.children,e,s),i.renderToken(n,t,e)};In.hardbreak=function(n,t,e){return e.xhtmlOut?`<br />
`:`<br>
`};In.softbreak=function(n,t,e){return e.breaks?e.xhtmlOut?`<br />
`:`<br>
`:`
`};In.text=function(n,t){return qo(n[t].content)};In.html_block=function(n,t){return n[t].content};In.html_inline=function(n,t){return n[t].content};function mc(){this.rules=Int({},In)}mc.prototype.renderAttrs=function(t){var e,s,i;if(!t.attrs)return"";for(i="",e=0,s=t.attrs.length;e<s;e++)i+=" "+qo(t.attrs[e][0])+'="'+qo(t.attrs[e][1])+'"';return i};mc.prototype.renderToken=function(t,e,s){var i,r="",o=!1,a=t[e];return a.hidden?"":(a.block&&a.nesting!==-1&&e&&t[e-1].hidden&&(r+=`
`),r+=(a.nesting===-1?"</":"<")+a.tag,r+=this.renderAttrs(a),a.nesting===0&&s.xhtmlOut&&(r+=" /"),a.block&&(o=!0,a.nesting===1&&e+1<t.length&&(i=t[e+1],(i.type==="inline"||i.hidden||i.nesting===-1&&i.tag===a.tag)&&(o=!1))),r+=o?`>
`:">",r)};mc.prototype.renderInline=function(n,t,e){for(var s,i="",r=this.rules,o=0,a=n.length;o<a;o++)s=n[o].type,typeof r[s]<"u"?i+=r[s](n,o,t,e,this):i+=this.renderToken(n,o,t);return i};mc.prototype.renderInlineAsText=function(n,t,e){for(var s="",i=0,r=n.length;i<r;i++)n[i].type==="text"?s+=n[i].content:n[i].type==="image"?s+=this.renderInlineAsText(n[i].children,t,e):n[i].type==="softbreak"&&(s+=`
`);return s};mc.prototype.render=function(n,t,e){var s,i,r,o="",a=this.rules;for(s=0,i=n.length;s<i;s++)r=n[s].type,r==="inline"?o+=this.renderInline(n[s].children,t,e):typeof a[r]<"u"?o+=a[n[s].type](n,s,t,e,this):o+=this.renderToken(n,s,t,e);return o};var Nnt=mc;function nn(){this.__rules__=[],this.__cache__=null}nn.prototype.__find__=function(n){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===n)return t;return-1};nn.prototype.__compile__=function(){var n=this,t=[""];n.__rules__.forEach(function(e){e.enabled&&e.alt.forEach(function(s){t.indexOf(s)<0&&t.push(s)})}),n.__cache__={},t.forEach(function(e){n.__cache__[e]=[],n.__rules__.forEach(function(s){s.enabled&&(e&&s.alt.indexOf(e)<0||n.__cache__[e].push(s.fn))})})};nn.prototype.at=function(n,t,e){var s=this.__find__(n),i=e||{};if(s===-1)throw new Error("Parser rule not found: "+n);this.__rules__[s].fn=t,this.__rules__[s].alt=i.alt||[],this.__cache__=null};nn.prototype.before=function(n,t,e,s){var i=this.__find__(n),r=s||{};if(i===-1)throw new Error("Parser rule not found: "+n);this.__rules__.splice(i,0,{name:t,enabled:!0,fn:e,alt:r.alt||[]}),this.__cache__=null};nn.prototype.after=function(n,t,e,s){var i=this.__find__(n),r=s||{};if(i===-1)throw new Error("Parser rule not found: "+n);this.__rules__.splice(i+1,0,{name:t,enabled:!0,fn:e,alt:r.alt||[]}),this.__cache__=null};nn.prototype.push=function(n,t,e){var s=e||{};this.__rules__.push({name:n,enabled:!0,fn:t,alt:s.alt||[]}),this.__cache__=null};nn.prototype.enable=function(n,t){Array.isArray(n)||(n=[n]);var e=[];return n.forEach(function(s){var i=this.__find__(s);if(i<0){if(t)return;throw new Error("Rules manager: invalid rule name "+s)}this.__rules__[i].enabled=!0,e.push(s)},this),this.__cache__=null,e};nn.prototype.enableOnly=function(n,t){Array.isArray(n)||(n=[n]),this.__rules__.forEach(function(e){e.enabled=!1}),this.enable(n,t)};nn.prototype.disable=function(n,t){Array.isArray(n)||(n=[n]);var e=[];return n.forEach(function(s){var i=this.__find__(s);if(i<0){if(t)return;throw new Error("Rules manager: invalid rule name "+s)}this.__rules__[i].enabled=!1,e.push(s)},this),this.__cache__=null,e};nn.prototype.getRules=function(n){return this.__cache__===null&&this.__compile__(),this.__cache__[n]||[]};var om=nn,qnt=/\r\n?|\n/g,$nt=/\0/g,Bnt=function(t){var e;e=t.src.replace(qnt,`
`),e=e.replace($nt,"�"),t.src=e},Hnt=function(t){var e;t.inlineMode?(e=new t.Token("inline","",0),e.content=t.src,e.map=[0,1],e.children=[],t.tokens.push(e)):t.md.block.parse(t.src,t.md,t.env,t.tokens)},znt=function(t){var e=t.tokens,s,i,r;for(i=0,r=e.length;i<r;i++)s=e[i],s.type==="inline"&&t.md.inline.parse(s.content,t.md,t.env,s.children)},jnt=Dt.arrayReplaceAt;function Vnt(n){return/^<a[>\s]/i.test(n)}function Unt(n){return/^<\/a\s*>/i.test(n)}var Gnt=function(t){var e,s,i,r,o,a,c,h,u,d,f,p,g,m,A,b,w=t.tokens,C;if(t.md.options.linkify){for(s=0,i=w.length;s<i;s++)if(!(w[s].type!=="inline"||!t.md.linkify.pretest(w[s].content)))for(r=w[s].children,g=0,e=r.length-1;e>=0;e--){if(a=r[e],a.type==="link_close"){for(e--;r[e].level!==a.level&&r[e].type!=="link_open";)e--;continue}if(a.type==="html_inline"&&(Vnt(a.content)&&g>0&&g--,Unt(a.content)&&g++),!(g>0)&&a.type==="text"&&t.md.linkify.test(a.content)){for(u=a.content,C=t.md.linkify.match(u),c=[],p=a.level,f=0,h=0;h<C.length;h++)m=C[h].url,A=t.md.normalizeLink(m),t.md.validateLink(A)&&(b=C[h].text,C[h].schema?C[h].schema==="mailto:"&&!/^mailto:/i.test(b)?b=t.md.normalizeLinkText("mailto:"+b).replace(/^mailto:/,""):b=t.md.normalizeLinkText(b):b=t.md.normalizeLinkText("http://"+b).replace(/^http:\/\//,""),d=C[h].index,d>f&&(o=new t.Token("text","",0),o.content=u.slice(f,d),o.level=p,c.push(o)),o=new t.Token("link_open","a",1),o.attrs=[["href",A]],o.level=p++,o.markup="linkify",o.info="auto",c.push(o),o=new t.Token("text","",0),o.content=b,o.level=p,c.push(o),o=new t.Token("link_close","a",-1),o.level=--p,o.markup="linkify",o.info="auto",c.push(o),f=C[h].lastIndex);f<u.length&&(o=new t.Token("text","",0),o.content=u.slice(f),o.level=p,c.push(o)),w[s].children=r=jnt(r,e,c)}}}},C0=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,Wnt=/\((c|tm|r|p)\)/i,Knt=/\((c|tm|r|p)\)/ig,Xnt={c:"©",r:"®",p:"§",tm:"™"};function Ynt(n,t){return Xnt[t.toLowerCase()]}function Znt(n){var t,e,s=0;for(t=n.length-1;t>=0;t--)e=n[t],e.type==="text"&&!s&&(e.content=e.content.replace(Knt,Ynt)),e.type==="link_open"&&e.info==="auto"&&s--,e.type==="link_close"&&e.info==="auto"&&s++}function Jnt(n){var t,e,s=0;for(t=n.length-1;t>=0;t--)e=n[t],e.type==="text"&&!s&&C0.test(e.content)&&(e.content=e.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1—").replace(/(^|\s)--(?=\s|$)/mg,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1–")),e.type==="link_open"&&e.info==="auto"&&s--,e.type==="link_close"&&e.info==="auto"&&s++}var Qnt=function(t){var e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type==="inline"&&(Wnt.test(t.tokens[e].content)&&Znt(t.tokens[e].children),C0.test(t.tokens[e].content)&&Jnt(t.tokens[e].children))},Jb=Dt.isWhiteSpace,Qb=Dt.isPunctChar,t_=Dt.isMdAsciiPunct,tit=/['"]/,e_=/['"]/g,s_="’";function uu(n,t,e){return n.substr(0,t)+e+n.substr(t+1)}function eit(n,t){var e,s,i,r,o,a,c,h,u,d,f,p,g,m,A,b,w,C,k,R,E;for(k=[],e=0;e<n.length;e++){for(s=n[e],c=n[e].level,w=k.length-1;w>=0&&!(k[w].level<=c);w--);if(k.length=w+1,s.type==="text"){i=s.content,o=0,a=i.length;t:for(;o<a&&(e_.lastIndex=o,r=e_.exec(i),!!r);){if(A=b=!0,o=r.index+1,C=r[0]==="'",u=32,r.index-1>=0)u=i.charCodeAt(r.index-1);else for(w=e-1;w>=0&&!(n[w].type==="softbreak"||n[w].type==="hardbreak");w--)if(n[w].content){u=n[w].content.charCodeAt(n[w].content.length-1);break}if(d=32,o<a)d=i.charCodeAt(o);else for(w=e+1;w<n.length&&!(n[w].type==="softbreak"||n[w].type==="hardbreak");w++)if(n[w].content){d=n[w].content.charCodeAt(0);break}if(f=t_(u)||Qb(String.fromCharCode(u)),p=t_(d)||Qb(String.fromCharCode(d)),g=Jb(u),m=Jb(d),m?A=!1:p&&(g||f||(A=!1)),g?b=!1:f&&(m||p||(b=!1)),d===34&&r[0]==='"'&&u>=48&&u<=57&&(b=A=!1),A&&b&&(A=f,b=p),!A&&!b){C&&(s.content=uu(s.content,r.index,s_));continue}if(b){for(w=k.length-1;w>=0&&(h=k[w],!(k[w].level<c));w--)if(h.single===C&&k[w].level===c){h=k[w],C?(R=t.md.options.quotes[2],E=t.md.options.quotes[3]):(R=t.md.options.quotes[0],E=t.md.options.quotes[1]),s.content=uu(s.content,r.index,E),n[h.token].content=uu(n[h.token].content,h.pos,R),o+=E.length-1,h.token===e&&(o+=R.length-1),i=s.content,a=i.length,k.length=w;continue t}}A?k.push({token:e,pos:r.index,single:C,level:c}):b&&C&&(s.content=uu(s.content,r.index,s_))}}}}var sit=function(t){var e;if(t.md.options.typographer)for(e=t.tokens.length-1;e>=0;e--)t.tokens[e].type!=="inline"||!tit.test(t.tokens[e].content)||eit(t.tokens[e].children,t)};function bc(n,t,e){this.type=n,this.tag=t,this.attrs=null,this.map=null,this.nesting=e,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}bc.prototype.attrIndex=function(t){var e,s,i;if(!this.attrs)return-1;for(e=this.attrs,s=0,i=e.length;s<i;s++)if(e[s][0]===t)return s;return-1};bc.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};bc.prototype.attrSet=function(t,e){var s=this.attrIndex(t),i=[t,e];s<0?this.attrPush(i):this.attrs[s]=i};bc.prototype.attrGet=function(t){var e=this.attrIndex(t),s=null;return e>=0&&(s=this.attrs[e][1]),s};bc.prototype.attrJoin=function(t,e){var s=this.attrIndex(t);s<0?this.attrPush([t,e]):this.attrs[s][1]=this.attrs[s][1]+" "+e};var am=bc,nit=am;function k0(n,t,e){this.src=n,this.env=e,this.tokens=[],this.inlineMode=!1,this.md=t}k0.prototype.Token=nit;var iit=k0,rit=om,Bf=[["normalize",Bnt],["block",Hnt],["inline",znt],["linkify",Gnt],["replacements",Qnt],["smartquotes",sit]];function cm(){this.ruler=new rit;for(var n=0;n<Bf.length;n++)this.ruler.push(Bf[n][0],Bf[n][1])}cm.prototype.process=function(n){var t,e,s;for(s=this.ruler.getRules(""),t=0,e=s.length;t<e;t++)s[t](n)};cm.prototype.State=iit;var oit=cm,Hf=Dt.isSpace;function zf(n,t){var e=n.bMarks[t]+n.tShift[t],s=n.eMarks[t];return n.src.substr(e,s-e)}function n_(n){var t=[],e=0,s=n.length,i,r=!1,o=0,a="";for(i=n.charCodeAt(e);e<s;)i===124&&(r?(a+=n.substring(o,e-1),o=e):(t.push(a+n.substring(o,e)),a="",o=e+1)),r=i===92,e++,i=n.charCodeAt(e);return t.push(a+n.substring(o)),t}var ait=function(t,e,s,i){var r,o,a,c,h,u,d,f,p,g,m,A,b,w,C,k,R,E;if(e+2>s||(u=e+1,t.sCount[u]<t.blkIndent)||t.sCount[u]-t.blkIndent>=4||(a=t.bMarks[u]+t.tShift[u],a>=t.eMarks[u])||(R=t.src.charCodeAt(a++),R!==124&&R!==45&&R!==58)||a>=t.eMarks[u]||(E=t.src.charCodeAt(a++),E!==124&&E!==45&&E!==58&&!Hf(E))||R===45&&Hf(E))return!1;for(;a<t.eMarks[u];){if(r=t.src.charCodeAt(a),r!==124&&r!==45&&r!==58&&!Hf(r))return!1;a++}for(o=zf(t,e+1),d=o.split("|"),g=[],c=0;c<d.length;c++){if(m=d[c].trim(),!m){if(c===0||c===d.length-1)continue;return!1}if(!/^:?-+:?$/.test(m))return!1;m.charCodeAt(m.length-1)===58?g.push(m.charCodeAt(0)===58?"center":"right"):m.charCodeAt(0)===58?g.push("left"):g.push("")}if(o=zf(t,e).trim(),o.indexOf("|")===-1||t.sCount[e]-t.blkIndent>=4||(d=n_(o),d.length&&d[0]===""&&d.shift(),d.length&&d[d.length-1]===""&&d.pop(),f=d.length,f===0||f!==g.length))return!1;if(i)return!0;for(w=t.parentType,t.parentType="table",k=t.md.block.ruler.getRules("blockquote"),p=t.push("table_open","table",1),p.map=A=[e,0],p=t.push("thead_open","thead",1),p.map=[e,e+1],p=t.push("tr_open","tr",1),p.map=[e,e+1],c=0;c<d.length;c++)p=t.push("th_open","th",1),g[c]&&(p.attrs=[["style","text-align:"+g[c]]]),p=t.push("inline","",0),p.content=d[c].trim(),p.children=[],p=t.push("th_close","th",-1);for(p=t.push("tr_close","tr",-1),p=t.push("thead_close","thead",-1),u=e+2;u<s&&!(t.sCount[u]<t.blkIndent);u++){for(C=!1,c=0,h=k.length;c<h;c++)if(k[c](t,u,s,!0)){C=!0;break}if(C||(o=zf(t,u).trim(),!o)||t.sCount[u]-t.blkIndent>=4)break;for(d=n_(o),d.length&&d[0]===""&&d.shift(),d.length&&d[d.length-1]===""&&d.pop(),u===e+2&&(p=t.push("tbody_open","tbody",1),p.map=b=[e+2,0]),p=t.push("tr_open","tr",1),p.map=[u,u+1],c=0;c<f;c++)p=t.push("td_open","td",1),g[c]&&(p.attrs=[["style","text-align:"+g[c]]]),p=t.push("inline","",0),p.content=d[c]?d[c].trim():"",p.children=[],p=t.push("td_close","td",-1);p=t.push("tr_close","tr",-1)}return b&&(p=t.push("tbody_close","tbody",-1),b[1]=u),p=t.push("table_close","table",-1),A[1]=u,t.parentType=w,t.line=u,!0},cit=function(t,e,s){var i,r,o;if(t.sCount[e]-t.blkIndent<4)return!1;for(r=i=e+1;i<s;){if(t.isEmpty(i)){i++;continue}if(t.sCount[i]-t.blkIndent>=4){i++,r=i;continue}break}return t.line=r,o=t.push("code_block","code",0),o.content=t.getLines(e,r,4+t.blkIndent,!1)+`
`,o.map=[e,t.line],!0},lit=function(t,e,s,i){var r,o,a,c,h,u,d,f=!1,p=t.bMarks[e]+t.tShift[e],g=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||p+3>g||(r=t.src.charCodeAt(p),r!==126&&r!==96)||(h=p,p=t.skipChars(p,r),o=p-h,o<3)||(d=t.src.slice(h,p),a=t.src.slice(p,g),r===96&&a.indexOf(String.fromCharCode(r))>=0))return!1;if(i)return!0;for(c=e;c++,!(c>=s||(p=h=t.bMarks[c]+t.tShift[c],g=t.eMarks[c],p<g&&t.sCount[c]<t.blkIndent));)if(t.src.charCodeAt(p)===r&&!(t.sCount[c]-t.blkIndent>=4)&&(p=t.skipChars(p,r),!(p-h<o)&&(p=t.skipSpaces(p),!(p<g)))){f=!0;break}return o=t.sCount[e],t.line=c+(f?1:0),u=t.push("fence","code",0),u.info=a,u.content=t.getLines(e+1,c,o,!0),u.markup=d,u.map=[e,t.line],!0},i_=Dt.isSpace,hit=function(t,e,s,i){var r,o,a,c,h,u,d,f,p,g,m,A,b,w,C,k,R,E,L,M,U=t.lineMax,N=t.bMarks[e]+t.tShift[e],B=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(N++)!==62)return!1;if(i)return!0;for(c=p=t.sCount[e]+1,t.src.charCodeAt(N)===32?(N++,c++,p++,r=!1,k=!0):t.src.charCodeAt(N)===9?(k=!0,(t.bsCount[e]+p)%4===3?(N++,c++,p++,r=!1):r=!0):k=!1,g=[t.bMarks[e]],t.bMarks[e]=N;N<B&&(o=t.src.charCodeAt(N),i_(o));){o===9?p+=4-(p+t.bsCount[e]+(r?1:0))%4:p++;N++}for(m=[t.bsCount[e]],t.bsCount[e]=t.sCount[e]+1+(k?1:0),u=N>=B,w=[t.sCount[e]],t.sCount[e]=p-c,C=[t.tShift[e]],t.tShift[e]=N-t.bMarks[e],E=t.md.block.ruler.getRules("blockquote"),b=t.parentType,t.parentType="blockquote",f=e+1;f<s&&(M=t.sCount[f]<t.blkIndent,N=t.bMarks[f]+t.tShift[f],B=t.eMarks[f],!(N>=B));f++){if(t.src.charCodeAt(N++)===62&&!M){for(c=p=t.sCount[f]+1,t.src.charCodeAt(N)===32?(N++,c++,p++,r=!1,k=!0):t.src.charCodeAt(N)===9?(k=!0,(t.bsCount[f]+p)%4===3?(N++,c++,p++,r=!1):r=!0):k=!1,g.push(t.bMarks[f]),t.bMarks[f]=N;N<B&&(o=t.src.charCodeAt(N),i_(o));){o===9?p+=4-(p+t.bsCount[f]+(r?1:0))%4:p++;N++}u=N>=B,m.push(t.bsCount[f]),t.bsCount[f]=t.sCount[f]+1+(k?1:0),w.push(t.sCount[f]),t.sCount[f]=p-c,C.push(t.tShift[f]),t.tShift[f]=N-t.bMarks[f];continue}if(u)break;for(R=!1,a=0,h=E.length;a<h;a++)if(E[a](t,f,s,!0)){R=!0;break}if(R){t.lineMax=f,t.blkIndent!==0&&(g.push(t.bMarks[f]),m.push(t.bsCount[f]),C.push(t.tShift[f]),w.push(t.sCount[f]),t.sCount[f]-=t.blkIndent);break}g.push(t.bMarks[f]),m.push(t.bsCount[f]),C.push(t.tShift[f]),w.push(t.sCount[f]),t.sCount[f]=-1}for(A=t.blkIndent,t.blkIndent=0,L=t.push("blockquote_open","blockquote",1),L.markup=">",L.map=d=[e,0],t.md.block.tokenize(t,e,f),L=t.push("blockquote_close","blockquote",-1),L.markup=">",t.lineMax=U,t.parentType=b,d[1]=t.line,a=0;a<C.length;a++)t.bMarks[a+e]=g[a],t.tShift[a+e]=C[a],t.sCount[a+e]=w[a],t.bsCount[a+e]=m[a];return t.blkIndent=A,!0},uit=Dt.isSpace,dit=function(t,e,s,i){var r,o,a,c,h=t.bMarks[e]+t.tShift[e],u=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||(r=t.src.charCodeAt(h++),r!==42&&r!==45&&r!==95))return!1;for(o=1;h<u;){if(a=t.src.charCodeAt(h++),a!==r&&!uit(a))return!1;a===r&&o++}return o<3?!1:(i||(t.line=e+1,c=t.push("hr","hr",0),c.map=[e,t.line],c.markup=Array(o+1).join(String.fromCharCode(r))),!0)},S0=Dt.isSpace;function r_(n,t){var e,s,i,r;return s=n.bMarks[t]+n.tShift[t],i=n.eMarks[t],e=n.src.charCodeAt(s++),e!==42&&e!==45&&e!==43||s<i&&(r=n.src.charCodeAt(s),!S0(r))?-1:s}function o_(n,t){var e,s=n.bMarks[t]+n.tShift[t],i=s,r=n.eMarks[t];if(i+1>=r||(e=n.src.charCodeAt(i++),e<48||e>57))return-1;for(;;){if(i>=r)return-1;if(e=n.src.charCodeAt(i++),e>=48&&e<=57){if(i-s>=10)return-1;continue}if(e===41||e===46)break;return-1}return i<r&&(e=n.src.charCodeAt(i),!S0(e))?-1:i}function fit(n,t){var e,s,i=n.level+2;for(e=t+2,s=n.tokens.length-2;e<s;e++)n.tokens[e].level===i&&n.tokens[e].type==="paragraph_open"&&(n.tokens[e+2].hidden=!0,n.tokens[e].hidden=!0,e+=2)}var pit=function(t,e,s,i){var r,o,a,c,h,u,d,f,p,g,m,A,b,w,C,k,R,E,L,M,U,N,B,H,nt,I,ot,tt,V=!1,Z=!0;if(t.sCount[e]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[e]-t.listIndent>=4&&t.sCount[e]<t.blkIndent)return!1;if(i&&t.parentType==="paragraph"&&t.sCount[e]>=t.blkIndent&&(V=!0),(B=o_(t,e))>=0){if(d=!0,nt=t.bMarks[e]+t.tShift[e],b=Number(t.src.slice(nt,B-1)),V&&b!==1)return!1}else if((B=r_(t,e))>=0)d=!1;else return!1;if(V&&t.skipSpaces(B)>=t.eMarks[e])return!1;if(A=t.src.charCodeAt(B-1),i)return!0;for(m=t.tokens.length,d?(tt=t.push("ordered_list_open","ol",1),b!==1&&(tt.attrs=[["start",b]])):tt=t.push("bullet_list_open","ul",1),tt.map=g=[e,0],tt.markup=String.fromCharCode(A),C=e,H=!1,ot=t.md.block.ruler.getRules("list"),E=t.parentType,t.parentType="list";C<s;){for(N=B,w=t.eMarks[C],u=k=t.sCount[C]+B-(t.bMarks[e]+t.tShift[e]);N<w;){if(r=t.src.charCodeAt(N),r===9)k+=4-(k+t.bsCount[C])%4;else if(r===32)k++;else break;N++}if(o=N,o>=w?h=1:h=k-u,h>4&&(h=1),c=u+h,tt=t.push("list_item_open","li",1),tt.markup=String.fromCharCode(A),tt.map=f=[e,0],d&&(tt.info=t.src.slice(nt,B-1)),U=t.tight,M=t.tShift[e],L=t.sCount[e],R=t.listIndent,t.listIndent=t.blkIndent,t.blkIndent=c,t.tight=!0,t.tShift[e]=o-t.bMarks[e],t.sCount[e]=k,o>=w&&t.isEmpty(e+1)?t.line=Math.min(t.line+2,s):t.md.block.tokenize(t,e,s,!0),(!t.tight||H)&&(Z=!1),H=t.line-e>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=R,t.tShift[e]=M,t.sCount[e]=L,t.tight=U,tt=t.push("list_item_close","li",-1),tt.markup=String.fromCharCode(A),C=e=t.line,f[1]=C,o=t.bMarks[e],C>=s||t.sCount[C]<t.blkIndent||t.sCount[e]-t.blkIndent>=4)break;for(I=!1,a=0,p=ot.length;a<p;a++)if(ot[a](t,C,s,!0)){I=!0;break}if(I)break;if(d){if(B=o_(t,C),B<0)break;nt=t.bMarks[C]+t.tShift[C]}else if(B=r_(t,C),B<0)break;if(A!==t.src.charCodeAt(B-1))break}return d?tt=t.push("ordered_list_close","ol",-1):tt=t.push("bullet_list_close","ul",-1),tt.markup=String.fromCharCode(A),g[1]=C,t.line=C,t.parentType=E,Z&&fit(t,m),!0},git=Dt.normalizeReference,du=Dt.isSpace,mit=function(t,e,s,i){var r,o,a,c,h,u,d,f,p,g,m,A,b,w,C,k,R=0,E=t.bMarks[e]+t.tShift[e],L=t.eMarks[e],M=e+1;if(t.sCount[e]-t.blkIndent>=4||t.src.charCodeAt(E)!==91)return!1;for(;++E<L;)if(t.src.charCodeAt(E)===93&&t.src.charCodeAt(E-1)!==92){if(E+1===L||t.src.charCodeAt(E+1)!==58)return!1;break}for(c=t.lineMax,C=t.md.block.ruler.getRules("reference"),g=t.parentType,t.parentType="reference";M<c&&!t.isEmpty(M);M++)if(!(t.sCount[M]-t.blkIndent>3)&&!(t.sCount[M]<0)){for(w=!1,u=0,d=C.length;u<d;u++)if(C[u](t,M,c,!0)){w=!0;break}if(w)break}for(b=t.getLines(e,M,t.blkIndent,!1).trim(),L=b.length,E=1;E<L;E++){if(r=b.charCodeAt(E),r===91)return!1;if(r===93){p=E;break}else r===10?R++:r===92&&(E++,E<L&&b.charCodeAt(E)===10&&R++)}if(p<0||b.charCodeAt(p+1)!==58)return!1;for(E=p+2;E<L;E++)if(r=b.charCodeAt(E),r===10)R++;else if(!du(r))break;if(m=t.md.helpers.parseLinkDestination(b,E,L),!m.ok||(h=t.md.normalizeLink(m.str),!t.md.validateLink(h)))return!1;for(E=m.pos,R+=m.lines,o=E,a=R,A=E;E<L;E++)if(r=b.charCodeAt(E),r===10)R++;else if(!du(r))break;for(m=t.md.helpers.parseLinkTitle(b,E,L),E<L&&A!==E&&m.ok?(k=m.str,E=m.pos,R+=m.lines):(k="",E=o,R=a);E<L&&(r=b.charCodeAt(E),!!du(r));)E++;if(E<L&&b.charCodeAt(E)!==10&&k)for(k="",E=o,R=a;E<L&&(r=b.charCodeAt(E),!!du(r));)E++;return E<L&&b.charCodeAt(E)!==10||(f=git(b.slice(1,p)),!f)?!1:(i||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[f]>"u"&&(t.env.references[f]={title:k,href:h}),t.parentType=g,t.line=e+R+1),!0)},bit=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],of={},_it="[a-zA-Z_:][a-zA-Z0-9:._-]*",vit="[^\"'=<>`\\x00-\\x20]+",yit="'[^']*'",Ait='"[^"]*"',wit="(?:"+vit+"|"+yit+"|"+Ait+")",xit="(?:\\s+"+_it+"(?:\\s*=\\s*"+wit+")?)",T0="<[A-Za-z][A-Za-z0-9\\-]*"+xit+"*\\s*\\/?>",R0="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",Eit="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",Cit="<[?][\\s\\S]*?[?]>",kit="<![A-Z]+\\s+[^>]*>",Sit="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",Tit=new RegExp("^(?:"+T0+"|"+R0+"|"+Eit+"|"+Cit+"|"+kit+"|"+Sit+")"),Rit=new RegExp("^(?:"+T0+"|"+R0+")");of.HTML_TAG_RE=Tit;of.HTML_OPEN_CLOSE_TAG_RE=Rit;var Dit=bit,Pit=of.HTML_OPEN_CLOSE_TAG_RE,Yo=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+Dit.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Pit.source+"\\s*$"),/^$/,!1]],Lit=function(t,e,s,i){var r,o,a,c,h=t.bMarks[e]+t.tShift[e],u=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(h)!==60)return!1;for(c=t.src.slice(h,u),r=0;r<Yo.length&&!Yo[r][0].test(c);r++);if(r===Yo.length)return!1;if(i)return Yo[r][2];if(o=e+1,!Yo[r][1].test(c)){for(;o<s&&!(t.sCount[o]<t.blkIndent);o++)if(h=t.bMarks[o]+t.tShift[o],u=t.eMarks[o],c=t.src.slice(h,u),Yo[r][1].test(c)){c.length!==0&&o++;break}}return t.line=o,a=t.push("html_block","",0),a.map=[e,o],a.content=t.getLines(e,o,t.blkIndent,!0),!0},a_=Dt.isSpace,Mit=function(t,e,s,i){var r,o,a,c,h=t.bMarks[e]+t.tShift[e],u=t.eMarks[e];if(t.sCount[e]-t.blkIndent>=4||(r=t.src.charCodeAt(h),r!==35||h>=u))return!1;for(o=1,r=t.src.charCodeAt(++h);r===35&&h<u&&o<=6;)o++,r=t.src.charCodeAt(++h);return o>6||h<u&&!a_(r)?!1:(i||(u=t.skipSpacesBack(u,h),a=t.skipCharsBack(u,35,h),a>h&&a_(t.src.charCodeAt(a-1))&&(u=a),t.line=e+1,c=t.push("heading_open","h"+String(o),1),c.markup="########".slice(0,o),c.map=[e,t.line],c=t.push("inline","",0),c.content=t.src.slice(h,u).trim(),c.map=[e,t.line],c.children=[],c=t.push("heading_close","h"+String(o),-1),c.markup="########".slice(0,o)),!0)},Fit=function(t,e,s){var i,r,o,a,c,h,u,d,f,p=e+1,g,m=t.md.block.ruler.getRules("paragraph");if(t.sCount[e]-t.blkIndent>=4)return!1;for(g=t.parentType,t.parentType="paragraph";p<s&&!t.isEmpty(p);p++)if(!(t.sCount[p]-t.blkIndent>3)){if(t.sCount[p]>=t.blkIndent&&(h=t.bMarks[p]+t.tShift[p],u=t.eMarks[p],h<u&&(f=t.src.charCodeAt(h),(f===45||f===61)&&(h=t.skipChars(h,f),h=t.skipSpaces(h),h>=u)))){d=f===61?1:2;break}if(!(t.sCount[p]<0)){for(r=!1,o=0,a=m.length;o<a;o++)if(m[o](t,p,s,!0)){r=!0;break}if(r)break}}return d?(i=t.getLines(e,p,t.blkIndent,!1).trim(),t.line=p+1,c=t.push("heading_open","h"+String(d),1),c.markup=String.fromCharCode(f),c.map=[e,t.line],c=t.push("inline","",0),c.content=i,c.map=[e,t.line-1],c.children=[],c=t.push("heading_close","h"+String(d),-1),c.markup=String.fromCharCode(f),t.parentType=g,!0):!1},Iit=function(t,e){var s,i,r,o,a,c,h=e+1,u=t.md.block.ruler.getRules("paragraph"),d=t.lineMax;for(c=t.parentType,t.parentType="paragraph";h<d&&!t.isEmpty(h);h++)if(!(t.sCount[h]-t.blkIndent>3)&&!(t.sCount[h]<0)){for(i=!1,r=0,o=u.length;r<o;r++)if(u[r](t,h,d,!0)){i=!0;break}if(i)break}return s=t.getLines(e,h,t.blkIndent,!1).trim(),t.line=h,a=t.push("paragraph_open","p",1),a.map=[e,t.line],a=t.push("inline","",0),a.content=s,a.map=[e,t.line],a.children=[],a=t.push("paragraph_close","p",-1),t.parentType=c,!0},D0=am,af=Dt.isSpace;function On(n,t,e,s){var i,r,o,a,c,h,u,d;for(this.src=n,this.md=t,this.env=e,this.tokens=s,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",r=this.src,d=!1,o=a=h=u=0,c=r.length;a<c;a++){if(i=r.charCodeAt(a),!d)if(af(i)){h++,i===9?u+=4-u%4:u++;continue}else d=!0;(i===10||a===c-1)&&(i!==10&&a++,this.bMarks.push(o),this.eMarks.push(a),this.tShift.push(h),this.sCount.push(u),this.bsCount.push(0),d=!1,h=0,u=0,o=a+1)}this.bMarks.push(r.length),this.eMarks.push(r.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}On.prototype.push=function(n,t,e){var s=new D0(n,t,e);return s.block=!0,e<0&&this.level--,s.level=this.level,e>0&&this.level++,this.tokens.push(s),s};On.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};On.prototype.skipEmptyLines=function(t){for(var e=this.lineMax;t<e&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};On.prototype.skipSpaces=function(t){for(var e,s=this.src.length;t<s&&(e=this.src.charCodeAt(t),!!af(e));t++);return t};On.prototype.skipSpacesBack=function(t,e){if(t<=e)return t;for(;t>e;)if(!af(this.src.charCodeAt(--t)))return t+1;return t};On.prototype.skipChars=function(t,e){for(var s=this.src.length;t<s&&this.src.charCodeAt(t)===e;t++);return t};On.prototype.skipCharsBack=function(t,e,s){if(t<=s)return t;for(;t>s;)if(e!==this.src.charCodeAt(--t))return t+1;return t};On.prototype.getLines=function(t,e,s,i){var r,o,a,c,h,u,d,f=t;if(t>=e)return"";for(u=new Array(e-t),r=0;f<e;f++,r++){for(o=0,d=c=this.bMarks[f],f+1<e||i?h=this.eMarks[f]+1:h=this.eMarks[f];c<h&&o<s;){if(a=this.src.charCodeAt(c),af(a))a===9?o+=4-(o+this.bsCount[f])%4:o++;else if(c-d<this.tShift[f])o++;else break;c++}o>s?u[r]=new Array(o-s+1).join(" ")+this.src.slice(c,h):u[r]=this.src.slice(c,h)}return u.join("")};On.prototype.Token=D0;var Oit=On,Nit=om,fu=[["table",ait,["paragraph","reference"]],["code",cit],["fence",lit,["paragraph","reference","blockquote","list"]],["blockquote",hit,["paragraph","reference","blockquote","list"]],["hr",dit,["paragraph","reference","blockquote","list"]],["list",pit,["paragraph","reference","blockquote"]],["reference",mit],["html_block",Lit,["paragraph","reference","blockquote"]],["heading",Mit,["paragraph","reference","blockquote"]],["lheading",Fit],["paragraph",Iit]];function cf(){this.ruler=new Nit;for(var n=0;n<fu.length;n++)this.ruler.push(fu[n][0],fu[n][1],{alt:(fu[n][2]||[]).slice()})}cf.prototype.tokenize=function(n,t,e){for(var s,i,r=this.ruler.getRules(""),o=r.length,a=t,c=!1,h=n.md.options.maxNesting;a<e&&(n.line=a=n.skipEmptyLines(a),!(a>=e||n.sCount[a]<n.blkIndent));){if(n.level>=h){n.line=e;break}for(i=0;i<o&&(s=r[i](n,a,e,!1),!s);i++);n.tight=!c,n.isEmpty(n.line-1)&&(c=!0),a=n.line,a<e&&n.isEmpty(a)&&(c=!0,a++,n.line=a)}};cf.prototype.parse=function(n,t,e,s){var i;n&&(i=new this.State(n,t,e,s),this.tokenize(i,i.line,i.lineMax))};cf.prototype.State=Oit;var qit=cf;function $it(n){switch(n){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}var Bit=function(t,e){for(var s=t.pos;s<t.posMax&&!$it(t.src.charCodeAt(s));)s++;return s===t.pos?!1:(e||(t.pending+=t.src.slice(t.pos,s)),t.pos=s,!0)},Hit=Dt.isSpace,zit=function(t,e){var s,i,r,o=t.pos;if(t.src.charCodeAt(o)!==10)return!1;if(s=t.pending.length-1,i=t.posMax,!e)if(s>=0&&t.pending.charCodeAt(s)===32)if(s>=1&&t.pending.charCodeAt(s-1)===32){for(r=s-1;r>=1&&t.pending.charCodeAt(r-1)===32;)r--;t.pending=t.pending.slice(0,r),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(o++;o<i&&Hit(t.src.charCodeAt(o));)o++;return t.pos=o,!0},jit=Dt.isSpace,lm=[];for(var c_=0;c_<256;c_++)lm.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(n){lm[n.charCodeAt(0)]=1});var Vit=function(t,e){var s,i=t.pos,r=t.posMax;if(t.src.charCodeAt(i)!==92)return!1;if(i++,i<r){if(s=t.src.charCodeAt(i),s<256&&lm[s]!==0)return e||(t.pending+=t.src[i]),t.pos+=2,!0;if(s===10){for(e||t.push("hardbreak","br",0),i++;i<r&&(s=t.src.charCodeAt(i),!!jit(s));)i++;return t.pos=i,!0}}return e||(t.pending+="\\"),t.pos++,!0},Uit=function(t,e){var s,i,r,o,a,c,h,u,d=t.pos,f=t.src.charCodeAt(d);if(f!==96)return!1;for(s=d,d++,i=t.posMax;d<i&&t.src.charCodeAt(d)===96;)d++;if(r=t.src.slice(s,d),h=r.length,t.backticksScanned&&(t.backticks[h]||0)<=s)return e||(t.pending+=r),t.pos+=h,!0;for(a=c=d;(a=t.src.indexOf("`",c))!==-1;){for(c=a+1;c<i&&t.src.charCodeAt(c)===96;)c++;if(u=c-a,u===h)return e||(o=t.push("code_inline","code",0),o.markup=r,o.content=t.src.slice(d,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),t.pos=c,!0;t.backticks[u]=a}return t.backticksScanned=!0,e||(t.pending+=r),t.pos+=h,!0},lf={};lf.tokenize=function(t,e){var s,i,r,o,a,c=t.pos,h=t.src.charCodeAt(c);if(e||h!==126||(i=t.scanDelims(t.pos,!0),o=i.length,a=String.fromCharCode(h),o<2))return!1;for(o%2&&(r=t.push("text","",0),r.content=a,o--),s=0;s<o;s+=2)r=t.push("text","",0),r.content=a+a,t.delimiters.push({marker:h,length:0,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0};function l_(n,t){var e,s,i,r,o,a=[],c=t.length;for(e=0;e<c;e++)i=t[e],i.marker===126&&i.end!==-1&&(r=t[i.end],o=n.tokens[i.token],o.type="s_open",o.tag="s",o.nesting=1,o.markup="~~",o.content="",o=n.tokens[r.token],o.type="s_close",o.tag="s",o.nesting=-1,o.markup="~~",o.content="",n.tokens[r.token-1].type==="text"&&n.tokens[r.token-1].content==="~"&&a.push(r.token-1));for(;a.length;){for(e=a.pop(),s=e+1;s<n.tokens.length&&n.tokens[s].type==="s_close";)s++;s--,e!==s&&(o=n.tokens[s],n.tokens[s]=n.tokens[e],n.tokens[e]=o)}}lf.postProcess=function(t){var e,s=t.tokens_meta,i=t.tokens_meta.length;for(l_(t,t.delimiters),e=0;e<i;e++)s[e]&&s[e].delimiters&&l_(t,s[e].delimiters)};var hf={};hf.tokenize=function(t,e){var s,i,r,o=t.pos,a=t.src.charCodeAt(o);if(e||a!==95&&a!==42)return!1;for(i=t.scanDelims(t.pos,a===42),s=0;s<i.length;s++)r=t.push("text","",0),r.content=String.fromCharCode(a),t.delimiters.push({marker:a,length:i.length,token:t.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return t.pos+=i.length,!0};function h_(n,t){var e,s,i,r,o,a,c=t.length;for(e=c-1;e>=0;e--)s=t[e],!(s.marker!==95&&s.marker!==42)&&s.end!==-1&&(i=t[s.end],a=e>0&&t[e-1].end===s.end+1&&t[e-1].marker===s.marker&&t[e-1].token===s.token-1&&t[s.end+1].token===i.token+1,o=String.fromCharCode(s.marker),r=n.tokens[s.token],r.type=a?"strong_open":"em_open",r.tag=a?"strong":"em",r.nesting=1,r.markup=a?o+o:o,r.content="",r=n.tokens[i.token],r.type=a?"strong_close":"em_close",r.tag=a?"strong":"em",r.nesting=-1,r.markup=a?o+o:o,r.content="",a&&(n.tokens[t[e-1].token].content="",n.tokens[t[s.end+1].token].content="",e--))}hf.postProcess=function(t){var e,s=t.tokens_meta,i=t.tokens_meta.length;for(h_(t,t.delimiters),e=0;e<i;e++)s[e]&&s[e].delimiters&&h_(t,s[e].delimiters)};var Git=Dt.normalizeReference,jf=Dt.isSpace,Wit=function(t,e){var s,i,r,o,a,c,h,u,d,f="",p="",g=t.pos,m=t.posMax,A=t.pos,b=!0;if(t.src.charCodeAt(t.pos)!==91||(a=t.pos+1,o=t.md.helpers.parseLinkLabel(t,t.pos,!0),o<0))return!1;if(c=o+1,c<m&&t.src.charCodeAt(c)===40){for(b=!1,c++;c<m&&(i=t.src.charCodeAt(c),!(!jf(i)&&i!==10));c++);if(c>=m)return!1;if(A=c,h=t.md.helpers.parseLinkDestination(t.src,c,t.posMax),h.ok){for(f=t.md.normalizeLink(h.str),t.md.validateLink(f)?c=h.pos:f="",A=c;c<m&&(i=t.src.charCodeAt(c),!(!jf(i)&&i!==10));c++);if(h=t.md.helpers.parseLinkTitle(t.src,c,t.posMax),c<m&&A!==c&&h.ok)for(p=h.str,c=h.pos;c<m&&(i=t.src.charCodeAt(c),!(!jf(i)&&i!==10));c++);}(c>=m||t.src.charCodeAt(c)!==41)&&(b=!0),c++}if(b){if(typeof t.env.references>"u")return!1;if(c<m&&t.src.charCodeAt(c)===91?(A=c+1,c=t.md.helpers.parseLinkLabel(t,c),c>=0?r=t.src.slice(A,c++):c=o+1):c=o+1,r||(r=t.src.slice(a,o)),u=t.env.references[Git(r)],!u)return t.pos=g,!1;f=u.href,p=u.title}return e||(t.pos=a,t.posMax=o,d=t.push("link_open","a",1),d.attrs=s=[["href",f]],p&&s.push(["title",p]),t.md.inline.tokenize(t),d=t.push("link_close","a",-1)),t.pos=c,t.posMax=m,!0},Kit=Dt.normalizeReference,Vf=Dt.isSpace,Xit=function(t,e){var s,i,r,o,a,c,h,u,d,f,p,g,m,A="",b=t.pos,w=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91||(c=t.pos+2,a=t.md.helpers.parseLinkLabel(t,t.pos+1,!1),a<0))return!1;if(h=a+1,h<w&&t.src.charCodeAt(h)===40){for(h++;h<w&&(i=t.src.charCodeAt(h),!(!Vf(i)&&i!==10));h++);if(h>=w)return!1;for(m=h,d=t.md.helpers.parseLinkDestination(t.src,h,t.posMax),d.ok&&(A=t.md.normalizeLink(d.str),t.md.validateLink(A)?h=d.pos:A=""),m=h;h<w&&(i=t.src.charCodeAt(h),!(!Vf(i)&&i!==10));h++);if(d=t.md.helpers.parseLinkTitle(t.src,h,t.posMax),h<w&&m!==h&&d.ok)for(f=d.str,h=d.pos;h<w&&(i=t.src.charCodeAt(h),!(!Vf(i)&&i!==10));h++);else f="";if(h>=w||t.src.charCodeAt(h)!==41)return t.pos=b,!1;h++}else{if(typeof t.env.references>"u")return!1;if(h<w&&t.src.charCodeAt(h)===91?(m=h+1,h=t.md.helpers.parseLinkLabel(t,h),h>=0?o=t.src.slice(m,h++):h=a+1):h=a+1,o||(o=t.src.slice(c,a)),u=t.env.references[Kit(o)],!u)return t.pos=b,!1;A=u.href,f=u.title}return e||(r=t.src.slice(c,a),t.md.inline.parse(r,t.md,t.env,g=[]),p=t.push("image","img",0),p.attrs=s=[["src",A],["alt",""]],p.children=g,p.content=r,f&&s.push(["title",f])),t.pos=h,t.posMax=w,!0},Yit=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,Zit=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/,Jit=function(t,e){var s,i,r,o,a,c,h=t.pos;if(t.src.charCodeAt(h)!==60)return!1;for(a=t.pos,c=t.posMax;;){if(++h>=c||(o=t.src.charCodeAt(h),o===60))return!1;if(o===62)break}return s=t.src.slice(a+1,h),Zit.test(s)?(i=t.md.normalizeLink(s),t.md.validateLink(i)?(e||(r=t.push("link_open","a",1),r.attrs=[["href",i]],r.markup="autolink",r.info="auto",r=t.push("text","",0),r.content=t.md.normalizeLinkText(s),r=t.push("link_close","a",-1),r.markup="autolink",r.info="auto"),t.pos+=s.length+2,!0):!1):Yit.test(s)?(i=t.md.normalizeLink("mailto:"+s),t.md.validateLink(i)?(e||(r=t.push("link_open","a",1),r.attrs=[["href",i]],r.markup="autolink",r.info="auto",r=t.push("text","",0),r.content=t.md.normalizeLinkText(s),r=t.push("link_close","a",-1),r.markup="autolink",r.info="auto"),t.pos+=s.length+2,!0):!1):!1},Qit=of.HTML_TAG_RE;function trt(n){var t=n|32;return t>=97&&t<=122}var ert=function(t,e){var s,i,r,o,a=t.pos;return!t.md.options.html||(r=t.posMax,t.src.charCodeAt(a)!==60||a+2>=r)||(s=t.src.charCodeAt(a+1),s!==33&&s!==63&&s!==47&&!trt(s))||(i=t.src.slice(a).match(Qit),!i)?!1:(e||(o=t.push("html_inline","",0),o.content=t.src.slice(a,a+i[0].length)),t.pos+=i[0].length,!0)},u_=A0,srt=Dt.has,nrt=Dt.isValidEntityCode,d_=Dt.fromCodePoint,irt=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,rrt=/^&([a-z][a-z0-9]{1,31});/i,ort=function(t,e){var s,i,r,o=t.pos,a=t.posMax;if(t.src.charCodeAt(o)!==38)return!1;if(o+1<a){if(s=t.src.charCodeAt(o+1),s===35){if(r=t.src.slice(o).match(irt),r)return e||(i=r[1][0].toLowerCase()==="x"?parseInt(r[1].slice(1),16):parseInt(r[1],10),t.pending+=nrt(i)?d_(i):d_(65533)),t.pos+=r[0].length,!0}else if(r=t.src.slice(o).match(rrt),r&&srt(u_,r[1]))return e||(t.pending+=u_[r[1]]),t.pos+=r[0].length,!0}return e||(t.pending+="&"),t.pos++,!0};function f_(n,t){var e,s,i,r,o,a,c,h,u={},d=t.length;if(d){var f=0,p=-2,g=[];for(e=0;e<d;e++)if(i=t[e],g.push(0),(t[f].marker!==i.marker||p!==i.token-1)&&(f=e),p=i.token,i.length=i.length||0,!!i.close){for(u.hasOwnProperty(i.marker)||(u[i.marker]=[-1,-1,-1,-1,-1,-1]),o=u[i.marker][(i.open?3:0)+i.length%3],s=f-g[f]-1,a=s;s>o;s-=g[s]+1)if(r=t[s],r.marker===i.marker&&r.open&&r.end<0&&(c=!1,(r.close||i.open)&&(r.length+i.length)%3===0&&(r.length%3!==0||i.length%3!==0)&&(c=!0),!c)){h=s>0&&!t[s-1].open?g[s-1]+1:0,g[e]=e-s+h,g[s]=h,i.open=!1,r.end=e,r.close=!1,a=-1,p=-2;break}a!==-1&&(u[i.marker][(i.open?3:0)+(i.length||0)%3]=a)}}}var art=function(t){var e,s=t.tokens_meta,i=t.tokens_meta.length;for(f_(t,t.delimiters),e=0;e<i;e++)s[e]&&s[e].delimiters&&f_(t,s[e].delimiters)},crt=function(t){var e,s,i=0,r=t.tokens,o=t.tokens.length;for(e=s=0;e<o;e++)r[e].nesting<0&&i--,r[e].level=i,r[e].nesting>0&&i++,r[e].type==="text"&&e+1<o&&r[e+1].type==="text"?r[e+1].content=r[e].content+r[e+1].content:(e!==s&&(r[s]=r[e]),s++);e!==s&&(r.length=s)},hm=am,p_=Dt.isWhiteSpace,g_=Dt.isPunctChar,m_=Dt.isMdAsciiPunct;function Zh(n,t,e,s){this.src=n,this.env=e,this.md=t,this.tokens=s,this.tokens_meta=Array(s.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1}Zh.prototype.pushPending=function(){var n=new hm("text","",0);return n.content=this.pending,n.level=this.pendingLevel,this.tokens.push(n),this.pending="",n};Zh.prototype.push=function(n,t,e){this.pending&&this.pushPending();var s=new hm(n,t,e),i=null;return e<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),s.level=this.level,e>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(s),this.tokens_meta.push(i),s};Zh.prototype.scanDelims=function(n,t){var e=n,s,i,r,o,a,c,h,u,d,f=!0,p=!0,g=this.posMax,m=this.src.charCodeAt(n);for(s=n>0?this.src.charCodeAt(n-1):32;e<g&&this.src.charCodeAt(e)===m;)e++;return r=e-n,i=e<g?this.src.charCodeAt(e):32,h=m_(s)||g_(String.fromCharCode(s)),d=m_(i)||g_(String.fromCharCode(i)),c=p_(s),u=p_(i),u?f=!1:d&&(c||h||(f=!1)),c?p=!1:h&&(u||d||(p=!1)),t?(o=f,a=p):(o=f&&(!p||h),a=p&&(!f||d)),{can_open:o,can_close:a,length:r}};Zh.prototype.Token=hm;var lrt=Zh,b_=om,Uf=[["text",Bit],["newline",zit],["escape",Vit],["backticks",Uit],["strikethrough",lf.tokenize],["emphasis",hf.tokenize],["link",Wit],["image",Xit],["autolink",Jit],["html_inline",ert],["entity",ort]],Gf=[["balance_pairs",art],["strikethrough",lf.postProcess],["emphasis",hf.postProcess],["text_collapse",crt]];function Jh(){var n;for(this.ruler=new b_,n=0;n<Uf.length;n++)this.ruler.push(Uf[n][0],Uf[n][1]);for(this.ruler2=new b_,n=0;n<Gf.length;n++)this.ruler2.push(Gf[n][0],Gf[n][1])}Jh.prototype.skipToken=function(n){var t,e,s=n.pos,i=this.ruler.getRules(""),r=i.length,o=n.md.options.maxNesting,a=n.cache;if(typeof a[s]<"u"){n.pos=a[s];return}if(n.level<o)for(e=0;e<r&&(n.level++,t=i[e](n,!0),n.level--,!t);e++);else n.pos=n.posMax;t||n.pos++,a[s]=n.pos};Jh.prototype.tokenize=function(n){for(var t,e,s=this.ruler.getRules(""),i=s.length,r=n.posMax,o=n.md.options.maxNesting;n.pos<r;){if(n.level<o)for(e=0;e<i&&(t=s[e](n,!1),!t);e++);if(t){if(n.pos>=r)break;continue}n.pending+=n.src[n.pos++]}n.pending&&n.pushPending()};Jh.prototype.parse=function(n,t,e,s){var i,r,o,a=new this.State(n,t,e,s);for(this.tokenize(a),r=this.ruler2.getRules(""),o=r.length,i=0;i<o;i++)r[i](a)};Jh.prototype.State=lrt;var hrt=Jh,Wf,__;function urt(){return __||(__=1,Wf=function(n){var t={};t.src_Any=w0().source,t.src_Cc=x0().source,t.src_Z=E0().source,t.src_P=rm.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");var e="[><｜]";return t.src_pseudo_letter="(?:(?!"+e+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+e+"|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+e+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]).|"+(n&&n["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+").|;(?!"+t.src_ZCc+").|\\!+(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+e+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}),Wf}function yp(n){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(e){e&&Object.keys(e).forEach(function(s){n[s]=e[s]})}),n}function uf(n){return Object.prototype.toString.call(n)}function drt(n){return uf(n)==="[object String]"}function frt(n){return uf(n)==="[object Object]"}function prt(n){return uf(n)==="[object RegExp]"}function v_(n){return uf(n)==="[object Function]"}function grt(n){return n.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var P0={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function mrt(n){return Object.keys(n||{}).reduce(function(t,e){return t||P0.hasOwnProperty(e)},!1)}var brt={"http:":{validate:function(n,t,e){var s=n.slice(t);return e.re.http||(e.re.http=new RegExp("^\\/\\/"+e.re.src_auth+e.re.src_host_port_strict+e.re.src_path,"i")),e.re.http.test(s)?s.match(e.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(n,t,e){var s=n.slice(t);return e.re.no_http||(e.re.no_http=new RegExp("^"+e.re.src_auth+"(?:localhost|(?:(?:"+e.re.src_domain+")\\.)+"+e.re.src_domain_root+")"+e.re.src_port+e.re.src_host_terminator+e.re.src_path,"i")),e.re.no_http.test(s)?t>=3&&n[t-3]===":"||t>=3&&n[t-3]==="/"?0:s.match(e.re.no_http)[0].length:0}},"mailto:":{validate:function(n,t,e){var s=n.slice(t);return e.re.mailto||(e.re.mailto=new RegExp("^"+e.re.src_email_name+"@"+e.re.src_host_strict,"i")),e.re.mailto.test(s)?s.match(e.re.mailto)[0].length:0}}},_rt="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",vrt="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function yrt(n){n.__index__=-1,n.__text_cache__=""}function Art(n){return function(t,e){var s=t.slice(e);return n.test(s)?s.match(n)[0].length:0}}function y_(){return function(n,t){t.normalize(n)}}function ud(n){var t=n.re=urt()(n.__opts__),e=n.__tlds__.slice();n.onCompile(),n.__tlds_replaced__||e.push(_rt),e.push(t.src_xn),t.src_tlds=e.join("|");function s(a){return a.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(s(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(s(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(s(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(s(t.tpl_host_fuzzy_test),"i");var i=[];n.__compiled__={};function r(a,c){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+c)}Object.keys(n.__schemas__).forEach(function(a){var c=n.__schemas__[a];if(c!==null){var h={validate:null,link:null};if(n.__compiled__[a]=h,frt(c)){prt(c.validate)?h.validate=Art(c.validate):v_(c.validate)?h.validate=c.validate:r(a,c),v_(c.normalize)?h.normalize=c.normalize:c.normalize?r(a,c):h.normalize=y_();return}if(drt(c)){i.push(a);return}r(a,c)}}),i.forEach(function(a){n.__compiled__[n.__schemas__[a]]&&(n.__compiled__[a].validate=n.__compiled__[n.__schemas__[a]].validate,n.__compiled__[a].normalize=n.__compiled__[n.__schemas__[a]].normalize)}),n.__compiled__[""]={validate:null,normalize:y_()};var o=Object.keys(n.__compiled__).filter(function(a){return a.length>0&&n.__compiled__[a]}).map(grt).join("|");n.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+o+")","i"),n.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+o+")","ig"),n.re.pretest=RegExp("("+n.re.schema_test.source+")|("+n.re.host_fuzzy_test.source+")|@","i"),yrt(n)}function wrt(n,t){var e=n.__index__,s=n.__last_index__,i=n.__text_cache__.slice(e,s);this.schema=n.__schema__.toLowerCase(),this.index=e+t,this.lastIndex=s+t,this.raw=i,this.text=i,this.url=i}function A_(n,t){var e=new wrt(n,t);return n.__compiled__[e.schema].normalize(e,n),e}function Ps(n,t){if(!(this instanceof Ps))return new Ps(n,t);t||mrt(n)&&(t=n,n={}),this.__opts__=yp({},P0,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=yp({},brt,n),this.__compiled__={},this.__tlds__=vrt,this.__tlds_replaced__=!1,this.re={},ud(this)}Ps.prototype.add=function(t,e){return this.__schemas__[t]=e,ud(this),this};Ps.prototype.set=function(t){return this.__opts__=yp(this.__opts__,t),this};Ps.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var e,s,i,r,o,a,c,h,u;if(this.re.schema_test.test(t)){for(c=this.re.schema_search,c.lastIndex=0;(e=c.exec(t))!==null;)if(r=this.testSchemaAt(t,e[2],c.lastIndex),r){this.__schema__=e[2],this.__index__=e.index+e[1].length,this.__last_index__=e.index+e[0].length+r;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(h=t.search(this.re.host_fuzzy_test),h>=0&&(this.__index__<0||h<this.__index__)&&(s=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(o=s.index+s[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=s.index+s[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(u=t.indexOf("@"),u>=0&&(i=t.match(this.re.email_fuzzy))!==null&&(o=i.index+i[1].length,a=i.index+i[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a))),this.__index__>=0};Ps.prototype.pretest=function(t){return this.re.pretest.test(t)};Ps.prototype.testSchemaAt=function(t,e,s){return this.__compiled__[e.toLowerCase()]?this.__compiled__[e.toLowerCase()].validate(t,s,this):0};Ps.prototype.match=function(t){var e=0,s=[];this.__index__>=0&&this.__text_cache__===t&&(s.push(A_(this,e)),e=this.__last_index__);for(var i=e?t.slice(e):t;this.test(i);)s.push(A_(this,e)),i=i.slice(this.__last_index__),e+=this.__last_index__;return s.length?s:null};Ps.prototype.tlds=function(t,e){return t=Array.isArray(t)?t:[t],e?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(s,i,r){return s!==r[i-1]}).reverse(),ud(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,ud(this),this)};Ps.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};Ps.prototype.onCompile=function(){};var xrt=Ps;const ua=2147483647,kn=36,um=1,ul=26,Ert=38,Crt=700,L0=72,M0=128,F0="-",krt=/^xn--/,Srt=/[^\0-\x7F]/,Trt=/[\x2E\u3002\uFF0E\uFF61]/g,Rrt={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Kf=kn-um,Sn=Math.floor,Xf=String.fromCharCode;function Bi(n){throw new RangeError(Rrt[n])}function Drt(n,t){const e=[];let s=n.length;for(;s--;)e[s]=t(n[s]);return e}function I0(n,t){const e=n.split("@");let s="";e.length>1&&(s=e[0]+"@",n=e[1]),n=n.replace(Trt,".");const i=n.split("."),r=Drt(i,t).join(".");return s+r}function dm(n){const t=[];let e=0;const s=n.length;for(;e<s;){const i=n.charCodeAt(e++);if(i>=55296&&i<=56319&&e<s){const r=n.charCodeAt(e++);(r&64512)==56320?t.push(((i&1023)<<10)+(r&1023)+65536):(t.push(i),e--)}else t.push(i)}return t}const O0=n=>String.fromCodePoint(...n),Prt=function(n){return n>=48&&n<58?26+(n-48):n>=65&&n<91?n-65:n>=97&&n<123?n-97:kn},w_=function(n,t){return n+22+75*(n<26)-((t!=0)<<5)},N0=function(n,t,e){let s=0;for(n=e?Sn(n/Crt):n>>1,n+=Sn(n/t);n>Kf*ul>>1;s+=kn)n=Sn(n/Kf);return Sn(s+(Kf+1)*n/(n+Ert))},fm=function(n){const t=[],e=n.length;let s=0,i=M0,r=L0,o=n.lastIndexOf(F0);o<0&&(o=0);for(let a=0;a<o;++a)n.charCodeAt(a)>=128&&Bi("not-basic"),t.push(n.charCodeAt(a));for(let a=o>0?o+1:0;a<e;){const c=s;for(let u=1,d=kn;;d+=kn){a>=e&&Bi("invalid-input");const f=Prt(n.charCodeAt(a++));f>=kn&&Bi("invalid-input"),f>Sn((ua-s)/u)&&Bi("overflow"),s+=f*u;const p=d<=r?um:d>=r+ul?ul:d-r;if(f<p)break;const g=kn-p;u>Sn(ua/g)&&Bi("overflow"),u*=g}const h=t.length+1;r=N0(s-c,h,c==0),Sn(s/h)>ua-i&&Bi("overflow"),i+=Sn(s/h),s%=h,t.splice(s++,0,i)}return String.fromCodePoint(...t)},pm=function(n){const t=[];n=dm(n);const e=n.length;let s=M0,i=0,r=L0;for(const c of n)c<128&&t.push(Xf(c));const o=t.length;let a=o;for(o&&t.push(F0);a<e;){let c=ua;for(const u of n)u>=s&&u<c&&(c=u);const h=a+1;c-s>Sn((ua-i)/h)&&Bi("overflow"),i+=(c-s)*h,s=c;for(const u of n)if(u<s&&++i>ua&&Bi("overflow"),u===s){let d=i;for(let f=kn;;f+=kn){const p=f<=r?um:f>=r+ul?ul:f-r;if(d<p)break;const g=d-p,m=kn-p;t.push(Xf(w_(p+g%m,0))),d=Sn(g/m)}t.push(Xf(w_(d,0))),r=N0(i,h,a===o),i=0,++a}++i,++s}return t.join("")},q0=function(n){return I0(n,function(t){return krt.test(t)?fm(t.slice(4).toLowerCase()):t})},$0=function(n){return I0(n,function(t){return Srt.test(t)?"xn--"+pm(t):t})},Lrt={version:"2.3.1",ucs2:{decode:dm,encode:O0},decode:fm,encode:pm,toASCII:$0,toUnicode:q0},Mrt=Object.freeze(Object.defineProperty({__proto__:null,decode:fm,default:Lrt,encode:pm,toASCII:$0,toUnicode:q0,ucs2decode:dm,ucs2encode:O0},Symbol.toStringTag,{value:"Module"})),Frt=Wk(Mrt);var Irt={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},Ort={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}},Nrt={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}},Jc=Dt,qrt=rf,$rt=Nnt,Brt=oit,Hrt=qit,zrt=hrt,jrt=xrt,Or=gc,B0=Frt,Vrt={default:Irt,zero:Ort,commonmark:Nrt},Urt=/^(vbscript|javascript|file|data):/,Grt=/^data:image\/(gif|png|jpeg|webp);/;function Wrt(n){var t=n.trim().toLowerCase();return Urt.test(t)?!!Grt.test(t):!0}var H0=["http:","https:","mailto:"];function Krt(n){var t=Or.parse(n,!0);if(t.hostname&&(!t.protocol||H0.indexOf(t.protocol)>=0))try{t.hostname=B0.toASCII(t.hostname)}catch{}return Or.encode(Or.format(t))}function Xrt(n){var t=Or.parse(n,!0);if(t.hostname&&(!t.protocol||H0.indexOf(t.protocol)>=0))try{t.hostname=B0.toUnicode(t.hostname)}catch{}return Or.decode(Or.format(t),Or.decode.defaultChars+"%")}function Ls(n,t){if(!(this instanceof Ls))return new Ls(n,t);t||Jc.isString(n)||(t=n||{},n="default"),this.inline=new zrt,this.block=new Hrt,this.core=new Brt,this.renderer=new $rt,this.linkify=new jrt,this.validateLink=Wrt,this.normalizeLink=Krt,this.normalizeLinkText=Xrt,this.utils=Jc,this.helpers=Jc.assign({},qrt),this.options={},this.configure(n),t&&this.set(t)}Ls.prototype.set=function(n){return Jc.assign(this.options,n),this};Ls.prototype.configure=function(n){var t=this,e;if(Jc.isString(n)&&(e=n,n=Vrt[e],!n))throw new Error('Wrong `markdown-it` preset "'+e+'", check name');if(!n)throw new Error("Wrong `markdown-it` preset, can't be empty");return n.options&&t.set(n.options),n.components&&Object.keys(n.components).forEach(function(s){n.components[s].rules&&t[s].ruler.enableOnly(n.components[s].rules),n.components[s].rules2&&t[s].ruler2.enableOnly(n.components[s].rules2)}),this};Ls.prototype.enable=function(n,t){var e=[];Array.isArray(n)||(n=[n]),["core","block","inline"].forEach(function(i){e=e.concat(this[i].ruler.enable(n,!0))},this),e=e.concat(this.inline.ruler2.enable(n,!0));var s=n.filter(function(i){return e.indexOf(i)<0});if(s.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+s);return this};Ls.prototype.disable=function(n,t){var e=[];Array.isArray(n)||(n=[n]),["core","block","inline"].forEach(function(i){e=e.concat(this[i].ruler.disable(n,!0))},this),e=e.concat(this.inline.ruler2.disable(n,!0));var s=n.filter(function(i){return e.indexOf(i)<0});if(s.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+s);return this};Ls.prototype.use=function(n){var t=[this].concat(Array.prototype.slice.call(arguments,1));return n.apply(n,t),this};Ls.prototype.parse=function(n,t){if(typeof n!="string")throw new Error("Input data should be a String");var e=new this.core.State(n,this,t);return this.core.process(e),e.tokens};Ls.prototype.render=function(n,t){return t=t||{},this.renderer.render(this.parse(n,t),this.options,t)};Ls.prototype.parseInline=function(n,t){var e=new this.core.State(n,this,t);return e.inlineMode=!0,this.core.process(e),e.tokens};Ls.prototype.renderInline=function(n,t){return t=t||{},this.renderer.render(this.parseInline(n,t),this.options,t)};var Yrt=Ls,Zrt=Yrt;const Jrt=Gk(Zrt);var wi=es({name:"VueMarkdown",props:{source:{type:String,required:!0},options:{type:Object,required:!1},plugins:{type:Array,required:!1}},setup:function(n){for(var t,e,s=dt(new Jrt((t=n.options)!==null&&t!==void 0?t:{})),i=0,r=(e=n.plugins)!==null&&e!==void 0?e:[];i<r.length;i++){var o=r[i];s.value.use(o)}var a=ke(function(){return s.value.render(n.source)});return function(){return Qd("div",{innerHTML:a.value})}}});const z0=n=>(Ci("data-v-b0273f4e"),n=n(),ki(),n),Qrt={class:"outer-container"},tot={class:"penjelasan"},eot={class:"card_title text-3xl font-bold"},sot=z0(()=>T("br",null,null,-1)),not={key:4},iot=z0(()=>T("p",{class:"blinking"},"processing...",-1)),rot=[iot],oot=es({__name:"ItemRekomendasiBUMD",props:{bumdId:{},bumdName:{},penjelasanAi:{},penjelasanAiShort:{},score:{},query:{}},emits:["gotScore"],setup(n,{emit:t}){new AbortController().signal;const s=n;dt(!1),dt(!1);const i=dt(!1);return dt(s.penjelasanAi),Mn(async()=>{console.log("mounted, with query:",s.query,"bumd:",s.bumdName)}),(r,o)=>($(),G("div",Qrt,[T("div",tot,[T("h1",eot,[Ot(Ut(r.bumdName)+" ",1),sot]),i.value?($(),_s(Kt(wi),{key:0,source:r.penjelasanAi},null,8,["source"])):ft("",!0),i.value?ft("",!0):($(),_s(Kt(wi),{key:1,source:r.penjelasanAiShort},null,8,["source"])),!i.value&&r.penjelasanAi?($(),G("a",{key:2,href:"#",onClick:o[0]||(o[0]=gr(a=>i.value=!i.value,["prevent"]))},"Read More...")):ft("",!0),i.value?($(),G("a",{key:3,href:"#",style:{color:"brown"},onClick:o[1]||(o[1]=gr(a=>i.value=!i.value,["prevent"]))},"Close Read More")):ft("",!0),r.penjelasanAiShort.length<1?($(),G("div",not,rot)):ft("",!0)])]))}}),aot=sn(oot,[["__scopeId","data-v-b0273f4e"]]),ze="https://ringkasan.net",_c=n=>(Ci("data-v-2441277c"),n=n(),ki(),n),cot={class:"main_container"},lot={class:"flex_row padding20 flex_end max_width centered_div top_banner"},hot=_c(()=>T("div",null,[T("h1",{class:"main_tittle"},[Ot(" Matching "),T("span",{class:"green_color"},"BUMD ")]),T("h2",{class:"main_tittle text_right"}," Pemetaan kesesuaian penugasan BUMD ")],-1)),uot=_c(()=>T("img",{class:"card_image",src:ak,alt:""},null,-1)),dot={class:"chat_container"},fot={class:"chat-app"},pot={class:"admin_container",style:{}},got={class:"admin_item",style:{display:"flex","justify-content":"flex-end"}},mot=_c(()=>T("div",{style:{"padding-top":"5px"}},"Model:",-1)),bot={style:{display:"flex","justify-content":"flex-end"}},_ot=_c(()=>T("div",{style:{"padding-top":"5px","margin-left":"5px"}}," Jumlah Rekomendasi: ",-1)),vot=_c(()=>T("button",{class:"button-ask margin_right",type:"submit"},[Ot(" Evaluasi Kesesuaian "),T("br"),Ot(" Penugasan ")],-1)),yot={key:0,class:"loading-container"},Aot=_c(()=>T("img",{class:"loading_image",src:pc},null,-1)),wot=[Aot],xot={class:"candidate_container",style:{display:"flex","flex-direction":"column","margin-top":"20px"}},Eot=es({__name:"BumdView",setup(n){Mn(()=>{console.log(ze)});function t(){console.log("urutkanBumd, sebelum diurutkan:"),a.forEach(d=>{console.log("1",d.bumd.name,d.score)}),console.log("urutkanBumd, setelah diurutkan:"),a.sort((d,f)=>f.score-d.score),a.forEach(d=>{console.log("1",d.bumd.name,d.score)})}class e{constructor(f,p){this.penjelasanAi="",this.penjelasanAiShort="",this.score=NaN,this.controller=new AbortController,this.signal=this.controller.signal,this.showReadMore=!1,this.scoreSent=!1,this.bumd=f,this.query=p}rubahNama(){this.bumd.name="BUMD nama dirubah"}abortFetch(){console.log("Aborting fetch for",this.bumd.name),this.controller.abort()}getScore(){if(this.scoreSent)return NaN;const f=/(\d+)%/,p=this.penjelasanAiShort.match(f);return p?(console.log("Get scoreExtracted:",p[1],"id:",this.bumd.name,"to number:",Number(p[1])),console.log(this.penjelasanAiShort),this.score=Number(p[1]),this.scoreSent=!0,Number(p[1])):NaN}removeBackticks(f){return f.replace(/```/g,"")}addPenjelasanAi(f){this.penjelasanAi+=f,this.penjelasanAi=this.removeBackticks(this.penjelasanAi);let p=this.getScore();p&&(console.log("Get scoreExtracted:",p),this.score=p,t())}addPenjelasanAiShort(f){this.penjelasanAiShort+=f,this.penjelasanAiShort=this.removeBackticks(this.penjelasanAiShort)}async evaluasiBUMD(){console.log("about to evaluate bumd:",this.bumd.id,this.query);try{const f=`${ze}/bumd/evaluasi/${this.bumd.id}/${o.value}`;console.log("fetching data from:",f);let p="";const g=await fetch(f,{signal:this.signal,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:s.value})});if(console.log("response:",g),r.value=!1,!g.body)console.error("No response body"),this.penjelasanAi="No response body",this.penjelasanAiShort="No response body";else{const m=g.body.getReader(),A=new TextDecoder,b=async()=>{const{value:w,done:C}=await m.read();if(C)return;const k=A.decode(w);p+=k,this.addPenjelasanAi(k),this.penjelasanAiShort.length<700?this.addPenjelasanAiShort(k):this.showReadMore=!0,b()};b()}}catch(f){throw console.log("error:",f),r.value=!1,f}}}const s=dt(""),i=dt("");dt(""),dt([]),dt(!1);const r=dt(!1),o=dt("GeminiAi"),a=Xh([]),c=dt(3);async function h(){r.value=!0,s.value||console.log("query is empty, returning:"),console.log("query: ",s.value,"aiModel:",o.value);try{a.length>0&&(a.map(f=>{f.abortFetch()}),a.splice(0,a.length)),(await u()).map(f=>{a.push(new e(f,s.value))}),a.map(f=>{f.evaluasiBUMD()})}catch(d){console.log("error:",d),r.value=!1,alert("Error getting BUMD Candidate")}r.value=!1}async function u(){console.log("in getBUMDCandidate"),i.value="",c.value||(c.value=3);const d=`${ze}/bumd/candidates/${c.value}`;try{console.log("fetching url:",d);const f=await fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:s.value})});if(console.log("query:",f),f.status!=200)throw i.value=`Error:  ${f.status}`,r.value=!1,new Error(String(f.status));const p=await f.json();if(p.length<1)throw console.log("Error no candidate is given"),new Error("Error no answer is given");return r.value=!1,p.map(g=>({id:g.id,name:g.name,desc:g.desc,perda:g.perda,score:0}))}catch(f){throw console.log("error:",f),console.log(i.value),r.value=!1,f}}return(d,f)=>($(),G("div",cot,[T("div",lot,[hot,_t(la,{name:"rotate",appear:""},{default:ms(()=>[uot]),_:1})]),_t(la,{name:"fade",appear:""},{default:ms(()=>[T("div",dot,[T("div",fot,[T("div",pot,[T("div",got,[mot,_t(Kt(ld),{modelValue:o.value,"onUpdate:modelValue":f[0]||(f[0]=p=>o.value=p),style:{width:"200px","margin-left":"5px"},options:["OpenAi","GeminiAi"]},null,8,["modelValue"])]),T("div",bot,[_ot,_t(Kt(ld),{modelValue:c.value,"onUpdate:modelValue":f[1]||(f[1]=p=>c.value=p),style:{width:"100px","margin-left":"5px"},options:[1,2,3,4,5]},null,8,["modelValue"])])]),T("form",{onSubmit:gr(h,["prevent"]),class:"form-container"},[vot,ur(T("input",{type:"text","onUpdate:modelValue":f[2]||(f[2]=p=>s.value=p),placeholder:"Kebutuhan penugasan..."},null,512),[[r0,s.value]])],32)]),r.value?($(),G("div",yot,wot)):ft("",!0),T("div",xot,[_t(i0,{name:"list",tag:"ul",style:{display:"block",padding:"0 20px"}},{default:ms(()=>[($(!0),G(ne,null,fr(a,(p,g)=>($(),G("li",{key:g,style:{"list-style-type":"none"}},[_t(la,{name:"fade",appear:""},{default:ms(()=>[_t(aot,{bumdId:p.bumd.id,bumdName:p.bumd.name,penjelasanAi:p.penjelasanAi,penjelasanAiShort:p.penjelasanAiShort,score:p.score,query:s.value},null,8,["bumdId","bumdName","penjelasanAi","penjelasanAiShort","score","query"])]),_:2},1024)]))),128))]),_:1})])])]),_:1})]))}}),Cot=sn(Eot,[["__scopeId","data-v-2441277c"]]),kot="/assets/sun-CeNPTSXf.png",j0=n=>(Ci("data-v-a396aa0a"),n=n(),ki(),n),Sot={class:"outer-container"},Tot={class:"penjelasan"},Rot={class:"text-2xl font-bold card_title"},Dot=j0(()=>T("br",null,null,-1)),Pot={key:4},Lot=j0(()=>T("p",{class:"blinking"},"processing...",-1)),Mot=[Lot],Fot=es({__name:"ItemEvaluasiAset",props:{asetName:{},penjelasanAi:{},penjelasanAiShort:{},score:{}},setup(n){const t=dt(!1);function e(){t.value=!t.value}return Mn(()=>{}),(s,i)=>($(),G("div",Sot,[T("div",Tot,[T("h1",Rot,[Ot(Ut(s.asetName)+" ",1),Dot]),t.value?($(),_s(Kt(wi),{key:0,source:s.penjelasanAi},null,8,["source"])):ft("",!0),t.value?ft("",!0):($(),_s(Kt(wi),{key:1,source:s.penjelasanAiShort},null,8,["source"])),!t.value&&s.penjelasanAi?($(),G("a",{key:2,href:"#",onClick:gr(e,["prevent"])},"Read More...")):ft("",!0),t.value?($(),G("a",{key:3,href:"#",style:{color:"brown"},onClick:gr(e,["prevent"])},"Close Read More")):ft("",!0),s.penjelasanAiShort.length<1?($(),G("div",Pot,Mot)):ft("",!0)])]))}}),Iot=sn(Fot,[["__scopeId","data-v-a396aa0a"]]),V0=n=>(Ci("data-v-1676274f"),n=n(),ki(),n),Oot={id:"main_container"},Not=Gv('<div id="tittle_container" class="fadeIn" data-v-1676274f><div id="tittle" class="flex flex-col justify-center" data-v-1676274f><h1 class="tittle" data-v-1676274f> Pemanfaatan<span style="color:green;" data-v-1676274f>Aset</span></h1><h2 class="tittle" data-v-1676274f>Peraturan dan Kebijakan Pemanfaatan Aset</h2></div><div id="tittle_logo" data-v-1676274f><img class="logo_img" src="'+kot+'" alt="Logo" data-v-1676274f></div></div>',1),qot={id:"ai_container",class:"fadeIn"},$ot={id:"option_container"},Bot={id:"ai_model"},Hot={id:"jumlah_rekomendasi"},zot={id:"chat_app"},jot=V0(()=>T("button",{id:"send_button"},[Ot(" Evaluasi Peraturan & "),T("br"),Ot(" Pemanfaatan ")],-1)),Vot={key:0},Uot=V0(()=>T("img",{id:"loading_container",src:pc,alt:"Loading..."},null,-1)),Got=[Uot],Wot={id:"candidate_container"},Kot={key:0},Xot=es({__name:"AsetView",setup(n){const t=dt(20),e=dt(""),s=dt([]),i=dt("GeminiAI"),r=dt(!1),o=new AbortController,a=o.signal;async function c(){if(s.value=[],r.value=!0,e.value===""){console.log("Query tidak boleh kosong"),r.value=!1;return}await h(),r.value=!1,await u()}async function h(){const m=`${ze}/aset/aset-candidates/${t.value}`;s.value.length>0&&o.abort();try{const A=await fetch(m,{signal:a,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e.value})});if(!A.ok)throw new Error(`HTTP error! Status: ${A.status}`);(await A.json()).candidates.forEach(w=>{s.value.push({id:w.id,asetName:`${w.name}`,penjelasan:"",penjelasanShort:"",score:0})})}catch(A){console.log("Error pas getDocCandidate:",A),r.value=!1}}async function u(){console.log(`query: ${e.value}`);const m=`${ze}/aset/q-a/${i.value}/${t.value}`;try{const A=await fetch(m,{signal:a,method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e.value})});if(!A.ok)throw new Error(`HTTP error! Status: ${A.status}`);if(!A.body)throw new Error("Response body is null");const b=A.body.getReader(),w=async()=>{const{value:C,done:k}=await b.read();if(k){console.log("streaming done");return}const L="["+new TextDecoder().decode(C).replace(/}{/g,"},{")+"]";JSON.parse(L).forEach(U=>{const N=s.value.find(B=>B.id===U.id);N&&(N.penjelasan+=U.penjelasan,N.penjelasan=p(N.penjelasan),N.penjelasanShort=d(N.penjelasan),N.score=f(N.penjelasan))}),w()};w()}catch(A){console.log("Error pas submitQuery:",A),window.alert(A)}}function d(m){return m.length>500?m.substring(0,500)+"...":m}function f(m){const A=/(\d+)%/,b=m.match(A);return b?parseInt(b[1]):0}function p(m){const A=/```/g;return m.replace(A,"")}const g=ke(()=>[...s.value].sort((A,b)=>b.score-A.score));return(m,A)=>($(),G("div",Oot,[Not,T("div",qot,[T("div",$ot,[T("div",Bot,[Ot(" Model: "),_t(Kt(ld),{modelValue:i.value,"onUpdate:modelValue":A[0]||(A[0]=b=>i.value=b),options:["GeminiAi","OpenAi"]},null,8,["modelValue"])]),T("div",Hot,[Ot(" Jumlah bab yang di analisis: "),_t(Kt(ld),{modelValue:t.value,"onUpdate:modelValue":A[1]||(A[1]=b=>t.value=b),options:[3,5,7,10,20]},null,8,["modelValue"])])]),T("div",zot,[T("form",{onSubmit:gr(c,["prevent"]),id:"form_container"},[jot,ur(T("input",{id:"input_message",type:"text","onUpdate:modelValue":A[2]||(A[2]=b=>e.value=b),placeholder:"Peraturan dan pemanfaatan..."},null,512),[[r0,e.value]])],32)])]),r.value?($(),G("div",Vot,Got)):ft("",!0),T("div",Wot,[_t(i0,{name:"list",tag:"ul",class:"no-bullets"},{default:ms(()=>[s.value.length!==0?($(),G("div",Kot,[($(!0),G(ne,null,fr(g.value,(b,w)=>($(),G("li",{key:w,class:"candidate-item"},[_t(Iot,{asetName:b.asetName,penjelasanAi:b.penjelasan,penjelasanAiShort:b.penjelasanShort},null,8,["asetName","penjelasanAi","penjelasanAiShort"])]))),128))])):ft("",!0)]),_:1})])]))}}),Yot=sn(Xot,[["__scopeId","data-v-1676274f"]]),Vo=n=>(Ci("data-v-bc34069d"),n=n(),ki(),n),Zot=Vo(()=>T("div",{class:"header_title_container"},[T("h1",{class:"main_tittle right_aligned_text"},[Ot("Smart "),T("span",{class:"green_color"},"Asistant ")]),T("h2",{class:"main_tittle right_aligned_text"},"Pemerintah Provinsi Jawa Barat")],-1)),Jot=Vo(()=>T("h2",{class:"card_title"},"List Dokumen BUMD",-1)),Qot=Vo(()=>T("img",{class:"card_image",src:v0,alt:""},null,-1)),tat=Vo(()=>T("p",null,null,-1)),eat=[Jot,Qot,tat],sat=Vo(()=>T("h2",{class:"card_title"},"List Dokumen Aset",-1)),nat=Vo(()=>T("img",{class:"card_image",src:y0,alt:""},null,-1)),iat=Vo(()=>T("p",null,null,-1)),rat=[sat,nat,iat],oat=es({__name:"AdminView",setup(n){const t=fc();function e(){t.push("/list-bumd")}function s(){t.push("/list-aset")}return(i,r)=>($(),G("div",null,[T("div",{class:"main_container right_aligned_text"},[Zot,T("div",{class:"tools_card_container"},[T("div",{class:"tools_card",onClick:e},eat),T("div",{class:"tools_card",onClick:s},rat)])])]))}}),aat=sn(oat,[["__scopeId","data-v-bc34069d"]]),cat="modulepreload",lat=function(n){return"/"+n},x_={},pu=function(t,e,s){let i=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),o=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));i=Promise.all(e.map(a=>{if(a=lat(a),a in x_)return;x_[a]=!0;const c=a.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${h}`))return;const u=document.createElement("link");if(u.rel=c?"stylesheet":cat,c||(u.as="script",u.crossOrigin=""),u.href=a,o&&u.setAttribute("nonce",o),document.head.appendChild(u),c)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>t()).catch(r=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=r,window.dispatchEvent(o),!o.defaultPrevented)throw r})};var Qc={};Qc.d=(n,t)=>{for(var e in t)Qc.o(t,e)&&!Qc.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})};Qc.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var gt=globalThis.pdfjsLib={};Qc.d(gt,{AbortException:()=>Go,AnnotationEditorLayer:()=>Dg,AnnotationEditorParamsType:()=>ut,AnnotationEditorType:()=>Et,AnnotationEditorUIManager:()=>Bo,AnnotationLayer:()=>rlt,AnnotationMode:()=>Hi,CMapCompressionType:()=>wp,ColorPicker:()=>bd,DOMSVGFactory:()=>bm,DrawLayer:()=>Fg,FeatureTest:()=>Ye,GlobalWorkerOptions:()=>bi,ImageKind:()=>Ru,InvalidPDFException:()=>G0,MissingPDFException:()=>Uo,OPS:()=>Bs,PDFDataRangeTransport:()=>By,PDFDateString:()=>J0,PDFWorker:()=>fa,PasswordResponses:()=>fat,PermissionFlag:()=>dat,PixelsPerInch:()=>mr,RenderingCancelledException:()=>_m,TextLayer:()=>dl,UnexpectedResponseException:()=>gf,Util:()=>it,VerbosityLevel:()=>df,XfaLayer:()=>zy,build:()=>$ct,createValidAbsoluteUrl:()=>bat,fetchData:()=>yf,getDocument:()=>Dct,getFilenameFromUrl:()=>Sat,getPdfFilenameFromUrl:()=>Tat,getXfaPageViewport:()=>Rat,isDataScheme:()=>Af,isPdfFile:()=>vm,noContextMenu:()=>Je,normalizeUnicode:()=>xat,setLayerDimensions:()=>$o,shadow:()=>Ct,version:()=>qct});const Oe=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),U0=[1,0,0,1,0,0],Ap=[.001,0,0,.001,0,0],hat=1e7,Yf=1.35,gs={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Hi={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},uat="pdfjs_internal_editor_",Et={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},ut={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},dat={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Te={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Ru={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ce={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Ec={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},df={ERRORS:0,WARNINGS:1,INFOS:5},wp={NONE:0,BINARY:1},Bs={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},fat={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let ff=df.WARNINGS;function pat(n){Number.isInteger(n)&&(ff=n)}function gat(){return ff}function pf(n){ff>=df.INFOS&&console.log(`Info: ${n}`)}function vt(n){ff>=df.WARNINGS&&console.log(`Warning: ${n}`)}function $t(n){throw new Error(n)}function fe(n,t){n||$t(t)}function mat(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function bat(n,t=null,e=null){if(!n)return null;try{if(e&&typeof n=="string"){if(e.addDefaultProtocol&&n.startsWith("www.")){const i=n.match(/\./g);(i==null?void 0:i.length)>=2&&(n=`http://${n}`)}if(e.tryConvertEncoding)try{n=wat(n)}catch{}}const s=t?new URL(n,t):new URL(n);if(mat(s))return s}catch{}return null}function Ct(n,t,e,s=!1){return Object.defineProperty(n,t,{value:e,enumerable:!s,configurable:!0,writable:!1}),e}const Ar=function(){function t(e,s){this.constructor===t&&$t("Cannot initialize BaseException."),this.message=e,this.name=s}return t.prototype=new Error,t.constructor=t,t}();class xp extends Ar{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Ep extends Ar{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class G0 extends Ar{constructor(t){super(t,"InvalidPDFException")}}class Uo extends Ar{constructor(t){super(t,"MissingPDFException")}}class gf extends Ar{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class _at extends Ar{constructor(t){super(t,"FormatError")}}class Go extends Ar{constructor(t){super(t,"AbortException")}}function W0(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&$t("Invalid argument for bytesToString");const t=n.length,e=8192;if(t<e)return String.fromCharCode.apply(null,n);const s=[];for(let i=0;i<t;i+=e){const r=Math.min(i+e,t),o=n.subarray(i,r);s.push(String.fromCharCode.apply(null,o))}return s.join("")}function mf(n){typeof n!="string"&&$t("Invalid argument for stringToBytes");const t=n.length,e=new Uint8Array(t);for(let s=0;s<t;++s)e[s]=n.charCodeAt(s)&255;return e}function vat(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function gm(n){const t=Object.create(null);for(const[e,s]of n)t[e]=s;return t}function yat(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function Aat(){try{return new Function(""),!0}catch{return!1}}class Ye{static get isLittleEndian(){return Ct(this,"isLittleEndian",yat())}static get isEvalSupported(){return Ct(this,"isEvalSupported",Aat())}static get isOffscreenCanvasSupported(){return Ct(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ct(this,"platform",{isMac:navigator.platform.includes("Mac")}):Ct(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var t,e;return Ct(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const Zf=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var vi,Du,Cp;class it{static makeHexColor(t,e,s){return`#${Zf[t]}${Zf[e]}${Zf[s]}`}static scaleMinMax(t,e){let s;t[0]?(t[0]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[3],e[3]*=t[3]):(s=e[0],e[0]=e[1],e[1]=s,s=e[2],e[2]=e[3],e[3]=s,t[1]<0&&(s=e[1],e[1]=e[3],e[3]=s),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(s=e[0],e[0]=e[2],e[2]=s),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const s=t[0]*e[0]+t[1]*e[2]+e[4],i=t[0]*e[1]+t[1]*e[3]+e[5];return[s,i]}static applyInverseTransform(t,e){const s=e[0]*e[3]-e[1]*e[2],i=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/s,r=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/s;return[i,r]}static getAxialAlignedBoundingBox(t,e){const s=this.applyTransform(t,e),i=this.applyTransform(t.slice(2,4),e),r=this.applyTransform([t[0],t[3]],e),o=this.applyTransform([t[2],t[1]],e);return[Math.min(s[0],i[0],r[0],o[0]),Math.min(s[1],i[1],r[1],o[1]),Math.max(s[0],i[0],r[0],o[0]),Math.max(s[1],i[1],r[1],o[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],s=t[0]*e[0]+t[1]*e[2],i=t[0]*e[1]+t[1]*e[3],r=t[2]*e[0]+t[3]*e[2],o=t[2]*e[1]+t[3]*e[3],a=(s+o)/2,c=Math.sqrt((s+o)**2-4*(s*o-r*i))/2,h=a+c||1,u=a-c||1;return[Math.sqrt(h),Math.sqrt(u)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const s=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),i=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(s>i)return null;const r=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return r>o?null:[s,r,i,o]}static bezierBoundingBox(t,e,s,i,r,o,a,c,h){return h?(h[0]=Math.min(h[0],t,a),h[1]=Math.min(h[1],e,c),h[2]=Math.max(h[2],t,a),h[3]=Math.max(h[3],e,c)):h=[Math.min(t,a),Math.min(e,c),Math.max(t,a),Math.max(e,c)],v(this,vi,Cp).call(this,t,s,r,a,e,i,o,c,3*(-t+3*(s-r)+a),6*(t-2*s+r),3*(s-t),h),v(this,vi,Cp).call(this,t,s,r,a,e,i,o,c,3*(-e+3*(i-o)+c),6*(e-2*i+o),3*(i-e),h),h}}vi=new WeakSet,Du=function(t,e,s,i,r,o,a,c,h,u){if(h<=0||h>=1)return;const d=1-h,f=h*h,p=f*h,g=d*(d*(d*t+3*h*e)+3*f*s)+p*i,m=d*(d*(d*r+3*h*o)+3*f*a)+p*c;u[0]=Math.min(u[0],g),u[1]=Math.min(u[1],m),u[2]=Math.max(u[2],g),u[3]=Math.max(u[3],m)},Cp=function(t,e,s,i,r,o,a,c,h,u,d,f){if(Math.abs(h)<1e-12){Math.abs(u)>=1e-12&&v(this,vi,Du).call(this,t,e,s,i,r,o,a,c,-d/u,f);return}const p=u**2-4*d*h;if(p<0)return;const g=Math.sqrt(p),m=2*h;v(this,vi,Du).call(this,t,e,s,i,r,o,a,c,(-u+g)/m,f),v(this,vi,Du).call(this,t,e,s,i,r,o,a,c,(-u-g)/m,f)},y(it,vi);function wat(n){return decodeURIComponent(escape(n))}let Jf=null,E_=null;function xat(n){return Jf||(Jf=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,E_=new Map([["ﬅ","ſt"]])),n.replaceAll(Jf,(t,e,s)=>e?e.normalize("NFKC"):E_.get(s))}function Eat(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const n=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(n);else for(let t=0;t<32;t++)n[t]=Math.floor(Math.random()*255);return W0(n)}const K0="pdfjs_internal_id_",qn={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class bf{constructor(){this.constructor===bf&&$t("Cannot initialize BaseFilterFactory.")}addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,s,i,r){return"none"}destroy(t=!1){}}var pl;const Em=class Em{constructor({enableHWA:t=!1}={}){y(this,pl,!1);this.constructor===Em&&$t("Cannot initialize BaseCanvasFactory."),_(this,pl,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(t,e);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!l(this,pl)})}}reset(t,e,s){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||s<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=s}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){$t("Abstract method `_createCanvas` called.")}};pl=new WeakMap;let dd=Em;class _f{constructor({baseUrl:t=null,isCompressed:e=!0}){this.constructor===_f&&$t("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":""),s=this.isCompressed?wp.BINARY:wp.NONE;return this._fetchData(e,s).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}_fetchData(t,e){$t("Abstract method `_fetchData` called.")}}class vf{constructor({baseUrl:t=null}){this.constructor===vf&&$t("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetchData(e).catch(s=>{throw new Error(`Unable to load font data at: ${e}`)})}_fetchData(t){$t("Abstract method `_fetchData` called.")}}class mm{constructor(){this.constructor===mm&&$t("Cannot initialize BaseSVGFactory.")}create(t,e,s=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),s||(i.setAttribute("width",`${t}px`),i.setAttribute("height",`${e}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${t} ${e}`),i}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){$t("Abstract method `_createSVG` called.")}}const Hn="http://www.w3.org/2000/svg",Mr=class Mr{};mt(Mr,"CSS",96),mt(Mr,"PDF",72),mt(Mr,"PDF_TO_CSS_UNITS",Mr.CSS/Mr.PDF);let mr=Mr;var Nr,qr,cn,Gn,Pe,vd,$r,et,Re,Jo,Qo,Pu,ta,X0,kp,ea,Tc,Rc,Sp,Dc;class Cat extends bf{constructor({docId:e,ownerDocument:s=globalThis.document}={}){super();y(this,et);y(this,Nr);y(this,qr);y(this,cn);y(this,Gn);y(this,Pe);y(this,vd);y(this,$r,0);_(this,Gn,e),_(this,Pe,s)}addFilter(e){if(!e)return"none";let s=l(this,et,Re).get(e);if(s)return s;const[i,r,o]=v(this,et,Pu).call(this,e),a=e.length===1?i:`${i}${r}${o}`;if(s=l(this,et,Re).get(a),s)return l(this,et,Re).set(e,s),s;const c=`g_${l(this,Gn)}_transfer_map_${is(this,$r)._++}`,h=v(this,et,ta).call(this,c);l(this,et,Re).set(e,h),l(this,et,Re).set(a,h);const u=v(this,et,ea).call(this,c);return v(this,et,Rc).call(this,i,r,o,u),h}addHCMFilter(e,s){var g;const i=`${e}-${s}`,r="base";let o=l(this,et,Jo).get(r);if((o==null?void 0:o.key)===i||(o?((g=o.filter)==null||g.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},l(this,et,Jo).set(r,o)),!e||!s))return o.url;const a=v(this,et,Dc).call(this,e);e=it.makeHexColor(...a);const c=v(this,et,Dc).call(this,s);if(s=it.makeHexColor(...c),l(this,et,Qo).style.color="",e==="#000000"&&s==="#ffffff"||e===s)return o.url;const h=new Array(256);for(let m=0;m<=255;m++){const A=m/255;h[m]=A<=.03928?A/12.92:((A+.055)/1.055)**2.4}const u=h.join(","),d=`g_${l(this,Gn)}_hcm_filter`,f=o.filter=v(this,et,ea).call(this,d);v(this,et,Rc).call(this,u,u,u,f),v(this,et,kp).call(this,f);const p=(m,A)=>{const b=a[m]/255,w=c[m]/255,C=new Array(A+1);for(let k=0;k<=A;k++)C[k]=b+k/A*(w-b);return C.join(",")};return v(this,et,Rc).call(this,p(0,5),p(1,5),p(2,5),f),o.url=v(this,et,ta).call(this,d),o.url}addAlphaFilter(e){let s=l(this,et,Re).get(e);if(s)return s;const[i]=v(this,et,Pu).call(this,[e]),r=`alpha_${i}`;if(s=l(this,et,Re).get(r),s)return l(this,et,Re).set(e,s),s;const o=`g_${l(this,Gn)}_alpha_map_${is(this,$r)._++}`,a=v(this,et,ta).call(this,o);l(this,et,Re).set(e,a),l(this,et,Re).set(r,a);const c=v(this,et,ea).call(this,o);return v(this,et,Sp).call(this,i,c),a}addLuminosityFilter(e){let s=l(this,et,Re).get(e||"luminosity");if(s)return s;let i,r;if(e?([i]=v(this,et,Pu).call(this,[e]),r=`luminosity_${i}`):r="luminosity",s=l(this,et,Re).get(r),s)return l(this,et,Re).set(e,s),s;const o=`g_${l(this,Gn)}_luminosity_map_${is(this,$r)._++}`,a=v(this,et,ta).call(this,o);l(this,et,Re).set(e,a),l(this,et,Re).set(r,a);const c=v(this,et,ea).call(this,o);return v(this,et,X0).call(this,c),e&&v(this,et,Sp).call(this,i,c),a}addHighlightHCMFilter(e,s,i,r,o){var w;const a=`${s}-${i}-${r}-${o}`;let c=l(this,et,Jo).get(e);if((c==null?void 0:c.key)===a||(c?((w=c.filter)==null||w.remove(),c.key=a,c.url="none",c.filter=null):(c={key:a,url:"none",filter:null},l(this,et,Jo).set(e,c)),!s||!i))return c.url;const[h,u]=[s,i].map(v(this,et,Dc).bind(this));let d=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),f=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[p,g]=[r,o].map(v(this,et,Dc).bind(this));f<d&&([d,f,p,g]=[f,d,g,p]),l(this,et,Qo).style.color="";const m=(C,k,R)=>{const E=new Array(256),L=(f-d)/R,M=C/255,U=(k-C)/(255*R);let N=0;for(let B=0;B<=R;B++){const H=Math.round(d+B*L),nt=M+B*U;for(let I=N;I<=H;I++)E[I]=nt;N=H+1}for(let B=N;B<256;B++)E[B]=E[N-1];return E.join(",")},A=`g_${l(this,Gn)}_hcm_${e}_filter`,b=c.filter=v(this,et,ea).call(this,A);return v(this,et,kp).call(this,b),v(this,et,Rc).call(this,m(p[0],g[0],5),m(p[1],g[1],5),m(p[2],g[2],5),b),c.url=v(this,et,ta).call(this,A),c.url}destroy(e=!1){e&&l(this,et,Jo).size!==0||(l(this,cn)&&(l(this,cn).parentNode.parentNode.remove(),_(this,cn,null)),l(this,qr)&&(l(this,qr).clear(),_(this,qr,null)),_(this,$r,0))}}Nr=new WeakMap,qr=new WeakMap,cn=new WeakMap,Gn=new WeakMap,Pe=new WeakMap,vd=new WeakMap,$r=new WeakMap,et=new WeakSet,Re=function(){return l(this,qr)||_(this,qr,new Map)},Jo=function(){return l(this,vd)||_(this,vd,new Map)},Qo=function(){if(!l(this,cn)){const e=l(this,Pe).createElement("div"),{style:s}=e;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const i=l(this,Pe).createElementNS(Hn,"svg");i.setAttribute("width",0),i.setAttribute("height",0),_(this,cn,l(this,Pe).createElementNS(Hn,"defs")),e.append(i),i.append(l(this,cn)),l(this,Pe).body.append(e)}return l(this,cn)},Pu=function(e){if(e.length===1){const h=e[0],u=new Array(256);for(let f=0;f<256;f++)u[f]=h[f]/255;const d=u.join(",");return[d,d,d]}const[s,i,r]=e,o=new Array(256),a=new Array(256),c=new Array(256);for(let h=0;h<256;h++)o[h]=s[h]/255,a[h]=i[h]/255,c[h]=r[h]/255;return[o.join(","),a.join(","),c.join(",")]},ta=function(e){if(l(this,Nr)===void 0){_(this,Nr,"");const s=l(this,Pe).URL;s!==l(this,Pe).baseURI&&(Af(s)?vt('#createUrl: ignore "data:"-URL for performance reasons.'):_(this,Nr,s.split("#",1)[0]))}return`url(${l(this,Nr)}#${e})`},X0=function(e){const s=l(this,Pe).createElementNS(Hn,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(s)},kp=function(e){const s=l(this,Pe).createElementNS(Hn,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(s)},ea=function(e){const s=l(this,Pe).createElementNS(Hn,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",e),l(this,et,Qo).append(s),s},Tc=function(e,s,i){const r=l(this,Pe).createElementNS(Hn,s);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),e.append(r)},Rc=function(e,s,i,r){const o=l(this,Pe).createElementNS(Hn,"feComponentTransfer");r.append(o),v(this,et,Tc).call(this,o,"feFuncR",e),v(this,et,Tc).call(this,o,"feFuncG",s),v(this,et,Tc).call(this,o,"feFuncB",i)},Sp=function(e,s){const i=l(this,Pe).createElementNS(Hn,"feComponentTransfer");s.append(i),v(this,et,Tc).call(this,i,"feFuncA",e)},Dc=function(e){return l(this,et,Qo).style.color=e,ym(getComputedStyle(l(this,et,Qo)).getPropertyValue("color"))};class kat extends dd{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}={}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const s=this._document.createElement("canvas");return s.width=t,s.height=e,s}}async function yf(n,t="text"){if(Pc(n,document.baseURI)){const e=await fetch(n);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,s)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=t,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(i.response);return}e(i.responseText);return}s(new Error(i.statusText))}},i.send(null)})}class Y0 extends _f{_fetchData(t,e){return yf(t,this.isCompressed?"arraybuffer":"text").then(s=>({cMapData:s instanceof ArrayBuffer?new Uint8Array(s):mf(s),compressionType:e}))}}class Z0 extends vf{_fetchData(t){return yf(t,"arraybuffer").then(e=>new Uint8Array(e))}}class bm extends mm{_createSVG(t){return document.createElementNS(Hn,t)}}class Qh{constructor({viewBox:t,scale:e,rotation:s,offsetX:i=0,offsetY:r=0,dontFlip:o=!1}){this.viewBox=t,this.scale=e,this.rotation=s,this.offsetX=i,this.offsetY=r;const a=(t[2]+t[0])/2,c=(t[3]+t[1])/2;let h,u,d,f;switch(s%=360,s<0&&(s+=360),s){case 180:h=-1,u=0,d=0,f=1;break;case 90:h=0,u=1,d=1,f=0;break;case 270:h=0,u=-1,d=-1,f=0;break;case 0:h=1,u=0,d=0,f=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(d=-d,f=-f);let p,g,m,A;h===0?(p=Math.abs(c-t[1])*e+i,g=Math.abs(a-t[0])*e+r,m=(t[3]-t[1])*e,A=(t[2]-t[0])*e):(p=Math.abs(a-t[0])*e+i,g=Math.abs(c-t[1])*e+r,m=(t[2]-t[0])*e,A=(t[3]-t[1])*e),this.transform=[h*e,u*e,d*e,f*e,p-h*e*a-d*e*c,g-u*e*a-f*e*c],this.width=m,this.height=A}get rawDims(){const{viewBox:t}=this;return Ct(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:s=this.offsetX,offsetY:i=this.offsetY,dontFlip:r=!1}={}){return new Qh({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:s,offsetY:i,dontFlip:r})}convertToViewportPoint(t,e){return it.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=it.applyTransform([t[0],t[1]],this.transform),s=it.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],s[0],s[1]]}convertToPdfPoint(t,e){return it.applyInverseTransform([t,e],this.transform)}}class _m extends Ar{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function Af(n){const t=n.length;let e=0;for(;e<t&&n[e].trim()==="";)e++;return n.substring(e,e+5).toLowerCase()==="data:"}function vm(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function Sat(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function Tat(n,t="document.pdf"){if(typeof n!="string")return t;if(Af(n))return vt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,s=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=e.exec(n);let r=s.exec(i[1])||s.exec(i[2])||s.exec(i[3]);if(r&&(r=r[0],r.includes("%")))try{r=s.exec(decodeURIComponent(r))[0]}catch{}return r||t}class C_{constructor(){mt(this,"started",Object.create(null));mt(this,"times",[])}time(t){t in this.started&&vt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||vt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:s}of this.times)e=Math.max(s.length,e);for(const{name:s,start:i,end:r}of this.times)t.push(`${s.padEnd(e)} ${r-i}ms
`);return t.join("")}}function Pc(n,t){try{const{protocol:e}=t?new URL(n,t):new URL(n);return e==="http:"||e==="https:"}catch{return!1}}function Je(n){n.preventDefault()}let k_;class J0{static toDateObject(t){if(!t||typeof t!="string")return null;k_||(k_=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=k_.exec(t);if(!e)return null;const s=parseInt(e[1],10);let i=parseInt(e[2],10);i=i>=1&&i<=12?i-1:0;let r=parseInt(e[3],10);r=r>=1&&r<=31?r:1;let o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(e[5],10);a=a>=0&&a<=59?a:0;let c=parseInt(e[6],10);c=c>=0&&c<=59?c:0;const h=e[7]||"Z";let u=parseInt(e[8],10);u=u>=0&&u<=23?u:0;let d=parseInt(e[9],10)||0;return d=d>=0&&d<=59?d:0,h==="-"?(o+=u,a+=d):h==="+"&&(o-=u,a-=d),new Date(Date.UTC(s,i,r,o,a,c))}}function Rat(n,{scale:t=1,rotation:e=0}){const{width:s,height:i}=n.attributes.style,r=[0,0,parseInt(s),parseInt(i)];return new Qh({viewBox:r,scale:t,rotation:e})}function ym(n){if(n.startsWith("#")){const t=parseInt(n.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(t=>parseInt(t)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(vt(`Not a valid color format: "${n}"`),[0,0,0])}function Dat(n){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of n.keys()){t.style.color=e;const s=window.getComputedStyle(t).color;n.set(e,ym(s))}t.remove()}function Qt(n){const{a:t,b:e,c:s,d:i,e:r,f:o}=n.getTransform();return[t,e,s,i,r,o]}function $n(n){const{a:t,b:e,c:s,d:i,e:r,f:o}=n.getTransform().invertSelf();return[t,e,s,i,r,o]}function $o(n,t,e=!1,s=!0){if(t instanceof Qh){const{pageWidth:i,pageHeight:r}=t.rawDims,{style:o}=n,a=Ye.isCSSRoundSupported,c=`var(--scale-factor) * ${i}px`,h=`var(--scale-factor) * ${r}px`,u=a?`round(${c}, 1px)`:`calc(${c})`,d=a?`round(${h}, 1px)`:`calc(${h})`;!e||t.rotation%180===0?(o.width=u,o.height=d):(o.width=d,o.height=u)}s&&n.setAttribute("data-main-rotation",t.rotation)}var Br,Hr,as,zr,yd,Q0,je,ty,ey,Lu,sy,Rp;const Ad=class Ad{constructor(t){y(this,je);y(this,Br,null);y(this,Hr,null);y(this,as);y(this,zr,null);_(this,as,t)}render(){const t=_(this,Br,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar");const e=l(this,as)._uiManager._signal;t.addEventListener("contextmenu",Je,{signal:e}),t.addEventListener("pointerdown",v(Ad,yd,Q0),{signal:e});const s=_(this,zr,document.createElement("div"));s.className="buttons",t.append(s);const i=l(this,as).toolbarPosition;if(i){const{style:r}=t,o=l(this,as)._uiManager.direction==="ltr"?1-i[0]:i[0];r.insetInlineEnd=`${100*o}%`,r.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return v(this,je,sy).call(this),t}hide(){var t;l(this,Br).classList.add("hidden"),(t=l(this,Hr))==null||t.hideDropdown()}show(){l(this,Br).classList.remove("hidden")}addAltTextButton(t){v(this,je,Lu).call(this,t),l(this,zr).prepend(t,l(this,je,Rp))}addColorPicker(t){_(this,Hr,t);const e=t.renderButton();v(this,je,Lu).call(this,e),l(this,zr).prepend(e,l(this,je,Rp))}remove(){var t;l(this,Br).remove(),(t=l(this,Hr))==null||t.destroy(),_(this,Hr,null)}};Br=new WeakMap,Hr=new WeakMap,as=new WeakMap,zr=new WeakMap,yd=new WeakSet,Q0=function(t){t.stopPropagation()},je=new WeakSet,ty=function(t){l(this,as)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},ey=function(t){l(this,as)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},Lu=function(t){const e=l(this,as)._uiManager._signal;t.addEventListener("focusin",v(this,je,ty).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",v(this,je,ey).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Je,{signal:e})},sy=function(){const t=document.createElement("button");t.className="delete",t.tabIndex=0,t.setAttribute("data-l10n-id",`pdfjs-editor-remove-${l(this,as).editorType}-button`),v(this,je,Lu).call(this,t),t.addEventListener("click",e=>{l(this,as)._uiManager.delete()},{signal:l(this,as)._uiManager._signal}),l(this,zr).append(t)},Rp=function(){const t=document.createElement("div");return t.className="divider",t},y(Ad,yd);let Tp=Ad;var gl,jr,Vr,br,ny,iy,ry;class Pat{constructor(t){y(this,br);y(this,gl,null);y(this,jr,null);y(this,Vr);_(this,Vr,t)}show(t,e,s){const[i,r]=v(this,br,iy).call(this,e,s),{style:o}=l(this,jr)||_(this,jr,v(this,br,ny).call(this));t.append(l(this,jr)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){l(this,jr).remove()}}gl=new WeakMap,jr=new WeakMap,Vr=new WeakMap,br=new WeakSet,ny=function(){const t=_(this,jr,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Je,{signal:l(this,Vr)._signal});const e=_(this,gl,document.createElement("div"));return e.className="buttons",t.append(e),v(this,br,ry).call(this),t},iy=function(t,e){let s=0,i=0;for(const r of t){const o=r.y+r.height;if(o<s)continue;const a=r.x+(e?r.width:0);if(o>s){i=a,s=o;continue}e?a>i&&(i=a):a<i&&(i=a)}return[e?1-i:i,s]},ry=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=l(this,Vr)._signal;t.addEventListener("contextmenu",Je,{signal:s}),t.addEventListener("click",()=>{l(this,Vr).highlightSelection("floating_button")},{signal:s}),l(this,gl).append(t)};function fd(n,t,e){for(const s of e)t.addEventListener(s,n[s].bind(n))}function Lat(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var wd;class Mat{constructor(){y(this,wd,0)}get id(){return`${uat}${is(this,wd)._++}`}}wd=new WeakMap;var ml,xd,ws,bl,Pp;const Cm=class Cm{constructor(){y(this,bl);y(this,ml,Eat());y(this,xd,0);y(this,ws,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=t;const r=i.decode().then(()=>(s.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return Ct(this,"_isSVGFittingCanvas",r)}async getFromFile(t){const{lastModified:e,name:s,size:i,type:r}=t;return v(this,bl,Pp).call(this,`${e}_${s}_${i}_${r}`,t)}async getFromUrl(t){return v(this,bl,Pp).call(this,t,t)}async getFromId(t){l(this,ws)||_(this,ws,new Map);const e=l(this,ws).get(t);return e?e.bitmap?(e.refCounter+=1,e):e.file?this.getFromFile(e.file):this.getFromUrl(e.url):null}getSvgUrl(t){const e=l(this,ws).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){l(this,ws)||_(this,ws,new Map);const e=l(this,ws).get(t);e&&(e.refCounter-=1,e.refCounter===0&&(e.bitmap=null))}isValidId(t){return t.startsWith(`image_${l(this,ml)}_`)}};ml=new WeakMap,xd=new WeakMap,ws=new WeakMap,bl=new WeakSet,Pp=async function(t,e){l(this,ws)||_(this,ws,new Map);let s=l(this,ws).get(t);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${l(this,ml)}_${is(this,xd)._++}`,refCounter:0,isSvg:!1});let i;if(typeof e=="string"?(s.url=e,i=await yf(e,"blob")):i=s.file=e,i.type==="image/svg+xml"){const r=Cm._isSVGFittingCanvas,o=new FileReader,a=new Image,c=new Promise((h,u)=>{a.onload=()=>{s.bitmap=a,s.isSvg=!0,h()},o.onload=async()=>{const d=s.svgUrl=o.result;a.src=await r?`${d}#svgView(preserveAspectRatio(none))`:d},a.onerror=o.onerror=u});o.readAsDataURL(i),await c}else s.bitmap=await createImageBitmap(i);s.refCounter=1}catch(i){console.error(i),s=null}return l(this,ws).set(t,s),s&&l(this,ws).set(s.id,s),s};let Dp=Cm;var me,zi,_l,be;class Fat{constructor(t=128){y(this,me,[]);y(this,zi,!1);y(this,_l);y(this,be,-1);_(this,_l,t)}add({cmd:t,undo:e,post:s,mustExec:i,type:r=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&t(),l(this,zi))return;const c={cmd:t,undo:e,post:s,type:r};if(l(this,be)===-1){l(this,me).length>0&&(l(this,me).length=0),_(this,be,0),l(this,me).push(c);return}if(o&&l(this,me)[l(this,be)].type===r){a&&(c.undo=l(this,me)[l(this,be)].undo),l(this,me)[l(this,be)]=c;return}const h=l(this,be)+1;h===l(this,_l)?l(this,me).splice(0,1):(_(this,be,h),h<l(this,me).length&&l(this,me).splice(h)),l(this,me).push(c)}undo(){if(l(this,be)===-1)return;_(this,zi,!0);const{undo:t,post:e}=l(this,me)[l(this,be)];t(),e==null||e(),_(this,zi,!1),_(this,be,l(this,be)-1)}redo(){if(l(this,be)<l(this,me).length-1){_(this,be,l(this,be)+1),_(this,zi,!0);const{cmd:t,post:e}=l(this,me)[l(this,be)];t(),e==null||e(),_(this,zi,!1)}}hasSomethingToUndo(){return l(this,be)!==-1}hasSomethingToRedo(){return l(this,be)<l(this,me).length-1}destroy(){_(this,me,null)}}me=new WeakMap,zi=new WeakMap,_l=new WeakMap,be=new WeakMap;var Ed,oy;class tu{constructor(t){y(this,Ed);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=Ye.platform;for(const[s,i,r={}]of t)for(const o of s){const a=o.startsWith("mac+");e&&a?(this.callbacks.set(o.slice(4),{callback:i,options:r}),this.allKeys.add(o.split("+").at(-1))):!e&&!a&&(this.callbacks.set(o,{callback:i,options:r}),this.allKeys.add(o.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const s=this.callbacks.get(v(this,Ed,oy).call(this,e));if(!s)return;const{callback:i,options:{bubbles:r=!1,args:o=[],checker:a=null}}=s;a&&!a(t,e)||(i.bind(t,...o,e)(),r||(e.stopPropagation(),e.preventDefault()))}}Ed=new WeakSet,oy=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const Cd=class Cd{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return Dat(t),Ct(this,"_colors",t)}convert(t){const e=ym(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[s,i]of this._colors)if(i.every((r,o)=>r===e[o]))return Cd._colorsMapping.get(s);return e}getHexCode(t){const e=this._colors.get(t);return e?it.makeHexColor(...e):t}};mt(Cd,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Lp=Cd;var pa,cs,le,Ae,ga,Wn,ma,Hs,ba,Ur,ln,zs,Gr,vl,yl,Al,hn,_a,ji,un,kd,Vi,wl,Wr,xl,va,_e,Ft,Kn,Kr,El,Cl,kl,Sl,Tl,Rl,Dl,Pl,Ll,Ml,Fl,Il,Ol,Ui,dn,Xn,Nl,X,Mu,Mp,ay,cy,Fu,ly,hy,uy,Fp,dy,Ip,Op,fy,$e,Li,py,gy,Np,my,Lc,qp;const ra=class ra{constructor(t,e,s,i,r,o,a,c,h,u){y(this,X);y(this,pa,new AbortController);y(this,cs,null);y(this,le,new Map);y(this,Ae,new Map);y(this,ga,null);y(this,Wn,null);y(this,ma,null);y(this,Hs,new Fat);y(this,ba,0);y(this,Ur,new Set);y(this,ln,null);y(this,zs,null);y(this,Gr,new Set);y(this,vl,!1);y(this,yl,!1);y(this,Al,null);y(this,hn,null);y(this,_a,null);y(this,ji,!1);y(this,un,null);y(this,kd,new Mat);y(this,Vi,!1);y(this,wl,!1);y(this,Wr,null);y(this,xl,null);y(this,va,null);y(this,_e,Et.NONE);y(this,Ft,new Set);y(this,Kn,null);y(this,Kr,null);y(this,El,null);y(this,Cl,this.blur.bind(this));y(this,kl,this.focus.bind(this));y(this,Sl,this.copy.bind(this));y(this,Tl,this.cut.bind(this));y(this,Rl,this.paste.bind(this));y(this,Dl,this.keydown.bind(this));y(this,Pl,this.keyup.bind(this));y(this,Ll,this.onEditingAction.bind(this));y(this,Ml,this.onPageChanging.bind(this));y(this,Fl,this.onScaleChanging.bind(this));y(this,Il,this.onRotationChanging.bind(this));y(this,Ol,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});y(this,Ui,[0,0]);y(this,dn,null);y(this,Xn,null);y(this,Nl,null);this._signal=l(this,pa).signal,_(this,Xn,t),_(this,Nl,e),_(this,ga,s),this._eventBus=i,this._eventBus._on("editingaction",l(this,Ll)),this._eventBus._on("pagechanging",l(this,Ml)),this._eventBus._on("scalechanging",l(this,Fl)),this._eventBus._on("rotationchanging",l(this,Il)),v(this,X,ly).call(this),v(this,X,fy).call(this),v(this,X,Fp).call(this),_(this,Wn,r.annotationStorage),_(this,Al,r.filterFactory),_(this,Kr,o),_(this,_a,a||null),_(this,vl,c),_(this,yl,h),_(this,va,u||null),this.viewParameters={realScale:mr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=ra.prototype,e=o=>l(o,Xn).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),s=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:c}=a;return c!=="text"&&c!=="number"}return!0},i=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return Ct(this,"_keyboardManager",new tu([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],t.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:s}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&l(o,Xn).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&l(o,Xn).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-i,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[i,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-i],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,i],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:e}]]))}destroy(){var t,e,s;(t=l(this,pa))==null||t.abort(),_(this,pa,null),this._signal=null,this._eventBus._off("editingaction",l(this,Ll)),this._eventBus._off("pagechanging",l(this,Ml)),this._eventBus._off("scalechanging",l(this,Fl)),this._eventBus._off("rotationchanging",l(this,Il));for(const i of l(this,Ae).values())i.destroy();l(this,Ae).clear(),l(this,le).clear(),l(this,Gr).clear(),_(this,cs,null),l(this,Ft).clear(),l(this,Hs).destroy(),(e=l(this,ga))==null||e.destroy(),(s=l(this,un))==null||s.hide(),_(this,un,null),l(this,hn)&&(clearTimeout(l(this,hn)),_(this,hn,null)),l(this,dn)&&(clearTimeout(l(this,dn)),_(this,dn,null))}async mlGuess(t){var e;return((e=l(this,va))==null?void 0:e.guess(t))||null}async isMLEnabledFor(t){var e;return!!await((e=l(this,va))==null?void 0:e.isEnabledFor(t))}get useNewAltTextFlow(){return l(this,yl)}get hcmFilter(){return Ct(this,"hcmFilter",l(this,Kr)?l(this,Al).addHCMFilter(l(this,Kr).foreground,l(this,Kr).background):"none")}get direction(){return Ct(this,"direction",getComputedStyle(l(this,Xn)).direction)}get highlightColors(){return Ct(this,"highlightColors",l(this,_a)?new Map(l(this,_a).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Ct(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){_(this,xl,t)}editAltText(t){var e;(e=l(this,ga))==null||e.editAltText(this,t)}switchToMode(t,e){this._eventBus.on("annotationeditormodechanged",e,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,e){this._eventBus.dispatch("setpreference",{source:this,name:t,value:e})}onPageChanging({pageNumber:t}){_(this,ba,t-1)}focusMainContainer(){l(this,Xn).focus()}findParent(t,e){for(const s of l(this,Ae).values()){const{x:i,y:r,width:o,height:a}=s.div.getBoundingClientRect();if(t>=i&&t<=i+o&&e>=r&&e<=r+a)return s}return null}disableUserSelect(t=!1){l(this,Nl).classList.toggle("noUserSelect",t)}addShouldRescale(t){l(this,Gr).add(t)}removeShouldRescale(t){l(this,Gr).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*mr.PDF_TO_CSS_UNITS;for(const e of l(this,Gr))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:s,anchorOffset:i,focusNode:r,focusOffset:o}=e,a=e.toString(),h=v(this,X,Mu).call(this,e).closest(".textLayer"),u=this.getSelectionBoxes(h);if(!u)return;e.empty();const d=v(this,X,Mp).call(this,h),f=l(this,_e)===Et.NONE,p=()=>{d==null||d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:u,anchorNode:s,anchorOffset:i,focusNode:r,focusOffset:o,text:a}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(Et.HIGHLIGHT,p);return}p()}addToAnnotationStorage(t){!t.isEmpty()&&l(this,Wn)&&!l(this,Wn).has(t.id)&&l(this,Wn).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,l(this,ji)&&(_(this,ji,!1),v(this,X,Fu).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of l(this,Ft))if(e.div.contains(t)){_(this,Wr,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!l(this,Wr))return;const[t,e]=l(this,Wr);_(this,Wr,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){v(this,X,Fp).call(this),v(this,X,Ip).call(this)}removeEditListeners(){v(this,X,dy).call(this),v(this,X,Op).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const s of l(this,zs))if(s.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const s of l(this,zs))if(s.isHandlingMimeForPasting(e.type)){s.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var s;if(t.preventDefault(),(s=l(this,cs))==null||s.commitOrRemove(),!this.hasSelection)return;const e=[];for(const i of l(this,Ft)){const r=i.serialize(!0);r&&e.push(r)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}paste(t){t.preventDefault();const{clipboardData:e}=t;for(const r of e.items)for(const o of l(this,zs))if(o.isHandlingMimeForPasting(r.type)){o.paste(r,this.currentLayer);return}let s=e.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(r){vt(`paste: "${r.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const i=this.currentLayer;try{const r=[];for(const c of s){const h=i.deserialize(c);if(!h)return;r.push(h)}const o=()=>{for(const c of r)v(this,X,Np).call(this,c);v(this,X,qp).call(this,r)},a=()=>{for(const c of r)c.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(r){vt(`paste: "${r.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),l(this,_e)!==Et.NONE&&!this.isEditorHandlingKeyboard&&ra._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,l(this,ji)&&(_(this,ji,!1),v(this,X,Fu).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(v(this,X,hy).call(this),v(this,X,Ip).call(this),v(this,X,$e).call(this,{isEditing:l(this,_e)!==Et.NONE,isEmpty:v(this,X,Lc).call(this),hasSomethingToUndo:l(this,Hs).hasSomethingToUndo(),hasSomethingToRedo:l(this,Hs).hasSomethingToRedo(),hasSelectedEditor:!1})):(v(this,X,uy).call(this),v(this,X,Op).call(this),v(this,X,$e).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!l(this,zs)){_(this,zs,t);for(const e of l(this,zs))v(this,X,Li).call(this,e.defaultPropertiesToUpdate)}}getId(){return l(this,kd).id}get currentLayer(){return l(this,Ae).get(l(this,ba))}getLayer(t){return l(this,Ae).get(t)}get currentPageIndex(){return l(this,ba)}addLayer(t){l(this,Ae).set(t.pageIndex,t),l(this,Vi)?t.enable():t.disable()}removeLayer(t){l(this,Ae).delete(t.pageIndex)}updateMode(t,e=null,s=!1){if(l(this,_e)!==t){if(_(this,_e,t),t===Et.NONE){this.setEditingState(!1),v(this,X,gy).call(this);return}this.setEditingState(!0),v(this,X,py).call(this),this.unselectAll();for(const i of l(this,Ae).values())i.updateMode(t);if(!e&&s){this.addNewEditorFromKeyboard();return}if(e){for(const i of l(this,le).values())if(i.annotationElementId===e){this.setSelected(i),i.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==l(this,_e)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var s;if(l(this,zs)){switch(t){case ut.CREATE:this.currentLayer.addNewEditor();return;case ut.HIGHLIGHT_DEFAULT_COLOR:(s=l(this,xl))==null||s.updateColor(e);break;case ut.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(l(this,El)||_(this,El,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const i of l(this,Ft))i.updateParams(t,e);for(const i of l(this,zs))i.updateDefaultParams(t,e)}}showAllEditors(t,e,s=!1){var r;for(const o of l(this,le).values())o.editorType===t&&o.show(e);(((r=l(this,El))==null?void 0:r.get(ut.HIGHLIGHT_SHOW_ALL))??!0)!==e&&v(this,X,Li).call(this,[[ut.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(l(this,wl)!==t){_(this,wl,t);for(const e of l(this,Ae).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const s of l(this,le).values())s.pageIndex===t&&e.push(s);return e}getEditor(t){return l(this,le).get(t)}addEditor(t){l(this,le).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(l(this,hn)&&clearTimeout(l(this,hn)),_(this,hn,setTimeout(()=>{this.focusMainContainer(),_(this,hn,null)},0))),l(this,le).delete(t.id),this.unselect(t),(!t.annotationElementId||!l(this,Ur).has(t.annotationElementId))&&((e=l(this,Wn))==null||e.remove(t.id))}addDeletedAnnotationElement(t){l(this,Ur).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return l(this,Ur).has(t)}removeDeletedAnnotationElement(t){l(this,Ur).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){l(this,cs)!==t&&(_(this,cs,t),t&&v(this,X,Li).call(this,t.propertiesToUpdate))}updateUI(t){l(this,X,my)===t&&v(this,X,Li).call(this,t.propertiesToUpdate)}toggleSelected(t){if(l(this,Ft).has(t)){l(this,Ft).delete(t),t.unselect(),v(this,X,$e).call(this,{hasSelectedEditor:this.hasSelection});return}l(this,Ft).add(t),t.select(),v(this,X,Li).call(this,t.propertiesToUpdate),v(this,X,$e).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of l(this,Ft))e!==t&&e.unselect();l(this,Ft).clear(),l(this,Ft).add(t),t.select(),v(this,X,Li).call(this,t.propertiesToUpdate),v(this,X,$e).call(this,{hasSelectedEditor:!0})}isSelected(t){return l(this,Ft).has(t)}get firstSelectedEditor(){return l(this,Ft).values().next().value}unselect(t){t.unselect(),l(this,Ft).delete(t),v(this,X,$e).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return l(this,Ft).size!==0}get isEnterHandled(){return l(this,Ft).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){l(this,Hs).undo(),v(this,X,$e).call(this,{hasSomethingToUndo:l(this,Hs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:v(this,X,Lc).call(this)})}redo(){l(this,Hs).redo(),v(this,X,$e).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:l(this,Hs).hasSomethingToRedo(),isEmpty:v(this,X,Lc).call(this)})}addCommands(t){l(this,Hs).add(t),v(this,X,$e).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:v(this,X,Lc).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...l(this,Ft)],e=()=>{for(const i of t)i.remove()},s=()=>{for(const i of t)v(this,X,Np).call(this,i)};this.addCommands({cmd:e,undo:s,mustExec:!0})}commitOrRemove(){var t;(t=l(this,cs))==null||t.commitOrRemove()}hasSomethingToControl(){return l(this,cs)||this.hasSelection}selectAll(){for(const t of l(this,Ft))t.commit();v(this,X,qp).call(this,l(this,le).values())}unselectAll(){if(!(l(this,cs)&&(l(this,cs).commitOrRemove(),l(this,_e)!==Et.NONE))&&this.hasSelection){for(const t of l(this,Ft))t.unselect();l(this,Ft).clear(),v(this,X,$e).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;l(this,Ui)[0]+=t,l(this,Ui)[1]+=e;const[i,r]=l(this,Ui),o=[...l(this,Ft)],a=1e3;l(this,dn)&&clearTimeout(l(this,dn)),_(this,dn,setTimeout(()=>{_(this,dn,null),l(this,Ui)[0]=l(this,Ui)[1]=0,this.addCommands({cmd:()=>{for(const c of o)l(this,le).has(c.id)&&c.translateInPage(i,r)},undo:()=>{for(const c of o)l(this,le).has(c.id)&&c.translateInPage(-i,-r)},mustExec:!1})},a));for(const c of o)c.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),_(this,ln,new Map);for(const t of l(this,Ft))l(this,ln).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!l(this,ln))return!1;this.disableUserSelect(!1);const t=l(this,ln);_(this,ln,null);let e=!1;for(const[{x:i,y:r,pageIndex:o},a]of t)a.newX=i,a.newY=r,a.newPageIndex=o,e||(e=i!==a.savedX||r!==a.savedY||o!==a.savedPageIndex);if(!e)return!1;const s=(i,r,o,a)=>{if(l(this,le).has(i.id)){const c=l(this,Ae).get(a);c?i._setParentAndPosition(c,r,o):(i.pageIndex=a,i.x=r,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:r,newY:o,newPageIndex:a}]of t)s(i,r,o,a)},undo:()=>{for(const[i,{savedX:r,savedY:o,savedPageIndex:a}]of t)s(i,r,o,a)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(l(this,ln))for(const s of l(this,ln).keys())s.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||l(this,Ft).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return l(this,cs)===t}getActive(){return l(this,cs)}getMode(){return l(this,_e)}get imageManager(){return Ct(this,"imageManager",new Dp)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let h=0,u=e.rangeCount;h<u;h++)if(!t.contains(e.getRangeAt(h).commonAncestorContainer))return null;const{x:s,y:i,width:r,height:o}=t.getBoundingClientRect();let a;switch(t.getAttribute("data-main-rotation")){case"90":a=(h,u,d,f)=>({x:(u-i)/o,y:1-(h+d-s)/r,width:f/o,height:d/r});break;case"180":a=(h,u,d,f)=>({x:1-(h+d-s)/r,y:1-(u+f-i)/o,width:d/r,height:f/o});break;case"270":a=(h,u,d,f)=>({x:1-(u+f-i)/o,y:(h-s)/r,width:f/o,height:d/r});break;default:a=(h,u,d,f)=>({x:(h-s)/r,y:(u-i)/o,width:d/r,height:f/o});break}const c=[];for(let h=0,u=e.rangeCount;h<u;h++){const d=e.getRangeAt(h);if(!d.collapsed)for(const{x:f,y:p,width:g,height:m}of d.getClientRects())g===0||m===0||c.push(a(f,p,g,m))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:t,id:e}){(l(this,ma)||_(this,ma,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=l(this,ma))==null||e.delete(t)}renderAnnotationElement(t){var i;const e=(i=l(this,ma))==null?void 0:i.get(t.data.id);if(!e)return;const s=l(this,Wn).getRawValue(e);s&&(l(this,_e)===Et.NONE&&!s.hasBeenModified||s.renderAnnotationElement(t))}};pa=new WeakMap,cs=new WeakMap,le=new WeakMap,Ae=new WeakMap,ga=new WeakMap,Wn=new WeakMap,ma=new WeakMap,Hs=new WeakMap,ba=new WeakMap,Ur=new WeakMap,ln=new WeakMap,zs=new WeakMap,Gr=new WeakMap,vl=new WeakMap,yl=new WeakMap,Al=new WeakMap,hn=new WeakMap,_a=new WeakMap,ji=new WeakMap,un=new WeakMap,kd=new WeakMap,Vi=new WeakMap,wl=new WeakMap,Wr=new WeakMap,xl=new WeakMap,va=new WeakMap,_e=new WeakMap,Ft=new WeakMap,Kn=new WeakMap,Kr=new WeakMap,El=new WeakMap,Cl=new WeakMap,kl=new WeakMap,Sl=new WeakMap,Tl=new WeakMap,Rl=new WeakMap,Dl=new WeakMap,Pl=new WeakMap,Ll=new WeakMap,Ml=new WeakMap,Fl=new WeakMap,Il=new WeakMap,Ol=new WeakMap,Ui=new WeakMap,dn=new WeakMap,Xn=new WeakMap,Nl=new WeakMap,X=new WeakSet,Mu=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},Mp=function(t){const{currentLayer:e}=this;if(e.hasTextLayer(t))return e;for(const s of l(this,Ae).values())if(s.hasTextLayer(t))return s;return null},ay=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const s=v(this,X,Mu).call(this,t).closest(".textLayer"),i=this.getSelectionBoxes(s);i&&(l(this,un)||_(this,un,new Pat(this)),l(this,un).show(s,i,this.direction==="ltr"))},cy=function(){var r,o,a;const t=document.getSelection();if(!t||t.isCollapsed){l(this,Kn)&&((r=l(this,un))==null||r.hide(),_(this,Kn,null),v(this,X,$e).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===l(this,Kn))return;const i=v(this,X,Mu).call(this,t).closest(".textLayer");if(!i){l(this,Kn)&&((o=l(this,un))==null||o.hide(),_(this,Kn,null),v(this,X,$e).call(this,{hasSelectedText:!1}));return}if((a=l(this,un))==null||a.hide(),_(this,Kn,e),v(this,X,$e).call(this,{hasSelectedText:!0}),!(l(this,_e)!==Et.HIGHLIGHT&&l(this,_e)!==Et.NONE)&&(l(this,_e)===Et.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),_(this,ji,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=l(this,_e)===Et.HIGHLIGHT?v(this,X,Mp).call(this,i):null;c==null||c.toggleDrawing();const h=this._signal,u=d=>{d.type==="pointerup"&&d.button!==0||(c==null||c.toggleDrawing(!0),window.removeEventListener("pointerup",u),window.removeEventListener("blur",u),d.type==="pointerup"&&v(this,X,Fu).call(this,"main_toolbar"))};window.addEventListener("pointerup",u,{signal:h}),window.addEventListener("blur",u,{signal:h})}},Fu=function(t=""){l(this,_e)===Et.HIGHLIGHT?this.highlightSelection(t):l(this,vl)&&v(this,X,ay).call(this)},ly=function(){document.addEventListener("selectionchange",v(this,X,cy).bind(this),{signal:this._signal})},hy=function(){const t=this._signal;window.addEventListener("focus",l(this,kl),{signal:t}),window.addEventListener("blur",l(this,Cl),{signal:t})},uy=function(){window.removeEventListener("focus",l(this,kl)),window.removeEventListener("blur",l(this,Cl))},Fp=function(){const t=this._signal;window.addEventListener("keydown",l(this,Dl),{signal:t}),window.addEventListener("keyup",l(this,Pl),{signal:t})},dy=function(){window.removeEventListener("keydown",l(this,Dl)),window.removeEventListener("keyup",l(this,Pl))},Ip=function(){const t=this._signal;document.addEventListener("copy",l(this,Sl),{signal:t}),document.addEventListener("cut",l(this,Tl),{signal:t}),document.addEventListener("paste",l(this,Rl),{signal:t})},Op=function(){document.removeEventListener("copy",l(this,Sl)),document.removeEventListener("cut",l(this,Tl)),document.removeEventListener("paste",l(this,Rl))},fy=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},$e=function(t){Object.entries(t).some(([s,i])=>l(this,Ol)[s]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(l(this,Ol),t)}),l(this,_e)===Et.HIGHLIGHT&&t.hasSelectedEditor===!1&&v(this,X,Li).call(this,[[ut.HIGHLIGHT_FREE,!0]]))},Li=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},py=function(){if(!l(this,Vi)){_(this,Vi,!0);for(const t of l(this,Ae).values())t.enable();for(const t of l(this,le).values())t.enable()}},gy=function(){if(this.unselectAll(),l(this,Vi)){_(this,Vi,!1);for(const t of l(this,Ae).values())t.disable();for(const t of l(this,le).values())t.disable()}},Np=function(t){const e=l(this,Ae).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},my=function(){let t=null;for(t of l(this,Ft));return t},Lc=function(){if(l(this,le).size===0)return!0;if(l(this,le).size===1)for(const t of l(this,le).values())return t.isEmpty();return!1},qp=function(t){for(const e of l(this,Ft))e.unselect();l(this,Ft).clear();for(const e of t)e.isEmpty()||(l(this,Ft).add(e),e.select());v(this,X,$e).call(this,{hasSelectedEditor:this.hasSelection})},mt(ra,"TRANSLATE_SMALL",1),mt(ra,"TRANSLATE_BIG",10);let Bo=ra;var Yn,Zn,js,Jn,ls,ya,Vs,ql,$p;const zn=class zn{constructor(t){y(this,ql);y(this,Yn,"");y(this,Zn,!1);y(this,js,null);y(this,Jn,null);y(this,ls,null);y(this,ya,!1);y(this,Vs,null);_(this,Vs,t)}static initialize(t){zn._l10nPromise||(zn._l10nPromise=t)}async render(){const t=_(this,js,document.createElement("button"));t.className="altText";const e=await zn._l10nPromise.get("pdfjs-editor-alt-text-button-label");t.textContent=e,t.setAttribute("aria-label",e),t.tabIndex="0";const s=l(this,Vs)._uiManager._signal;t.addEventListener("contextmenu",Je,{signal:s}),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:s});const i=r=>{r.preventDefault(),l(this,Vs)._uiManager.editAltText(l(this,Vs))};return t.addEventListener("click",i,{capture:!0,signal:s}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(_(this,ya,!0),i(r))},{signal:s}),await v(this,ql,$p).call(this),t}finish(){l(this,js)&&(l(this,js).focus({focusVisible:l(this,ya)}),_(this,ya,!1))}isEmpty(){return!l(this,Yn)&&!l(this,Zn)}get data(){return{altText:l(this,Yn),decorative:l(this,Zn)}}set data({altText:t,decorative:e}){l(this,Yn)===t&&l(this,Zn)===e||(_(this,Yn,t),_(this,Zn,e),v(this,ql,$p).call(this))}toggle(t=!1){l(this,js)&&(!t&&l(this,ls)&&(clearTimeout(l(this,ls)),_(this,ls,null)),l(this,js).disabled=!t)}destroy(){var t;(t=l(this,js))==null||t.remove(),_(this,js,null),_(this,Jn,null)}};Yn=new WeakMap,Zn=new WeakMap,js=new WeakMap,Jn=new WeakMap,ls=new WeakMap,ya=new WeakMap,Vs=new WeakMap,ql=new WeakSet,$p=async function(){var i;const t=l(this,js);if(!t)return;if(!l(this,Yn)&&!l(this,Zn)){t.classList.remove("done"),(i=l(this,Jn))==null||i.remove();return}t.classList.add("done"),zn._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(r=>{t.setAttribute("aria-label",r)});let e=l(this,Jn);if(!e){_(this,Jn,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip");const r=e.id=`alt-text-tooltip-${l(this,Vs).id}`;t.setAttribute("aria-describedby",r);const o=100,a=l(this,Vs)._uiManager._signal;a.addEventListener("abort",()=>{clearTimeout(l(this,ls)),_(this,ls,null)},{once:!0}),t.addEventListener("mouseenter",()=>{_(this,ls,setTimeout(()=>{_(this,ls,null),l(this,Jn).classList.add("show"),l(this,Vs)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:a}),t.addEventListener("mouseleave",()=>{var c;l(this,ls)&&(clearTimeout(l(this,ls)),_(this,ls,null)),(c=l(this,Jn))==null||c.classList.remove("show")},{signal:a})}e.innerText=l(this,Zn)?await zn._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):l(this,Yn),e.parentNode||t.append(e);const s=l(this,Vs).getImageForAltText();s==null||s.setAttribute("aria-describedby",e.id)},mt(zn,"_l10nPromise",null);let pd=zn;var Xr,Us,Le,Aa,Yr,we,Zr,wa,xa,Me,$l,Jr,Gi,Bl,Qr,Qn,fn,Ea,Ca,xs,Hl,Sd,yt,Bp,zl,Hp,zp,by,_y,jp,Vp,Up,vy,yy,Ay,wy,Gp,Mc;const Ht=class Ht{constructor(t){y(this,yt);y(this,Xr,null);y(this,Us,null);y(this,Le,null);y(this,Aa,!1);y(this,Yr,!1);y(this,we,null);y(this,Zr,null);y(this,wa,this.focusin.bind(this));y(this,xa,this.focusout.bind(this));y(this,Me,null);y(this,$l,"");y(this,Jr,!1);y(this,Gi,null);y(this,Bl,!1);y(this,Qr,!1);y(this,Qn,!1);y(this,fn,null);y(this,Ea,0);y(this,Ca,0);y(this,xs,null);mt(this,"_initialOptions",Object.create(null));mt(this,"_isVisible",!0);mt(this,"_uiManager",null);mt(this,"_focusEventsAllowed",!0);mt(this,"_l10nPromise",null);y(this,Hl,!1);y(this,Sd,Ht._zIndex++);this.constructor===Ht&&$t("Cannot initialize AnnotationEditor."),this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:s,pageHeight:i,pageX:r,pageY:o}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,i],this.pageTranslation=[r,o];const[a,c]=this.parentDimensions;this.x=t.x/a,this.y=t.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=Ht.prototype._resizeWithKeyboard,e=Bo.TRANSLATE_SMALL,s=Bo.TRANSLATE_BIG;return Ct(this,"_resizerKeyboardManager",new tu([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,s]}],[["Escape","mac+Escape"],Ht.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ct(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new Iat({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e,s){if(Ht._l10nPromise||(Ht._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(r=>[r,t.get(r.replaceAll(/([A-Z])/g,o=>`-${o.toLowerCase()}`))]))),s!=null&&s.strings)for(const r of s.strings)Ht._l10nPromise.set(r,t.get(r));if(Ht._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);Ht._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){$t("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return l(this,Hl)}set _isDraggable(t){var e;_(this,Hl,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=l(this,Sd)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):v(this,yt,Mc).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(l(this,Jr)?_(this,Jr,!1):this.parent.setSelected(this))}focusout(t){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,s,i){const[r,o]=this.parentDimensions;[s,i]=this.screenToPageTranslation(s,i),this.x=(t+s)/r,this.y=(e+i)/o,this.fixAndSetPosition()}translate(t,e){v(this,yt,Bp).call(this,this.parentDimensions,t,e)}translateInPage(t,e){l(this,Gi)||_(this,Gi,[this.x,this.y]),v(this,yt,Bp).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){l(this,Gi)||_(this,Gi,[this.x,this.y]);const[s,i]=this.parentDimensions;if(this.x+=t/s,this.y+=e/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:u}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,u)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:r,y:o}=this;const[a,c]=this.getBaseTranslation();r+=a,o+=c,this.div.style.left=`${(100*r).toFixed(2)}%`,this.div.style.top=`${(100*o).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!l(this,Gi)&&(l(this,Gi)[0]!==this.x||l(this,Gi)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:s}=Ht,i=s/t,r=s/e;switch(this.rotation){case 90:return[-i,r];case 180:return[i,r];case 270:return[i,-r];default:return[-i,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,s]=this.pageDimensions;let{x:i,y:r,width:o,height:a}=this;if(o*=e,a*=s,i*=e,r*=s,this._mustFixPosition)switch(t){case 0:i=Math.max(0,Math.min(e-o,i)),r=Math.max(0,Math.min(s-a,r));break;case 90:i=Math.max(0,Math.min(e-a,i)),r=Math.min(s,Math.max(o,r));break;case 180:i=Math.min(e,Math.max(o,i)),r=Math.min(s,Math.max(a,r));break;case 270:i=Math.min(e,Math.max(a,i)),r=Math.max(0,Math.min(s-o,r));break}this.x=i/=e,this.y=r/=s;const[c,h]=this.getBaseTranslation();i+=c,r+=h;const{style:u}=this.div;u.left=`${(100*i).toFixed(2)}%`,u.top=`${(100*r).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var s;return v(s=Ht,zl,Hp).call(s,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var s;return v(s=Ht,zl,Hp).call(s,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,s]}=this,i=e*t,r=s*t;return Ye.isCSSRoundSupported?[Math.round(i),Math.round(r)]:[i,r]}setDims(t,e){const[s,i]=this.parentDimensions;this.div.style.width=`${(100*t/s).toFixed(2)}%`,l(this,Yr)||(this.div.style.height=`${(100*e/i).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:s}=t,i=s.endsWith("%"),r=!l(this,Yr)&&e.endsWith("%");if(i&&r)return;const[o,a]=this.parentDimensions;i||(t.width=`${(100*parseFloat(s)/o).toFixed(2)}%`),!l(this,Yr)&&!r&&(t.height=`${(100*parseFloat(e)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=l(this,Le))==null||t.finish()}async addEditToolbar(){return l(this,Me)||l(this,Qr)?l(this,Me):(_(this,Me,new Tp(this)),this.div.append(l(this,Me).render()),l(this,Le)&&l(this,Me).addAltTextButton(await l(this,Le).render()),l(this,Me))}removeEditToolbar(){var t;l(this,Me)&&(l(this,Me).remove(),_(this,Me,null),(t=l(this,Le))==null||t.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){l(this,Le)||(pd.initialize(Ht._l10nPromise),_(this,Le,new pd(this)),l(this,Xr)&&(l(this,Le).data=l(this,Xr),_(this,Xr,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=l(this,Le))==null?void 0:t.data}set altTextData(t){l(this,Le)&&(l(this,Le).data=t)}hasAltText(){var t;return!((t=l(this,Le))!=null&&t.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=l(this,Aa)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const t=this._uiManager._signal;this.div.addEventListener("focusin",l(this,wa),{signal:t}),this.div.addEventListener("focusout",l(this,xa),{signal:t});const[e,s]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*s/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/s).toFixed(2)}%`);const[i,r]=this.getInitialTranslation();return this.translate(i,r),fd(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=Ye.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(_(this,Jr,!0),this._isDraggable){v(this,yt,vy).call(this,t);return}v(this,yt,Up).call(this,t)}moveInDOM(){l(this,fn)&&clearTimeout(l(this,fn)),_(this,fn,setTimeout(()=>{var t;_(this,fn,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,s){t.changeParent(this),this.x=e,this.y=s,this.fixAndSetPosition()}getRect(t,e,s=this.rotation){const i=this.parentScale,[r,o]=this.pageDimensions,[a,c]=this.pageTranslation,h=t/i,u=e/i,d=this.x*r,f=this.y*o,p=this.width*r,g=this.height*o;switch(s){case 0:return[d+h+a,o-f-u-g+c,d+h+p+a,o-f-u+c];case 90:return[d+u+a,o-f+h+c,d+u+g+a,o-f+h+p+c];case 180:return[d-h-p+a,o-f+u+c,d-h+a,o-f+u+g+c];case 270:return[d-u-g+a,o-f-h-p+c,d-u+a,o-f-h+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[s,i,r,o]=t,a=r-s,c=o-i;switch(this.rotation){case 0:return[s,e-o,a,c];case 90:return[s,e-i,c,a];case 180:return[r,e-i,a,c];case 270:return[r,e-o,c,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){_(this,Qr,!0)}disableEditMode(){_(this,Qr,!1)}isInEditMode(){return l(this,Qr)}shouldGetKeyboardEvents(){return l(this,Qn)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var e,s;const t=this._uiManager._signal;(e=this.div)==null||e.addEventListener("focusin",l(this,wa),{signal:t}),(s=this.div)==null||s.addEventListener("focusout",l(this,xa),{signal:t})}rotate(t){}serialize(t=!1,e=null){$t("An editor must be serializable")}static deserialize(t,e,s){const i=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:s});i.rotation=t.rotation,_(i,Xr,t.accessibilityData);const[r,o]=i.pageDimensions,[a,c,h,u]=i.getRectInCurrentCoords(t.rect,o);return i.x=a/r,i.y=c/o,i.width=h/r,i.height=u/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",l(this,wa)),this.div.removeEventListener("focusout",l(this,xa)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),l(this,fn)&&(clearTimeout(l(this,fn)),_(this,fn,null)),v(this,yt,Mc).call(this),this.removeEditToolbar(),l(this,xs)){for(const t of l(this,xs).values())clearTimeout(t);_(this,xs,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(v(this,yt,by).call(this),l(this,we).classList.remove("hidden"),fd(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),_(this,Zr,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=l(this,we).children;if(!l(this,Us)){_(this,Us,Array.from(e));const o=v(this,yt,yy).bind(this),a=v(this,yt,Ay).bind(this),c=this._uiManager._signal;for(const h of l(this,Us)){const u=h.getAttribute("data-resizer-name");h.setAttribute("role","spinbutton"),h.addEventListener("keydown",o,{signal:c}),h.addEventListener("blur",a,{signal:c}),h.addEventListener("focus",v(this,yt,wy).bind(this,u),{signal:c}),Ht._l10nPromise.get(`pdfjs-editor-resizer-label-${u}`).then(d=>h.setAttribute("aria-label",d))}}const s=l(this,Us)[0];let i=0;for(const o of e){if(o===s)break;i++}const r=(360-this.rotation+this.parentRotation)%360/90*(l(this,Us).length/4);if(r!==i){if(r<i)for(let a=0;a<i-r;a++)l(this,we).append(l(this,we).firstChild);else if(r>i)for(let a=0;a<r-i;a++)l(this,we).firstChild.before(l(this,we).lastChild);let o=0;for(const a of e){const h=l(this,Us)[o++].getAttribute("data-resizer-name");Ht._l10nPromise.get(`pdfjs-editor-resizer-label-${h}`).then(u=>a.setAttribute("aria-label",u))}}v(this,yt,Gp).call(this,0),_(this,Qn,!0),l(this,we).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){l(this,Qn)&&v(this,yt,Vp).call(this,l(this,$l),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){v(this,yt,Mc).call(this),this.div.focus()}select(){var t,e;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!l(this,Me)){this.addEditToolbar().then(()=>{var s,i;(s=this.div)!=null&&s.classList.contains("selectedEditor")&&((i=l(this,Me))==null||i.show())});return}(e=l(this,Me))==null||e.show()}unselect(){var t,e,s,i;(t=l(this,we))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=l(this,Me))==null||i.hide()}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return l(this,Bl)}set isEditing(t){_(this,Bl,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){_(this,Yr,!0);const s=t/e,{style:i}=this.div;i.aspectRatio=s,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){l(this,xs)||_(this,xs,new Map);const{action:s}=t;let i=l(this,xs).get(s);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(t),l(this,xs).delete(s),l(this,xs).size===0&&_(this,xs,null)},Ht._telemetryTimeout),l(this,xs).set(s,i);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),_(this,Aa,!1)}disable(){this.div&&(this.div.tabIndex=-1),_(this,Aa,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const s=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),s.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};Xr=new WeakMap,Us=new WeakMap,Le=new WeakMap,Aa=new WeakMap,Yr=new WeakMap,we=new WeakMap,Zr=new WeakMap,wa=new WeakMap,xa=new WeakMap,Me=new WeakMap,$l=new WeakMap,Jr=new WeakMap,Gi=new WeakMap,Bl=new WeakMap,Qr=new WeakMap,Qn=new WeakMap,fn=new WeakMap,Ea=new WeakMap,Ca=new WeakMap,xs=new WeakMap,Hl=new WeakMap,Sd=new WeakMap,yt=new WeakSet,Bp=function([t,e],s,i){[s,i]=this.screenToPageTranslation(s,i),this.x+=s/t,this.y+=i/e,this.fixAndSetPosition()},zl=new WeakSet,Hp=function(t,e,s){switch(s){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},zp=function(t){switch(t){case 90:{const[e,s]=this.pageDimensions;return[0,-e/s,s/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,s]=this.pageDimensions;return[0,e/s,-s/e,0]}default:return[1,0,0,1]}},by=function(){if(l(this,we))return;_(this,we,document.createElement("div")),l(this,we).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const s of t){const i=document.createElement("div");l(this,we).append(i),i.classList.add("resizer",s),i.setAttribute("data-resizer-name",s),i.addEventListener("pointerdown",v(this,yt,_y).bind(this,s),{signal:e}),i.addEventListener("contextmenu",Je,{signal:e}),i.tabIndex=-1}this.div.prepend(l(this,we))},_y=function(t,e){var m;e.preventDefault();const{isMac:s}=Ye.platform;if(e.button!==0||e.ctrlKey&&s)return;(m=l(this,Le))==null||m.toggle(!1);const i=v(this,yt,Vp).bind(this,t),r=this._isDraggable;this._isDraggable=!1;const o=this._uiManager._signal,a={passive:!0,capture:!0,signal:o};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",i,a),window.addEventListener("contextmenu",Je,{signal:o});const c=this.x,h=this.y,u=this.width,d=this.height,f=this.parent.div.style.cursor,p=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const g=()=>{var A;this.parent.togglePointerEvents(!0),(A=l(this,Le))==null||A.toggle(!0),this._isDraggable=r,window.removeEventListener("pointerup",g),window.removeEventListener("blur",g),window.removeEventListener("pointermove",i,a),window.removeEventListener("contextmenu",Je),this.parent.div.style.cursor=f,this.div.style.cursor=p,v(this,yt,jp).call(this,c,h,u,d)};window.addEventListener("pointerup",g,{signal:o}),window.addEventListener("blur",g,{signal:o})},jp=function(t,e,s,i){const r=this.x,o=this.y,a=this.width,c=this.height;r===t&&o===e&&a===s&&c===i||this.addCommands({cmd:()=>{this.width=a,this.height=c,this.x=r,this.y=o;const[h,u]=this.parentDimensions;this.setDims(h*a,u*c),this.fixAndSetPosition()},undo:()=>{this.width=s,this.height=i,this.x=t,this.y=e;const[h,u]=this.parentDimensions;this.setDims(h*s,u*i),this.fixAndSetPosition()},mustExec:!0})},Vp=function(t,e){const[s,i]=this.parentDimensions,r=this.x,o=this.y,a=this.width,c=this.height,h=Ht.MIN_SIZE/s,u=Ht.MIN_SIZE/i,d=V=>Math.round(V*1e4)/1e4,f=v(this,yt,zp).call(this,this.rotation),p=(V,Z)=>[f[0]*V+f[2]*Z,f[1]*V+f[3]*Z],g=v(this,yt,zp).call(this,360-this.rotation),m=(V,Z)=>[g[0]*V+g[2]*Z,g[1]*V+g[3]*Z];let A,b,w=!1,C=!1;switch(t){case"topLeft":w=!0,A=(V,Z)=>[0,0],b=(V,Z)=>[V,Z];break;case"topMiddle":A=(V,Z)=>[V/2,0],b=(V,Z)=>[V/2,Z];break;case"topRight":w=!0,A=(V,Z)=>[V,0],b=(V,Z)=>[0,Z];break;case"middleRight":C=!0,A=(V,Z)=>[V,Z/2],b=(V,Z)=>[0,Z/2];break;case"bottomRight":w=!0,A=(V,Z)=>[V,Z],b=(V,Z)=>[0,0];break;case"bottomMiddle":A=(V,Z)=>[V/2,Z],b=(V,Z)=>[V/2,0];break;case"bottomLeft":w=!0,A=(V,Z)=>[0,Z],b=(V,Z)=>[V,0];break;case"middleLeft":C=!0,A=(V,Z)=>[0,Z/2],b=(V,Z)=>[V,Z/2];break}const k=A(a,c),R=b(a,c);let E=p(...R);const L=d(r+E[0]),M=d(o+E[1]);let U=1,N=1,[B,H]=this.screenToPageTranslation(e.movementX,e.movementY);if([B,H]=m(B/s,H/i),w){const V=Math.hypot(a,c);U=N=Math.max(Math.min(Math.hypot(R[0]-k[0]-B,R[1]-k[1]-H)/V,1/a,1/c),h/a,u/c)}else C?U=Math.max(h,Math.min(1,Math.abs(R[0]-k[0]-B)))/a:N=Math.max(u,Math.min(1,Math.abs(R[1]-k[1]-H)))/c;const nt=d(a*U),I=d(c*N);E=p(...b(nt,I));const ot=L-E[0],tt=M-E[1];this.width=nt,this.height=I,this.x=ot,this.y=tt,this.setDims(s*nt,i*I),this.fixAndSetPosition()},Up=function(t){const{isMac:e}=Ye.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},vy=function(t){const e=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let s,i;const r=this._uiManager._signal;e&&(this.div.classList.add("moving"),s={passive:!0,capture:!0,signal:r},_(this,Ea,t.clientX),_(this,Ca,t.clientY),i=a=>{const{clientX:c,clientY:h}=a,[u,d]=this.screenToPageTranslation(c-l(this,Ea),h-l(this,Ca));_(this,Ea,c),_(this,Ca,h),this._uiManager.dragSelectedEditors(u,d)},window.addEventListener("pointermove",i,s));const o=()=>{window.removeEventListener("pointerup",o),window.removeEventListener("blur",o),e&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",i,s)),_(this,Jr,!1),this._uiManager.endDragSession()||v(this,yt,Up).call(this,t)};window.addEventListener("pointerup",o,{signal:r}),window.addEventListener("blur",o,{signal:r})},yy=function(t){Ht._resizerKeyboardManager.exec(this,t)},Ay=function(t){var e;l(this,Qn)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==l(this,we)&&v(this,yt,Mc).call(this)},wy=function(t){_(this,$l,l(this,Qn)?t:"")},Gp=function(t){if(l(this,Us))for(const e of l(this,Us))e.tabIndex=t},Mc=function(){if(_(this,Qn,!1),v(this,yt,Gp).call(this,-1),l(this,Zr)){const{savedX:t,savedY:e,savedWidth:s,savedHeight:i}=l(this,Zr);v(this,yt,jp).call(this,t,e,s,i),_(this,Zr,null)}},y(Ht,zl),mt(Ht,"_borderLineWidth",-1),mt(Ht,"_colorManager",new Lp),mt(Ht,"_zIndex",1),mt(Ht,"_telemetryTimeout",1e3);let Lt=Ht;class Iat extends Lt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const S_=3285377520,As=4294901760,an=65535;class xy{constructor(t){this.h1=t?t&4294967295:S_,this.h2=t?t&4294967295:S_}update(t){let e,s;if(typeof t=="string"){e=new Uint8Array(t.length*2),s=0;for(let m=0,A=t.length;m<A;m++){const b=t.charCodeAt(m);b<=255?e[s++]=b:(e[s++]=b>>>8,e[s++]=b&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),s=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=s>>2,r=s-i*4,o=new Uint32Array(e.buffer,0,i);let a=0,c=0,h=this.h1,u=this.h2;const d=3432918353,f=461845907,p=d&an,g=f&an;for(let m=0;m<i;m++)m&1?(a=o[m],a=a*d&As|a*p&an,a=a<<15|a>>>17,a=a*f&As|a*g&an,h^=a,h=h<<13|h>>>19,h=h*5+3864292196):(c=o[m],c=c*d&As|c*p&an,c=c<<15|c>>>17,c=c*f&As|c*g&an,u^=c,u=u<<13|u>>>19,u=u*5+3864292196);switch(a=0,r){case 3:a^=e[i*4+2]<<16;case 2:a^=e[i*4+1]<<8;case 1:a^=e[i*4],a=a*d&As|a*p&an,a=a<<15|a>>>17,a=a*f&As|a*g&an,i&1?h^=a:u^=a}this.h1=h,this.h2=u}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&As|t*36045&an,e=e*4283543511&As|((e<<16|t>>>16)*2950163797&As)>>>16,t^=e>>>1,t=t*444984403&As|t*60499&an,e=e*3301882366&As|((e<<16|t>>>16)*3120437893&As)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const Wp=Object.freeze({map:null,hash:"",transfer:void 0});var to,eo,ve,Td,Ey;class Am{constructor(){y(this,Td);y(this,to,!1);y(this,eo,null);y(this,ve,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const s=l(this,ve).get(t);return s===void 0?e:Object.assign(e,s)}getRawValue(t){return l(this,ve).get(t)}remove(t){if(l(this,ve).delete(t),l(this,ve).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of l(this,ve).values())if(e instanceof Lt)return;this.onAnnotationEditor(null)}}setValue(t,e){const s=l(this,ve).get(t);let i=!1;if(s!==void 0)for(const[r,o]of Object.entries(e))s[r]!==o&&(i=!0,s[r]=o);else i=!0,l(this,ve).set(t,e);i&&v(this,Td,Ey).call(this),e instanceof Lt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return l(this,ve).has(t)}getAll(){return l(this,ve).size>0?gm(l(this,ve)):null}setAll(t){for(const[e,s]of Object.entries(t))this.setValue(e,s)}get size(){return l(this,ve).size}resetModified(){l(this,to)&&(_(this,to,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Cy(this)}get serializable(){if(l(this,ve).size===0)return Wp;const t=new Map,e=new xy,s=[],i=Object.create(null);let r=!1;for(const[o,a]of l(this,ve)){const c=a instanceof Lt?a.serialize(!1,i):a;c&&(t.set(o,c),e.update(`${o}:${JSON.stringify(c)}`),r||(r=!!c.bitmap))}if(r)for(const o of t.values())o.bitmap&&s.push(o.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:s}:Wp}get editorStats(){let t=null;const e=new Map;for(const s of l(this,ve).values()){if(!(s instanceof Lt))continue;const i=s.telemetryFinalData;if(!i)continue;const{type:r}=i;e.has(r)||e.set(r,Object.getPrototypeOf(s).constructor),t||(t=Object.create(null));const o=t[r]||(t[r]=new Map);for(const[a,c]of Object.entries(i)){if(a==="type")continue;let h=o.get(a);h||(h=new Map,o.set(a,h));const u=h.get(c)??0;h.set(c,u+1)}}for(const[s,i]of e)t[s]=i.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){_(this,eo,null)}get modifiedIds(){if(l(this,eo))return l(this,eo);const t=[];for(const e of l(this,ve).values())!(e instanceof Lt)||!e.annotationElementId||!e.serialize()||t.push(e.annotationElementId);return _(this,eo,{ids:new Set(t),hash:t.join(",")})}}to=new WeakMap,eo=new WeakMap,ve=new WeakMap,Td=new WeakSet,Ey=function(){l(this,to)||(_(this,to,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var jl;class Cy extends Am{constructor(e){super();y(this,jl);const{map:s,hash:i,transfer:r}=e.serializable,o=structuredClone(s,r?{transfer:r}:null);_(this,jl,{map:o,hash:i,transfer:r})}get print(){$t("Should not call PrintAnnotationStorage.print")}get serializable(){return l(this,jl)}get modifiedIds(){return Ct(this,"modifiedIds",{ids:new Set,hash:""})}}jl=new WeakMap;var ka;class Oat{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){y(this,ka,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),l(this,ka).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||l(this,ka).has(t.loadedName))){if(fe(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:s,src:i,style:r}=t,o=new FontFace(s,i,r);this.addNativeFontFace(o);try{await o.load(),l(this,ka).add(s),e==null||e(t)}catch{vt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}$t("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const s=t.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(i){throw vt(`Failed to load font '${s.family}': '${i}'.`),t.disableFontFace=!0,i}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const i=this._queueLoadingCallback(s);this._prepareFontLoadEvent(t,i)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return Ct(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(Oe||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Ct(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(fe(!i.done,"completeRequest() cannot be called twice."),i.done=!0;s.length>0&&s[0].done;){const r=s.shift();setTimeout(r.callback,0)}}const{loadingRequests:s}=this,i={done:!1,complete:e,callback:t};return s.push(i),i}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ct(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function s(k,R){return k.charCodeAt(R)<<24|k.charCodeAt(R+1)<<16|k.charCodeAt(R+2)<<8|k.charCodeAt(R+3)&255}function i(k,R,E,L){const M=k.substring(0,R),U=k.substring(R+E);return M+L+U}let r,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const c=a.getContext("2d");let h=0;function u(k,R){if(++h>30){vt("Load test font never loaded."),R();return}if(c.font="30px "+k,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){R();return}setTimeout(u.bind(null,k,R))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,d.length,d);const g=16,m=1482184792;let A=s(f,g);for(r=0,o=d.length-3;r<o;r+=4)A=A-m+s(d,r)|0;r<d.length&&(A=A-m+s(d+"XXX",r)|0),f=i(f,g,4,vat(A));const b=`url(data:font/opentype;base64,${btoa(f)});`,w=`@font-face {font-family:"${d}";src:${b}}`;this.insertRule(w);const C=this._document.createElement("div");C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px";for(const k of[t.loadedName,d]){const R=this._document.createElement("span");R.textContent="Hi",R.style.fontFamily=k,C.append(R)}this._document.body.append(C),u(d,()=>{C.remove(),e.complete()})}}ka=new WeakMap;class Nat{constructor(t,{disableFontFace:e=!1,inspectFont:s=null}){this.compiledGlyphs=Object.create(null);for(const i in t)this[i]=t[i];this.disableFontFace=e===!0,this._inspectFont=s}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const t=W0(this.data),e=`url(data:${this.mimetype};base64,${btoa(t)});`;let s;if(!this.cssFontInfo)s=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),s=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(i=this._inspectFont)==null||i.call(this,this,e),s}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let s;try{s=t.get(this.loadedName+"_path_"+e)}catch(r){vt(`getPathGenerator - ignoring character: "${r}".`)}if(!Array.isArray(s)||s.length===0)return this.compiledGlyphs[e]=function(r,o){};const i=[];for(let r=0,o=s.length;r<o;)switch(s[r++]){case qn.BEZIER_CURVE_TO:{const[a,c,h,u,d,f]=s.slice(r,r+6);i.push(p=>p.bezierCurveTo(a,c,h,u,d,f)),r+=6}break;case qn.MOVE_TO:{const[a,c]=s.slice(r,r+2);i.push(h=>h.moveTo(a,c)),r+=2}break;case qn.LINE_TO:{const[a,c]=s.slice(r,r+2);i.push(h=>h.lineTo(a,c)),r+=2}break;case qn.QUADRATIC_CURVE_TO:{const[a,c,h,u]=s.slice(r,r+4);i.push(d=>d.quadraticCurveTo(a,c,h,u)),r+=4}break;case qn.RESTORE:i.push(a=>a.restore());break;case qn.SAVE:i.push(a=>a.save());break;case qn.SCALE:fe(i.length===2,"Scale command is only valid at the third position.");break;case qn.TRANSFORM:{const[a,c,h,u,d,f]=s.slice(r,r+6);i.push(p=>p.transform(a,c,h,u,d,f)),r+=6}break;case qn.TRANSLATE:{const[a,c]=s.slice(r,r+2);i.push(h=>h.translate(a,c)),r+=2}break}return this.compiledGlyphs[e]=function(o,a){i[0](o),i[1](o),o.scale(a,-a);for(let c=2,h=i.length;c<h;c++)i[c](o)}}}if(Oe){var Kp=Promise.withResolvers(),tl=null;(async()=>{const t=await pu(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await pu(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),s=await pu(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await pu(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let r,o;return new Map(Object.entries({fs:t,http:e,https:s,url:i,canvas:r,path2d:o}))})().then(t=>{tl=t,Kp.resolve()},t=>{vt(`loadPackages: ${t}`),tl=new Map,Kp.resolve()})}class Ln{static get promise(){return Kp.promise}static get(t){return tl==null?void 0:tl.get(t)}}const ky=function(n){return Ln.get("fs").promises.readFile(n).then(e=>new Uint8Array(e))};class qat extends bf{}class $at extends dd{_createCanvas(t,e){return Ln.get("canvas").createCanvas(t,e)}}class Bat extends _f{_fetchData(t,e){return ky(t).then(s=>({cMapData:s,compressionType:e}))}}class Hat extends vf{_fetchData(t){return ky(t)}}const He={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Xp(n,t){if(!t)return;const e=t[2]-t[0],s=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],e,s),n.clip(i)}class eu{constructor(){this.constructor===eu&&$t("Cannot initialize BaseShadingPattern.")}getPattern(){$t("Abstract method `getPattern` called.")}}class zat extends eu{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)e.addColorStop(s[0],s[1]);return e}getPattern(t,e,s,i){let r;if(i===He.STROKE||i===He.FILL){const o=e.current.getClippedPathBoundingBox(i,Qt(t))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,c=Math.ceil(o[3]-o[1])||1,h=e.cachedCanvases.getCanvas("pattern",a,c,!0),u=h.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-o[0],-o[1]),s=it.transform(s,[1,0,0,1,o[0],o[1]]),u.transform(...e.baseTransform),this.matrix&&u.transform(...this.matrix),Xp(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),r=t.createPattern(h.canvas,"no-repeat");const d=new DOMMatrix(s);r.setTransform(d)}else Xp(t,this._bbox),r=this._createGradient(t);return r}}function Qf(n,t,e,s,i,r,o,a){const c=t.coords,h=t.colors,u=n.data,d=n.width*4;let f;c[e+1]>c[s+1]&&(f=e,e=s,s=f,f=r,r=o,o=f),c[s+1]>c[i+1]&&(f=s,s=i,i=f,f=o,o=a,a=f),c[e+1]>c[s+1]&&(f=e,e=s,s=f,f=r,r=o,o=f);const p=(c[e]+t.offsetX)*t.scaleX,g=(c[e+1]+t.offsetY)*t.scaleY,m=(c[s]+t.offsetX)*t.scaleX,A=(c[s+1]+t.offsetY)*t.scaleY,b=(c[i]+t.offsetX)*t.scaleX,w=(c[i+1]+t.offsetY)*t.scaleY;if(g>=w)return;const C=h[r],k=h[r+1],R=h[r+2],E=h[o],L=h[o+1],M=h[o+2],U=h[a],N=h[a+1],B=h[a+2],H=Math.round(g),nt=Math.round(w);let I,ot,tt,V,Z,Ue,ss,Ne;for(let Pt=H;Pt<=nt;Pt++){if(Pt<A){const P=Pt<g?0:(g-Pt)/(g-A);I=p-(p-m)*P,ot=C-(C-E)*P,tt=k-(k-L)*P,V=R-(R-M)*P}else{let P;Pt>w?P=1:A===w?P=0:P=(A-Pt)/(A-w),I=m-(m-b)*P,ot=E-(E-U)*P,tt=L-(L-N)*P,V=M-(M-B)*P}let Xt;Pt<g?Xt=0:Pt>w?Xt=1:Xt=(g-Pt)/(g-w),Z=p-(p-b)*Xt,Ue=C-(C-U)*Xt,ss=k-(k-N)*Xt,Ne=R-(R-B)*Xt;const Ms=Math.round(Math.min(I,Z)),vs=Math.round(Math.max(I,Z));let Gt=d*Pt+Ms*4;for(let P=Ms;P<=vs;P++)Xt=(I-P)/(I-Z),Xt<0?Xt=0:Xt>1&&(Xt=1),u[Gt++]=ot-(ot-Ue)*Xt|0,u[Gt++]=tt-(tt-ss)*Xt|0,u[Gt++]=V-(V-Ne)*Xt|0,u[Gt++]=255}}function jat(n,t,e){const s=t.coords,i=t.colors;let r,o;switch(t.type){case"lattice":const a=t.verticesPerRow,c=Math.floor(s.length/a)-1,h=a-1;for(r=0;r<c;r++){let u=r*a;for(let d=0;d<h;d++,u++)Qf(n,e,s[u],s[u+1],s[u+a],i[u],i[u+1],i[u+a]),Qf(n,e,s[u+a+1],s[u+1],s[u+a],i[u+a+1],i[u+1],i[u+a])}break;case"triangles":for(r=0,o=s.length;r<o;r+=3)Qf(n,e,s[r],s[r+1],s[r+2],i[r],i[r+1],i[r+2]);break;default:throw new Error("illegal figure")}}class Vat extends eu{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,s){const a=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),h=Math.ceil(this._bounds[2])-a,u=Math.ceil(this._bounds[3])-c,d=Math.min(Math.ceil(Math.abs(h*t[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(u*t[1]*1.1)),3e3),p=h/d,g=u/f,m={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-c,scaleX:1/p,scaleY:1/g},A=d+2*2,b=f+2*2,w=s.getCanvas("mesh",A,b,!1),C=w.context,k=C.createImageData(d,f);if(e){const E=k.data;for(let L=0,M=E.length;L<M;L+=4)E[L]=e[0],E[L+1]=e[1],E[L+2]=e[2],E[L+3]=255}for(const E of this._figures)jat(k,E,m);return C.putImageData(k,2,2),{canvas:w.canvas,offsetX:a-2*p,offsetY:c-2*g,scaleX:p,scaleY:g}}getPattern(t,e,s,i){Xp(t,this._bbox);let r;if(i===He.SHADING)r=it.singularValueDecompose2dScale(Qt(t));else if(r=it.singularValueDecompose2dScale(e.baseTransform),this.matrix){const a=it.singularValueDecompose2dScale(this.matrix);r=[r[0]*a[0],r[1]*a[1]]}const o=this._createMeshCanvas(r,i===He.SHADING?null:this._background,e.cachedCanvases);return i!==He.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(o.offsetX,o.offsetY),t.scale(o.scaleX,o.scaleY),t.createPattern(o.canvas,"no-repeat")}}class Uat extends eu{getPattern(){return"hotpink"}}function Gat(n){switch(n[0]){case"RadialAxial":return new zat(n);case"Mesh":return new Vat(n);case"Dummy":return new Uat}throw new Error(`Unknown IR type: ${n[0]}`)}const T_={COLORED:1,UNCOLORED:2},Rd=class Rd{constructor(t,e,s,i,r){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=s,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(t){const e=this.operatorList,s=this.bbox,i=this.xstep,r=this.ystep,o=this.paintType,a=this.tilingType,c=this.color,h=this.canvasGraphicsFactory;pf("TilingType: "+a);const u=s[0],d=s[1],f=s[2],p=s[3],g=it.singularValueDecompose2dScale(this.matrix),m=it.singularValueDecompose2dScale(this.baseTransform),A=[g[0]*m[0],g[1]*m[1]],b=this.getSizeAndScale(i,this.ctx.canvas.width,A[0]),w=this.getSizeAndScale(r,this.ctx.canvas.height,A[1]),C=t.cachedCanvases.getCanvas("pattern",b.size,w.size,!0),k=C.context,R=h.createCanvasGraphics(k);R.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(R,o,c);let E=u,L=d,M=f,U=p;return u<0&&(E=0,M+=Math.abs(u)),d<0&&(L=0,U+=Math.abs(d)),k.translate(-(b.scale*E),-(w.scale*L)),R.transform(b.scale,0,0,w.scale,0,0),k.save(),this.clipBbox(R,E,L,M,U),R.baseTransform=Qt(R.ctx),R.executeOperatorList(e),R.endDrawing(),{canvas:C.canvas,scaleX:b.scale,scaleY:w.scale,offsetX:E,offsetY:L}}getSizeAndScale(t,e,s){t=Math.abs(t);const i=Math.max(Rd.MAX_PATTERN_SIZE,e);let r=Math.ceil(t*s);return r>=i?r=i:s=r/t,{scale:s,size:r}}clipBbox(t,e,s,i,r){const o=i-e,a=r-s;t.ctx.rect(e,s,o,a),t.current.updateRectMinMax(Qt(t.ctx),[e,s,i,r]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,s){const i=t.ctx,r=t.current;switch(e){case T_.COLORED:const o=this.ctx;i.fillStyle=o.fillStyle,i.strokeStyle=o.strokeStyle,r.fillColor=o.fillStyle,r.strokeColor=o.strokeStyle;break;case T_.UNCOLORED:const a=it.makeHexColor(s[0],s[1],s[2]);i.fillStyle=a,i.strokeStyle=a,r.fillColor=a,r.strokeColor=a;break;default:throw new _at(`Unsupported paint type: ${e}`)}}getPattern(t,e,s,i){let r=s;i!==He.SHADING&&(r=it.transform(r,e.baseTransform),this.matrix&&(r=it.transform(r,this.matrix)));const o=this.createPatternCanvas(e);let a=new DOMMatrix(r);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const c=t.createPattern(o.canvas,"repeat");return c.setTransform(a),c}};mt(Rd,"MAX_PATTERN_SIZE",3e3);let Yp=Rd;function Wat({src:n,srcPos:t=0,dest:e,width:s,height:i,nonBlackColor:r=4294967295,inverseDecode:o=!1}){const a=Ye.isLittleEndian?4278190080:255,[c,h]=o?[r,a]:[a,r],u=s>>3,d=s&7,f=n.length;e=new Uint32Array(e.buffer);let p=0;for(let g=0;g<i;g++){for(const A=t+u;t<A;t++){const b=t<f?n[t]:255;e[p++]=b&128?h:c,e[p++]=b&64?h:c,e[p++]=b&32?h:c,e[p++]=b&16?h:c,e[p++]=b&8?h:c,e[p++]=b&4?h:c,e[p++]=b&2?h:c,e[p++]=b&1?h:c}if(d===0)continue;const m=t<f?n[t++]:255;for(let A=0;A<d;A++)e[p++]=m&1<<7-A?h:c}return{srcPos:t,destPos:p}}const R_=16,D_=100,Kat=15,P_=10,L_=1e3,Xe=16;function Xat(n,t){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){t.save(),this.__originalSave()},n.restore=function(){t.restore(),this.__originalRestore()},n.translate=function(s,i){t.translate(s,i),this.__originalTranslate(s,i)},n.scale=function(s,i){t.scale(s,i),this.__originalScale(s,i)},n.transform=function(s,i,r,o,a,c){t.transform(s,i,r,o,a,c),this.__originalTransform(s,i,r,o,a,c)},n.setTransform=function(s,i,r,o,a,c){t.setTransform(s,i,r,o,a,c),this.__originalSetTransform(s,i,r,o,a,c)},n.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},n.rotate=function(s){t.rotate(s),this.__originalRotate(s)},n.clip=function(s){t.clip(s),this.__originalClip(s)},n.moveTo=function(e,s){t.moveTo(e,s),this.__originalMoveTo(e,s)},n.lineTo=function(e,s){t.lineTo(e,s),this.__originalLineTo(e,s)},n.bezierCurveTo=function(e,s,i,r,o,a){t.bezierCurveTo(e,s,i,r,o,a),this.__originalBezierCurveTo(e,s,i,r,o,a)},n.rect=function(e,s,i,r){t.rect(e,s,i,r),this.__originalRect(e,s,i,r)},n.closePath=function(){t.closePath(),this.__originalClosePath()},n.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class Yat{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,s){let i;return this.cache[t]!==void 0?(i=this.cache[t],this.canvasFactory.reset(i,e,s)):(i=this.canvasFactory.create(e,s),this.cache[t]=i),i}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function gu(n,t,e,s,i,r,o,a,c,h){const[u,d,f,p,g,m]=Qt(n);if(d===0&&f===0){const w=o*u+g,C=Math.round(w),k=a*p+m,R=Math.round(k),E=(o+c)*u+g,L=Math.abs(Math.round(E)-C)||1,M=(a+h)*p+m,U=Math.abs(Math.round(M)-R)||1;return n.setTransform(Math.sign(u),0,0,Math.sign(p),C,R),n.drawImage(t,e,s,i,r,0,0,L,U),n.setTransform(u,d,f,p,g,m),[L,U]}if(u===0&&p===0){const w=a*f+g,C=Math.round(w),k=o*d+m,R=Math.round(k),E=(a+h)*f+g,L=Math.abs(Math.round(E)-C)||1,M=(o+c)*d+m,U=Math.abs(Math.round(M)-R)||1;return n.setTransform(0,Math.sign(d),Math.sign(f),0,C,R),n.drawImage(t,e,s,i,r,0,0,U,L),n.setTransform(u,d,f,p,g,m),[U,L]}n.drawImage(t,e,s,i,r,o,a,c,h);const A=Math.hypot(u,d),b=Math.hypot(f,p);return[A*c,b*h]}function Zat(n){const{width:t,height:e}=n;if(t>L_||e>L_)return null;const s=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),r=t+1;let o=new Uint8Array(r*(e+1)),a,c,h;const u=t+7&-8;let d=new Uint8Array(u*e),f=0;for(const b of n.data){let w=128;for(;w>0;)d[f++]=b&w?0:255,w>>=1}let p=0;for(f=0,d[f]!==0&&(o[0]=1,++p),c=1;c<t;c++)d[f]!==d[f+1]&&(o[c]=d[f]?2:1,++p),f++;for(d[f]!==0&&(o[c]=2,++p),a=1;a<e;a++){f=a*u,h=a*r,d[f-u]!==d[f]&&(o[h]=d[f]?1:8,++p);let b=(d[f]?4:0)+(d[f-u]?8:0);for(c=1;c<t;c++)b=(b>>2)+(d[f+1]?4:0)+(d[f-u+1]?8:0),i[b]&&(o[h+c]=i[b],++p),f++;if(d[f-u]!==d[f]&&(o[h+c]=d[f]?2:4,++p),p>s)return null}for(f=u*(e-1),h=a*r,d[f]!==0&&(o[h]=8,++p),c=1;c<t;c++)d[f]!==d[f+1]&&(o[h+c]=d[f]?4:8,++p),f++;if(d[f]!==0&&(o[h+c]=4,++p),p>s)return null;const g=new Int32Array([0,r,-1,0,-r,0,0,0,1]),m=new Path2D;for(a=0;p&&a<=e;a++){let b=a*r;const w=b+t;for(;b<w&&!o[b];)b++;if(b===w)continue;m.moveTo(b%r,a);const C=b;let k=o[b];do{const R=g[k];do b+=R;while(!o[b]);const E=o[b];E!==5&&E!==10?(k=E,o[b]=0):(k=E&51*k>>4,o[b]&=k>>2|k<<2),m.lineTo(b%r,b/r|0),o[b]||--p}while(C!==b);--a}return d=null,o=null,function(b){b.save(),b.scale(1/t,-1/e),b.translate(0,-e),b.fill(m),b.beginPath(),b.restore()}}class M_{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=U0,this.textMatrixScale=1,this.fontMatrix=Ap,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Te.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,s){[e,s]=it.applyTransform([e,s],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,s),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,s)}updateRectMinMax(t,e){const s=it.applyTransform(e,t),i=it.applyTransform(e.slice(2),t),r=it.applyTransform([e[0],e[3]],t),o=it.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,s[0],i[0],r[0],o[0]),this.minY=Math.min(this.minY,s[1],i[1],r[1],o[1]),this.maxX=Math.max(this.maxX,s[0],i[0],r[0],o[0]),this.maxY=Math.max(this.maxY,s[1],i[1],r[1],o[1])}updateScalingPathMinMax(t,e){it.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,s,i,r,o,a,c,h,u){const d=it.bezierBoundingBox(e,s,i,r,o,a,c,h,u);u||this.updateRectMinMax(t,d)}getPathBoundingBox(t=He.FILL,e=null){const s=[this.minX,this.minY,this.maxX,this.maxY];if(t===He.STROKE){e||$t("Stroke bounding box must include transform.");const i=it.singularValueDecompose2dScale(e),r=i[0]*this.lineWidth/2,o=i[1]*this.lineWidth/2;s[0]-=r,s[1]-=o,s[2]+=r,s[3]+=o}return s}updateClipFromPath(){const t=it.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=He.FILL,e=null){return it.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function F_(n,t){if(typeof ImageData<"u"&&t instanceof ImageData){n.putImageData(t,0,0);return}const e=t.height,s=t.width,i=e%Xe,r=(e-i)/Xe,o=i===0?r:r+1,a=n.createImageData(s,Xe);let c=0,h;const u=t.data,d=a.data;let f,p,g,m;if(t.kind===Ru.GRAYSCALE_1BPP){const A=u.byteLength,b=new Uint32Array(d.buffer,0,d.byteLength>>2),w=b.length,C=s+7>>3,k=4294967295,R=Ye.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(g=f<r?Xe:i,h=0,p=0;p<g;p++){const E=A-c;let L=0;const M=E>C?s:E*8-7,U=M&-8;let N=0,B=0;for(;L<U;L+=8)B=u[c++],b[h++]=B&128?k:R,b[h++]=B&64?k:R,b[h++]=B&32?k:R,b[h++]=B&16?k:R,b[h++]=B&8?k:R,b[h++]=B&4?k:R,b[h++]=B&2?k:R,b[h++]=B&1?k:R;for(;L<M;L++)N===0&&(B=u[c++],N=128),b[h++]=B&N?k:R,N>>=1}for(;h<w;)b[h++]=0;n.putImageData(a,0,f*Xe)}}else if(t.kind===Ru.RGBA_32BPP){for(p=0,m=s*Xe*4,f=0;f<r;f++)d.set(u.subarray(c,c+m)),c+=m,n.putImageData(a,0,p),p+=Xe;f<o&&(m=s*i*4,d.set(u.subarray(c,c+m)),n.putImageData(a,0,p))}else if(t.kind===Ru.RGB_24BPP)for(g=Xe,m=s*g,f=0;f<o;f++){for(f>=r&&(g=i,m=s*g),h=0,p=m;p--;)d[h++]=u[c++],d[h++]=u[c++],d[h++]=u[c++],d[h++]=255;n.putImageData(a,0,f*Xe)}else throw new Error(`bad image kind: ${t.kind}`)}function I_(n,t){if(t.bitmap){n.drawImage(t.bitmap,0,0);return}const e=t.height,s=t.width,i=e%Xe,r=(e-i)/Xe,o=i===0?r:r+1,a=n.createImageData(s,Xe);let c=0;const h=t.data,u=a.data;for(let d=0;d<o;d++){const f=d<r?Xe:i;({srcPos:c}=Wat({src:h,srcPos:c,dest:u,width:s,height:f,nonBlackColor:0})),n.putImageData(a,0,d*Xe)}}function Cc(n,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of e)n[s]!==void 0&&(t[s]=n[s]);n.setLineDash!==void 0&&(t.setLineDash(n.getLineDash()),t.lineDashOffset=n.lineDashOffset)}function mu(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!Oe){const{filter:t}=n;t!=="none"&&t!==""&&(n.filter="none")}}function O_(n,t){if(t)return!0;const e=it.singularValueDecompose2dScale(n);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const s=Math.fround((globalThis.devicePixelRatio||1)*mr.PDF_TO_CSS_UNITS);return e[0]<=s&&e[1]<=s}const Jat=["butt","round","square"],Qat=["miter","round","bevel"],tct={},N_={};var _r,Zp,Jp;const km=class km{constructor(t,e,s,i,r,{optionalContentConfig:o,markedContentStack:a=null},c,h){y(this,_r);this.ctx=t,this.current=new M_(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=s,this.canvasFactory=i,this.filterFactory=r,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new Yat(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=h,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:s=!1,background:i=null}){const r=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,r,o),this.ctx.fillStyle=a,s){const c=this.cachedCanvases.getCanvas("transparent",r,o);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...Qt(this.compositeCtx))}this.ctx.save(),mu(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=Qt(this.ctx)}executeOperatorList(t,e,s,i){const r=t.argsArray,o=t.fnArray;let a=e||0;const c=r.length;if(c===a)return a;const h=c-a>P_&&typeof s=="function",u=h?Date.now()+Kat:0;let d=0;const f=this.commonObjs,p=this.objs;let g;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,s),a;if(g=o[a],g!==Bs.dependency)this[g].apply(this,r[a]);else for(const m of r[a]){const A=m.startsWith("g_")?f:p;if(!A.has(m))return A.get(m,s),a}if(a++,a===c)return a;if(h&&++d>P_){if(Date.now()>u)return s(),a;d=0}}}endDrawing(){v(this,_r,Zp).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),v(this,_r,Jp).call(this)}_scaleImage(t,e){const s=t.width,i=t.height;let r=Math.max(Math.hypot(e[0],e[1]),1),o=Math.max(Math.hypot(e[2],e[3]),1),a=s,c=i,h="prescale1",u,d;for(;r>2&&a>1||o>2&&c>1;){let f=a,p=c;r>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),r/=a/f),o>2&&c>1&&(p=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,o/=c/p),u=this.cachedCanvases.getCanvas(h,f,p),d=u.context,d.clearRect(0,0,f,p),d.drawImage(t,0,0,a,c,0,0,f,p),t=u.canvas,a=f,c=p,h=h==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:a,paintHeight:c}}_createMaskCanvas(t){const e=this.ctx,{width:s,height:i}=t,r=this.current.fillColor,o=this.current.patternFill,a=Qt(e);let c,h,u,d;if((t.bitmap||t.data)&&t.count>1){const M=t.bitmap||t.data.buffer;h=JSON.stringify(o?a:[a.slice(0,4),r]),c=this._cachedBitmapsMap.get(M),c||(c=new Map,this._cachedBitmapsMap.set(M,c));const U=c.get(h);if(U&&!o){const N=Math.round(Math.min(a[0],a[2])+a[4]),B=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:U,offsetX:N,offsetY:B}}u=U}u||(d=this.cachedCanvases.getCanvas("maskCanvas",s,i),I_(d.context,t));let f=it.transform(a,[1/s,0,0,-1/i,0,0]);f=it.transform(f,[1,0,0,1,0,-i]);const[p,g,m,A]=it.getAxialAlignedBoundingBox([0,0,s,i],f),b=Math.round(m-p)||1,w=Math.round(A-g)||1,C=this.cachedCanvases.getCanvas("fillCanvas",b,w),k=C.context,R=p,E=g;k.translate(-R,-E),k.transform(...f),u||(u=this._scaleImage(d.canvas,$n(k)),u=u.img,c&&o&&c.set(h,u)),k.imageSmoothingEnabled=O_(Qt(k),t.interpolate),gu(k,u,0,0,u.width,u.height,0,0,s,i),k.globalCompositeOperation="source-in";const L=it.transform($n(k),[1,0,0,1,-R,-E]);return k.fillStyle=o?r.getPattern(e,this,L,He.FILL):r,k.fillRect(0,0,s,i),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(h,C.canvas)),{canvas:C.canvas,offsetX:Math.round(R),offsetY:Math.round(E)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=Jat[t]}setLineJoin(t){this.ctx.lineJoin=Qat[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,s]of t)switch(e){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.current.fillAlpha=s,this.ctx.globalAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(s,t,e);this.suspendedCtx=this.ctx,this.ctx=i.context;const r=this.ctx;r.setTransform(...Qt(this.suspendedCtx)),Cc(this.suspendedCtx,r),Xat(r,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Cc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,s,i){const r=i[0],o=i[1],a=i[2]-r,c=i[3]-o;a===0||c===0||(this.genericComposeSMask(e.context,s,a,c,e.subtype,e.backdrop,e.transferMap,r,o,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(s.canvas,0,0),t.restore())}genericComposeSMask(t,e,s,i,r,o,a,c,h,u,d){let f=t.canvas,p=c-u,g=h-d;if(o){if(p<0||g<0||p+s>f.width||g+i>f.height){const A=this.cachedCanvases.getCanvas("maskExtension",s,i),b=A.context;b.drawImage(f,-p,-g),o.some(w=>w!==0)&&(b.globalCompositeOperation="destination-atop",b.fillStyle=it.makeHexColor(...o),b.fillRect(0,0,s,i),b.globalCompositeOperation="source-over"),f=A.canvas,p=g=0}else if(o.some(A=>A!==0)){t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const A=new Path2D;A.rect(p,g,s,i),t.clip(A),t.globalCompositeOperation="destination-atop",t.fillStyle=it.makeHexColor(...o),t.fillRect(p,g,s,i),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),r==="Alpha"&&a?e.filter=this.filterFactory.addAlphaFilter(a):r==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(a));const m=new Path2D;m.rect(c,h,s,i),e.clip(m),e.globalCompositeOperation="destination-in",e.drawImage(f,p,g,s,i,c,h,s,i),e.restore()}save(){this.inSMaskMode?(Cc(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Cc(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,s,i,r,o){this.ctx.transform(t,e,s,i,r,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,s){const i=this.ctx,r=this.current;let o=r.x,a=r.y,c,h;const u=Qt(i),d=u[0]===0&&u[3]===0||u[1]===0&&u[2]===0,f=d?s.slice(0):null;for(let p=0,g=0,m=t.length;p<m;p++)switch(t[p]|0){case Bs.rectangle:o=e[g++],a=e[g++];const A=e[g++],b=e[g++],w=o+A,C=a+b;i.moveTo(o,a),A===0||b===0?i.lineTo(w,C):(i.lineTo(w,a),i.lineTo(w,C),i.lineTo(o,C)),d||r.updateRectMinMax(u,[o,a,w,C]),i.closePath();break;case Bs.moveTo:o=e[g++],a=e[g++],i.moveTo(o,a),d||r.updatePathMinMax(u,o,a);break;case Bs.lineTo:o=e[g++],a=e[g++],i.lineTo(o,a),d||r.updatePathMinMax(u,o,a);break;case Bs.curveTo:c=o,h=a,o=e[g+4],a=e[g+5],i.bezierCurveTo(e[g],e[g+1],e[g+2],e[g+3],o,a),r.updateCurvePathMinMax(u,c,h,e[g],e[g+1],e[g+2],e[g+3],o,a,f),g+=6;break;case Bs.curveTo2:c=o,h=a,i.bezierCurveTo(o,a,e[g],e[g+1],e[g+2],e[g+3]),r.updateCurvePathMinMax(u,c,h,o,a,e[g],e[g+1],e[g+2],e[g+3],f),o=e[g+2],a=e[g+3],g+=4;break;case Bs.curveTo3:c=o,h=a,o=e[g+2],a=e[g+3],i.bezierCurveTo(e[g],e[g+1],o,a,o,a),r.updateCurvePathMinMax(u,c,h,e[g],e[g+1],o,a,o,a,f),g+=4;break;case Bs.closePath:i.closePath();break}d&&r.updateScalingPathMinMax(u,f),r.setCurrentPoint(o,a)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,s=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof s=="object"&&(s!=null&&s.getPattern)?(e.save(),e.strokeStyle=s.getPattern(e,this,$n(e),He.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,s=this.current.fillColor,i=this.current.patternFill;let r=!1;i&&(e.save(),e.fillStyle=s.getPattern(e,this,$n(e),He.FILL),r=!0);const o=this.current.getClippedPathBoundingBox();this.contentVisible&&o!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),r&&e.restore(),t&&this.consumePath(o)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=tct}eoClip(){this.pendingClip=N_}beginText(){this.current.textMatrix=U0,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const s of t)e.setTransform(...s.transform),e.translate(s.x,s.y),s.addToPath(e,s.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var u;const s=this.commonObjs.get(t),i=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(i.fontMatrix=s.fontMatrix||Ap,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&vt("Invalid font matrix for font "+t),e<0?(e=-e,i.fontDirection=-1):i.fontDirection=1,this.current.font=s,this.current.fontSize=e,s.isType3Font)return;const r=s.loadedName||"sans-serif",o=((u=s.systemFontInfo)==null?void 0:u.css)||`"${r}", ${s.fallbackName}`;let a="normal";s.black?a="900":s.bold&&(a="bold");const c=s.italic?"italic":"normal";let h=e;e<R_?h=R_:e>D_&&(h=D_),this.current.fontSizeScale=e/h,this.ctx.font=`${c} ${a} ${h}px ${o}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,s,i,r,o){this.current.textMatrix=[t,e,s,i,r,o],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,s,i){const r=this.ctx,o=this.current,a=o.font,c=o.textRenderingMode,h=o.fontSize/o.fontSizeScale,u=c&Te.FILL_STROKE_MASK,d=!!(c&Te.ADD_TO_PATH_FLAG),f=o.patternFill&&!a.missingFile;let p;(a.disableFontFace||d||f)&&(p=a.getPathGenerator(this.commonObjs,t)),a.disableFontFace||f?(r.save(),r.translate(e,s),r.beginPath(),p(r,h),i&&r.setTransform(...i),(u===Te.FILL||u===Te.FILL_STROKE)&&r.fill(),(u===Te.STROKE||u===Te.FILL_STROKE)&&r.stroke(),r.restore()):((u===Te.FILL||u===Te.FILL_STROKE)&&r.fillText(t,e,s),(u===Te.STROKE||u===Te.FILL_STROKE)&&r.strokeText(t,e,s)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Qt(r),x:e,y:s,fontSize:h,addToPath:p})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let s=!1;for(let i=3;i<e.length;i+=4)if(e[i]>0&&e[i]<255){s=!0;break}return Ct(this,"isFontSubpixelAAEnabled",s)}showText(t){const e=this.current,s=e.font;if(s.isType3Font)return this.showType3Text(t);const i=e.fontSize;if(i===0)return;const r=this.ctx,o=e.fontSizeScale,a=e.charSpacing,c=e.wordSpacing,h=e.fontDirection,u=e.textHScale*h,d=t.length,f=s.vertical,p=f?1:-1,g=s.defaultVMetrics,m=i*e.fontMatrix[0],A=e.textRenderingMode===Te.FILL&&!s.disableFontFace&&!e.patternFill;r.save(),r.transform(...e.textMatrix),r.translate(e.x,e.y+e.textRise),h>0?r.scale(u,-1):r.scale(u,1);let b;if(e.patternFill){r.save();const E=e.fillColor.getPattern(r,this,$n(r),He.FILL);b=Qt(r),r.restore(),r.fillStyle=E}let w=e.lineWidth;const C=e.textMatrixScale;if(C===0||w===0){const E=e.textRenderingMode&Te.FILL_STROKE_MASK;(E===Te.STROKE||E===Te.FILL_STROKE)&&(w=this.getSinglePixelWidth())}else w/=C;if(o!==1&&(r.scale(o,o),w/=o),r.lineWidth=w,s.isInvalidPDFjsFont){const E=[];let L=0;for(const M of t)E.push(M.unicode),L+=M.width;r.fillText(E.join(""),0,0),e.x+=L*m*u,r.restore(),this.compose();return}let k=0,R;for(R=0;R<d;++R){const E=t[R];if(typeof E=="number"){k+=p*E*i/1e3;continue}let L=!1;const M=(E.isSpace?c:0)+a,U=E.fontChar,N=E.accent;let B,H,nt=E.width;if(f){const ot=E.vmetric||g,tt=-(E.vmetric?ot[1]:nt*.5)*m,V=ot[2]*m;nt=ot?-ot[0]:nt,B=tt/o,H=(k+V)/o}else B=k/o,H=0;if(s.remeasure&&nt>0){const ot=r.measureText(U).width*1e3/i*o;if(nt<ot&&this.isFontSubpixelAAEnabled){const tt=nt/ot;L=!0,r.save(),r.scale(tt,1),B/=tt}else nt!==ot&&(B+=(nt-ot)/2e3*i/o)}if(this.contentVisible&&(E.isInFont||s.missingFile)){if(A&&!N)r.fillText(U,B,H);else if(this.paintChar(U,B,H,b),N){const ot=B+i*N.offset.x/o,tt=H-i*N.offset.y/o;this.paintChar(N.fontChar,ot,tt,b)}}const I=f?nt*m-M*h:nt*m+M*h;k+=I,L&&r.restore()}f?e.y-=k:e.x+=k*u,r.restore(),this.compose()}showType3Text(t){const e=this.ctx,s=this.current,i=s.font,r=s.fontSize,o=s.fontDirection,a=i.vertical?1:-1,c=s.charSpacing,h=s.wordSpacing,u=s.textHScale*o,d=s.fontMatrix||Ap,f=t.length,p=s.textRenderingMode===Te.INVISIBLE;let g,m,A,b;if(!(p||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...s.textMatrix),e.translate(s.x,s.y),e.scale(u,o),g=0;g<f;++g){if(m=t[g],typeof m=="number"){b=a*m*r/1e3,this.ctx.translate(b,0),s.x+=b*u;continue}const w=(m.isSpace?h:0)+c,C=i.charProcOperatorList[m.operatorListId];if(!C){vt(`Type3 character "${m.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=m,this.save(),e.scale(r,r),e.transform(...d),this.executeOperatorList(C),this.restore()),A=it.applyTransform([m.width,0],d)[0]*r+w,e.translate(A,0),s.x+=A*u}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,s,i,r,o){this.ctx.rect(s,i,r-s,o-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const s=t[1],i=this.baseTransform||Qt(this.ctx),r={createCanvasGraphics:o=>new km(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Yp(t,s,this.ctx,r,i)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,s){this.ctx.strokeStyle=this.current.strokeColor=it.makeHexColor(t,e,s)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(t,e,s){this.ctx.fillStyle=this.current.fillColor=it.makeHexColor(t,e,s),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,e=null){let s;return this.cachedPatterns.has(t)?s=this.cachedPatterns.get(t):(s=Gat(this.getObject(t)),this.cachedPatterns.set(t,s)),e&&(s.matrix=e),s}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const s=this._getPattern(t);e.fillStyle=s.getPattern(e,this,$n(e),He.SHADING);const i=$n(e);if(i){const{width:r,height:o}=e.canvas,[a,c,h,u]=it.getAxialAlignedBoundingBox([0,0,r,o],i);this.ctx.fillRect(a,c,h-a,u-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){$t("Should not call beginInlineImage")}beginImageData(){$t("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Qt(this.ctx),e)){const s=e[2]-e[0],i=e[3]-e[1];this.ctx.rect(e[0],e[1],s,i),this.current.updateRectMinMax(Qt(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||pf("TODO: Support non-isolated groups."),t.knockout&&vt("Knockout groups not supported.");const s=Qt(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let i=it.getAxialAlignedBoundingBox(t.bbox,Qt(e));const r=[0,0,e.canvas.width,e.canvas.height];i=it.intersect(i,r)||[0,0,0,0];const o=Math.floor(i[0]),a=Math.floor(i[1]),c=Math.max(Math.ceil(i[2])-o,1),h=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,c,h]);let u="groupAt"+this.groupLevel;t.smask&&(u+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(u,c,h),f=d.context;f.translate(-o,-a),f.transform(...s),t.smask?this.smaskStack.push({canvas:d.canvas,context:f,offsetX:o,offsetY:a,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(o,a),e.save()),Cc(e,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Qt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const r=it.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],i);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(t,e,s,i,r){if(v(this,_r,Zp).call(this),mu(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const o=e[2]-e[0],a=e[3]-e[1];if(r&&this.annotationCanvasMap){s=s.slice(),s[4]-=e[0],s[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=o,e[3]=a;const[c,h]=it.singularValueDecompose2dScale(Qt(this.ctx)),{viewportScale:u}=this,d=Math.ceil(o*this.outputScaleX*u),f=Math.ceil(a*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,f);const{canvas:p,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(t,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(c,0,0,-h,0,a*h),mu(this.ctx)}else mu(this.ctx),this.ctx.rect(e[0],e[1],o,a),this.ctx.clip(),this.endPath()}this.current=new M_(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),v(this,_r,Jp).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const s=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=Zat(t)),i.compiled)){i.compiled(s);return}const r=this._createMaskCanvas(t),o=r.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(o,r.offsetX,r.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,s=0,i=0,r,o){if(!this.contentVisible)return;t=this.getObject(t.data,t);const a=this.ctx;a.save();const c=Qt(a);a.transform(e,s,i,r,0,0);const h=this._createMaskCanvas(t);a.setTransform(1,0,0,1,h.offsetX-c[4],h.offsetY-c[5]);for(let u=0,d=o.length;u<d;u+=2){const f=it.transform(c,[e,s,i,r,o[u],o[u+1]]),[p,g]=it.applyTransform([0,0],f);a.drawImage(h.canvas,p,g)}a.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,s=this.current.fillColor,i=this.current.patternFill;for(const r of t){const{data:o,width:a,height:c,transform:h}=r,u=this.cachedCanvases.getCanvas("maskCanvas",a,c),d=u.context;d.save();const f=this.getObject(o,r);I_(d,f),d.globalCompositeOperation="source-in",d.fillStyle=i?s.getPattern(d,this,$n(e),He.FILL):s,d.fillRect(0,0,a,c),d.restore(),e.save(),e.transform(...h),e.scale(1,-1),gu(e,u.canvas,0,0,a,c,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){vt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,s,i){if(!this.contentVisible)return;const r=this.getObject(t);if(!r){vt("Dependent image isn't ready yet");return}const o=r.width,a=r.height,c=[];for(let h=0,u=i.length;h<u;h+=2)c.push({transform:[e,0,0,s,i[h],i[h+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(r,c)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:s,height:i}=t,r=this.cachedCanvases.getCanvas("inlineImage",s,i),o=r.context;return o.filter=this.current.transferMaps,o.drawImage(e,0,0),o.filter="none",r.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,s=t.height,i=this.ctx;if(this.save(),!Oe){const{filter:a}=i;a!=="none"&&a!==""&&(i.filter="none")}i.scale(1/e,-1/s);let r;if(t.bitmap)r=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)r=t;else{const c=this.cachedCanvases.getCanvas("inlineImage",e,s).context;F_(c,t),r=this.applyTransferMapsToCanvas(c)}const o=this._scaleImage(r,$n(i));i.imageSmoothingEnabled=O_(Qt(i),t.interpolate),gu(i,o.img,0,0,o.paintWidth,o.paintHeight,0,-s,e,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const s=this.ctx;let i;if(t.bitmap)i=t.bitmap;else{const r=t.width,o=t.height,c=this.cachedCanvases.getCanvas("inlineImage",r,o).context;F_(c,t),i=this.applyTransferMapsToCanvas(c)}for(const r of e)s.save(),s.transform(...r.transform),s.scale(1,-1),gu(s,i,r.x,r.y,r.w,r.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const s=this.ctx;this.pendingClip&&(e||(this.pendingClip===N_?s.clip("evenodd"):s.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),s.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Qt(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),s=Math.hypot(t[0],t[2]),i=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(s,i)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:s,c:i,d:r}=this.ctx.getTransform();let o,a;if(s===0&&i===0){const c=Math.abs(e),h=Math.abs(r);if(c===h)if(t===0)o=a=1/c;else{const u=c*t;o=a=u<1?1/u:1}else if(t===0)o=1/c,a=1/h;else{const u=c*t,d=h*t;o=u<1?1/u:1,a=d<1?1/d:1}}else{const c=Math.abs(e*r-s*i),h=Math.hypot(e,s),u=Math.hypot(i,r);if(t===0)o=u/c,a=h/c;else{const d=t*c;o=u>d?u/d:1,a=h>d?h/d:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:s}=this.current,[i,r]=this.getScaleForStroking();if(e.lineWidth=s||1,i===1&&r===1){e.stroke();return}const o=e.getLineDash();if(t&&e.save(),e.scale(i,r),o.length>0){const a=Math.max(i,r);e.setLineDash(o.map(c=>c/a)),e.lineDashOffset/=a}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};_r=new WeakSet,Zp=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Jp=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let da=km;for(const n in Bs)da.prototype[n]!==void 0&&(da.prototype[Bs[n]]=da.prototype[n]);var Vl,Ul;class bi{static get workerPort(){return l(this,Vl)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");_(this,Vl,t)}static get workerSrc(){return l(this,Ul)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");_(this,Ul,t)}}Vl=new WeakMap,Ul=new WeakMap,y(bi,Vl,null),y(bi,Ul,"");const bu={UNKNOWN:0,DATA:1,ERROR:2},re={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function rs(n){switch(n instanceof Error||typeof n=="object"&&n!==null||$t('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Go(n.message);case"MissingPDFException":return new Uo(n.message);case"PasswordException":return new xp(n.message,n.code);case"UnexpectedResponseException":return new gf(n.message,n.status);case"UnknownErrorException":return new Ep(n.message,n.details);default:return new Ep(n.message,n.toString())}}var Rn,Sy,Ty,Iu;class Fc{constructor(t,e,s){y(this,Rn);this.sourceName=t,this.targetName=e,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=i=>{const r=i.data;if(r.targetName!==this.sourceName)return;if(r.stream){v(this,Rn,Ty).call(this,r);return}if(r.callback){const a=r.callbackId,c=this.callbackCapabilities[a];if(!c)throw new Error(`Cannot resolve callback ${a}`);if(delete this.callbackCapabilities[a],r.callback===bu.DATA)c.resolve(r.data);else if(r.callback===bu.ERROR)c.reject(rs(r.reason));else throw new Error("Unexpected callback case");return}const o=this.actionHandler[r.action];if(!o)throw new Error(`Unknown action from worker: ${r.action}`);if(r.callbackId){const a=this.sourceName,c=r.sourceName;new Promise(function(h){h(o(r.data))}).then(function(h){s.postMessage({sourceName:a,targetName:c,callback:bu.DATA,callbackId:r.callbackId,data:h})},function(h){s.postMessage({sourceName:a,targetName:c,callback:bu.ERROR,callbackId:r.callbackId,reason:rs(h)})});return}if(r.streamId){v(this,Rn,Sy).call(this,r);return}o(r.data)},s.addEventListener("message",this._onComObjOnMessage)}on(t,e){const s=this.actionHandler;if(s[t])throw new Error(`There is already an actionName called "${t}"`);s[t]=e}send(t,e,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},s)}sendWithPromise(t,e,s){const i=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[i]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:e},s)}catch(o){r.reject(o)}return r.promise}sendWithStream(t,e,s,i){const r=this.streamId++,o=this.sourceName,a=this.targetName,c=this.comObj;return new ReadableStream({start:h=>{const u=Promise.withResolvers();return this.streamControllers[r]={controller:h,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:o,targetName:a,action:t,streamId:r,data:e,desiredSize:h.desiredSize},i),u.promise},pull:h=>{const u=Promise.withResolvers();return this.streamControllers[r].pullCall=u,c.postMessage({sourceName:o,targetName:a,stream:re.PULL,streamId:r,desiredSize:h.desiredSize}),u.promise},cancel:h=>{fe(h instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[r].cancelCall=u,this.streamControllers[r].isClosed=!0,c.postMessage({sourceName:o,targetName:a,stream:re.CANCEL,streamId:r,reason:rs(h)}),u.promise}},s)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}Rn=new WeakSet,Sy=function(t){const e=t.streamId,s=this.sourceName,i=t.sourceName,r=this.comObj,o=this,a=this.actionHandler[t.action],c={enqueue(h,u=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=u,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:s,targetName:i,stream:re.ENQUEUE,streamId:e,chunk:h},d)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:s,targetName:i,stream:re.CLOSE,streamId:e}),delete o.streamSinks[e])},error(h){fe(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:s,targetName:i,stream:re.ERROR,streamId:e,reason:rs(h)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[e]=c,new Promise(function(h){h(a(t.data,c))}).then(function(){r.postMessage({sourceName:s,targetName:i,stream:re.START_COMPLETE,streamId:e,success:!0})},function(h){r.postMessage({sourceName:s,targetName:i,stream:re.START_COMPLETE,streamId:e,reason:rs(h)})})},Ty=function(t){const e=t.streamId,s=this.sourceName,i=t.sourceName,r=this.comObj,o=this.streamControllers[e],a=this.streamSinks[e];switch(t.stream){case re.START_COMPLETE:t.success?o.startCall.resolve():o.startCall.reject(rs(t.reason));break;case re.PULL_COMPLETE:t.success?o.pullCall.resolve():o.pullCall.reject(rs(t.reason));break;case re.PULL:if(!a){r.postMessage({sourceName:s,targetName:i,stream:re.PULL_COMPLETE,streamId:e,success:!0});break}a.desiredSize<=0&&t.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=t.desiredSize,new Promise(function(c){var h;c((h=a.onPull)==null?void 0:h.call(a))}).then(function(){r.postMessage({sourceName:s,targetName:i,stream:re.PULL_COMPLETE,streamId:e,success:!0})},function(c){r.postMessage({sourceName:s,targetName:i,stream:re.PULL_COMPLETE,streamId:e,reason:rs(c)})});break;case re.ENQUEUE:if(fe(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(t.chunk);break;case re.CLOSE:if(fe(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),v(this,Rn,Iu).call(this,o,e);break;case re.ERROR:fe(o,"error should have stream controller"),o.controller.error(rs(t.reason)),v(this,Rn,Iu).call(this,o,e);break;case re.CANCEL_COMPLETE:t.success?o.cancelCall.resolve():o.cancelCall.reject(rs(t.reason)),v(this,Rn,Iu).call(this,o,e);break;case re.CANCEL:if(!a)break;new Promise(function(c){var h;c((h=a.onCancel)==null?void 0:h.call(a,rs(t.reason)))}).then(function(){r.postMessage({sourceName:s,targetName:i,stream:re.CANCEL_COMPLETE,streamId:e,success:!0})},function(c){r.postMessage({sourceName:s,targetName:i,stream:re.CANCEL_COMPLETE,streamId:e,reason:rs(c)})}),a.sinkCapability.reject(rs(t.reason)),a.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},Iu=async function(t,e){var s,i,r;await Promise.allSettled([(s=t.startCall)==null?void 0:s.promise,(i=t.pullCall)==null?void 0:i.promise,(r=t.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[e]};var so,Gl;class ect{constructor({parsedData:t,rawData:e}){y(this,so);y(this,Gl);_(this,so,t),_(this,Gl,e)}getRaw(){return l(this,Gl)}get(t){return l(this,so).get(t)??null}getAll(){return gm(l(this,so))}has(t){return l(this,so).has(t)}}so=new WeakMap,Gl=new WeakMap;const Mi=Symbol("INTERNAL");var Wl,Kl,Xl,Sa;class sct{constructor(t,{name:e,intent:s,usage:i}){y(this,Wl,!1);y(this,Kl,!1);y(this,Xl,!1);y(this,Sa,!0);_(this,Wl,!!(t&gs.DISPLAY)),_(this,Kl,!!(t&gs.PRINT)),this.name=e,this.intent=s,this.usage=i}get visible(){if(l(this,Xl))return l(this,Sa);if(!l(this,Sa))return!1;const{print:t,view:e}=this.usage;return l(this,Wl)?(e==null?void 0:e.viewState)!=="OFF":l(this,Kl)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,s=!1){t!==Mi&&$t("Internal method `_setVisible` called."),_(this,Xl,s),_(this,Sa,e)}}Wl=new WeakMap,Kl=new WeakMap,Xl=new WeakMap,Sa=new WeakMap;var Wi,qt,Ta,Ra,Yl,Qp;class nct{constructor(t,e=gs.DISPLAY){y(this,Yl);y(this,Wi,null);y(this,qt,new Map);y(this,Ta,null);y(this,Ra,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,_(this,Ra,t.order);for(const s of t.groups)l(this,qt).set(s.id,new sct(e,s));if(t.baseState==="OFF")for(const s of l(this,qt).values())s._setVisible(Mi,!1);for(const s of t.on)l(this,qt).get(s)._setVisible(Mi,!0);for(const s of t.off)l(this,qt).get(s)._setVisible(Mi,!1);_(this,Ta,this.getHash())}}isVisible(t){if(l(this,qt).size===0)return!0;if(!t)return pf("Optional content group not defined."),!0;if(t.type==="OCG")return l(this,qt).has(t.id)?l(this,qt).get(t.id).visible:(vt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return v(this,Yl,Qp).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!l(this,qt).has(e))return vt(`Optional content group not found: ${e}`),!0;if(l(this,qt).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!l(this,qt).has(e))return vt(`Optional content group not found: ${e}`),!0;if(!l(this,qt).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!l(this,qt).has(e))return vt(`Optional content group not found: ${e}`),!0;if(!l(this,qt).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!l(this,qt).has(e))return vt(`Optional content group not found: ${e}`),!0;if(l(this,qt).get(e).visible)return!1}return!0}return vt(`Unknown optional content policy ${t.policy}.`),!0}return vt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0){const s=l(this,qt).get(t);if(!s){vt(`Optional content group not found: ${t}`);return}s._setVisible(Mi,!!e,!0),_(this,Wi,null)}setOCGState({state:t,preserveRB:e}){let s;for(const i of t){switch(i){case"ON":case"OFF":case"Toggle":s=i;continue}const r=l(this,qt).get(i);if(r)switch(s){case"ON":r._setVisible(Mi,!0);break;case"OFF":r._setVisible(Mi,!1);break;case"Toggle":r._setVisible(Mi,!r.visible);break}}_(this,Wi,null)}get hasInitialVisibility(){return l(this,Ta)===null||this.getHash()===l(this,Ta)}getOrder(){return l(this,qt).size?l(this,Ra)?l(this,Ra).slice():[...l(this,qt).keys()]:null}getGroups(){return l(this,qt).size>0?gm(l(this,qt)):null}getGroup(t){return l(this,qt).get(t)||null}getHash(){if(l(this,Wi)!==null)return l(this,Wi);const t=new xy;for(const[e,s]of l(this,qt))t.update(`${e}:${s.visible}`);return _(this,Wi,t.hexdigest())}}Wi=new WeakMap,qt=new WeakMap,Ta=new WeakMap,Ra=new WeakMap,Yl=new WeakSet,Qp=function(t){const e=t.length;if(e<2)return!0;const s=t[0];for(let i=1;i<e;i++){const r=t[i];let o;if(Array.isArray(r))o=v(this,Yl,Qp).call(this,r);else if(l(this,qt).has(r))o=l(this,qt).get(r).visible;else return vt(`Optional content group not found: ${r}`),!0;switch(s){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return s==="And"};class ict{constructor(t,{disableRange:e=!1,disableStream:s=!1}){fe(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:r,progressiveDone:o,contentDispositionFilename:a}=t;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(r==null?void 0:r.length)>0){const c=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!s,this._isRangeSupported=!e,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((c,h)=>{this._onReceiveData({begin:c,chunk:h})}),t.addProgressListener((c,h)=>{this._onProgress({loaded:c,total:h})}),t.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const s=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const i=this._rangeReaders.some(function(r){return r._begin!==t?!1:(r._enqueue(s),!0)});fe(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,s,i,r;t.total===void 0?(s=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||s.call(e,{loaded:t.loaded}):(r=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||r.call(i,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){fe(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new rct(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new oct(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeReaders.slice(0))s.cancel(t);this._pdfDataRangeTransport.abort()}}class rct{constructor(t,e,s=!1,i=null){this._stream=t,this._done=s||!1,this._filename=vm(i)?i:null,this._queuedChunks=e||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class oct{constructor(t,e,s){this._stream=t,this._begin=e,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function act(n){let t=!0,e=s("filename\\*","i").exec(n);if(e){e=e[1];let u=a(e);return u=unescape(u),u=c(u),u=h(u),r(u)}if(e=o(n),e){const u=h(e);return r(u)}if(e=s("filename","i").exec(n),e){e=e[1];let u=a(e);return u=h(u),r(u)}function s(u,d){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(u,d){if(u){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(u,{fatal:!0}),p=mf(d);d=f.decode(p),t=!1}catch{}}return d}function r(u){return t&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),t&&(u=i("iso-8859-1",u))),u}function o(u){const d=[];let f;const p=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(u))!==null;){let[,m,A,b]=f;if(m=parseInt(m,10),m in d){if(m===0)break;continue}d[m]=[A,b]}const g=[];for(let m=0;m<d.length&&m in d;++m){let[A,b]=d[m];b=a(b),A&&(b=unescape(b),m===0&&(b=c(b))),g.push(b)}return g.join("")}function a(u){if(u.startsWith('"')){const d=u.slice(1).split('\\"');for(let f=0;f<d.length;++f){const p=d[f].indexOf('"');p!==-1&&(d[f]=d[f].slice(0,p),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}u=d.join('"')}return u}function c(u){const d=u.indexOf("'");if(d===-1)return u;const f=u.slice(0,d),g=u.slice(d+1).replace(/^[^']*'/,"");return i(f,g)}function h(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,p,g){if(p==="q"||p==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(m,A){return String.fromCharCode(parseInt(A,16))}),i(f,g);try{g=atob(g)}catch{}return i(f,g)})}return""}function wm({getResponseHeader:n,isHttp:t,rangeChunkSize:e,disableRange:s}){const i={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(n("Content-Length"),10);return!Number.isInteger(r)||(i.suggestedLength=r,r<=2*e)||s||!t||n("Accept-Ranges")!=="bytes"||(n("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function xm(n){const t=n("Content-Disposition");if(t){let e=act(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(vm(e))return e}return null}function wf(n,t){return n===404||n===0&&t.startsWith("file:")?new Uo('Missing PDF "'+t+'".'):new gf(`Unexpected server response (${n}) while retrieving PDF "${t}".`,n)}function Ry(n){return n===200||n===206}function Dy(n,t,e){return{method:"GET",headers:n,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Py(n){const t=new Headers;for(const e in n){const s=n[e];s!==void 0&&t.append(e,s)}return t}function Ly(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(vt(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class q_{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return fe(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new cct(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=new lct(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class cct{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._headers=Py(this._stream.httpHeaders);const s=e.url;fetch(s,Dy(this._headers,this._withCredentials,this._abortController)).then(i=>{if(!Ry(i.status))throw wf(i.status,s);this._reader=i.body.getReader(),this._headersCapability.resolve();const r=c=>i.headers.get(c),{allowRangeRequests:o,suggestedLength:a}=wm({getResponseHeader:r,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=a||this._contentLength,this._filename=xm(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Go("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Ly(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class lct{constructor(t,e,s){this._stream=t,this._reader=null,this._loaded=0;const i=t.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController,this._headers=Py(this._stream.httpHeaders),this._headers.append("Range",`bytes=${e}-${s-1}`);const r=i.url;fetch(r,Dy(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!Ry(o.status))throw wf(o.status,r);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:Ly(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const tp=200,ep=206;function hct(n){const t=n.response;return typeof t!="string"?t:mf(t).buffer}class uct{constructor(t,e={}){this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&e.httpHeaders||Object.create(null),this.withCredentials=e.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,s){const i={begin:t,end:e};for(const r in s)i[r]=s[r];return this.request(i)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,s=this.currXhrId++,i=this.pendingRequests[s]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const r in this.httpHeaders){const o=this.httpHeaders[r];o!==void 0&&e.setRequestHeader(r,o)}return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),i.expectedStatus=ep):i.expectedStatus=tp,e.responseType="arraybuffer",t.onError&&(e.onerror=function(r){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,s),e.onprogress=this.onProgress.bind(this,s),i.onHeadersReceived=t.onHeadersReceived,i.onDone=t.onDone,i.onError=t.onError,i.onProgress=t.onProgress,e.send(null),s}onProgress(t,e){var i;const s=this.pendingRequests[t];s&&((i=s.onProgress)==null||i.call(s,e))}onStateChange(t,e){var c,h,u;const s=this.pendingRequests[t];if(!s)return;const i=s.xhr;if(i.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),i.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],i.status===0&&this.isHttp){(c=s.onError)==null||c.call(s,i.status);return}const r=i.status||tp;if(!(r===tp&&s.expectedStatus===ep)&&r!==s.expectedStatus){(h=s.onError)==null||h.call(s,i.status);return}const a=hct(i);if(r===ep){const d=i.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);s.onDone({begin:parseInt(f[1],10),chunk:a})}else a?s.onDone({begin:0,chunk:a}):(u=s.onError)==null||u.call(s,i.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class dct{constructor(t){this._source=t,this._manager=new uct(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return fe(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new fct(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const s=new pct(this._manager,t,e);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class fct{constructor(t,e){this._manager=t;const s={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(s),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),s=o=>e.getResponseHeader(o),{allowRangeRequests:i,suggestedLength:r}=wm({getResponseHeader:s,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});i&&(this._isRangeSupported=!0),this._contentLength=r||this._contentLength,this._filename=xm(s),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=wf(t,this._url),this._headersReceivedCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersReceivedCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class pct{constructor(t,e,s){this._manager=t;const i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,s,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=wf(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const My=/^file:\/\/\/[a-zA-Z]:\//;function gct(n){const t=Ln.get("url"),e=t.parse(n);return e.protocol==="file:"||e.host?e:/^[a-z]:[/\\]/i.test(n)?t.parse(`file:///${n}`):(e.host||(e.protocol="file:"),e)}class mct{constructor(t){this.source=t,this.url=gct(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return fe(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new vct(this):new bct(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const s=this.isFsUrl?new yct(this,t,e):new _ct(this,t,e);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class Fy{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Go("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Iy{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function gd(n,t){return{protocol:n.protocol,auth:n.auth,host:n.hostname,port:n.port,path:n.path,method:"GET",headers:t}}class bct extends Fy{constructor(t){super(t);const e=s=>{if(s.statusCode===404){const a=new Uo(`Missing PDF "${this._url}".`);this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(s);const i=a=>this._readableStream.headers[a.toLowerCase()],{allowRangeRequests:r,suggestedLength:o}=wm({getResponseHeader:i,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=o||this._contentLength,this._filename=xm(i)};if(this._request=null,this._url.protocol==="http:"){const s=Ln.get("http");this._request=s.request(gd(this._url,t.httpHeaders),e)}else{const s=Ln.get("https");this._request=s.request(gd(this._url,t.httpHeaders),e)}this._request.on("error",s=>{this._storedError=s,this._headersCapability.reject(s)}),this._request.end()}}class _ct extends Iy{constructor(t,e,s){super(t),this._httpHeaders={};for(const r in t.httpHeaders){const o=t.httpHeaders[r];o!==void 0&&(this._httpHeaders[r]=o)}this._httpHeaders.Range=`bytes=${e}-${s-1}`;const i=r=>{if(r.statusCode===404){const o=new Uo(`Missing PDF "${this._url}".`);this._storedError=o;return}this._setReadableStream(r)};if(this._request=null,this._url.protocol==="http:"){const r=Ln.get("http");this._request=r.request(gd(this._url,this._httpHeaders),i)}else{const r=Ln.get("https");this._request=r.request(gd(this._url,this._httpHeaders),i)}this._request.on("error",r=>{this._storedError=r}),this._request.end()}}class vct extends Fy{constructor(t){super(t);let e=decodeURIComponent(this._url.path);My.test(this._url.href)&&(e=e.replace(/^\//,""));const s=Ln.get("fs");s.promises.lstat(e).then(i=>{this._contentLength=i.size,this._setReadableStream(s.createReadStream(e)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new Uo(`Missing PDF "${e}".`)),this._storedError=i,this._headersCapability.reject(i)})}}class yct extends Iy{constructor(t,e,s){super(t);let i=decodeURIComponent(this._url.path);My.test(this._url.href)&&(i=i.replace(/^\//,""));const r=Ln.get("fs");this._setReadableStream(r.createReadStream(i,{start:e,end:s-1}))}}const Act=1e5,Ge=30,wct=.8;var j_,Ki,Ke,Zl,Jl,no,ti,Ql,th,io,Da,Pa,Xi,La,eh,Ma,ro,sh,nh,oo,ao,Yi,Fa,xi,Oy,Ny,tg,Dn,Ou,qy,$y;const De=class De{constructor({textContentSource:t,container:e,viewport:s}){y(this,xi);y(this,Ki,Promise.withResolvers());y(this,Ke,null);y(this,Zl,!1);y(this,Jl,!!((j_=globalThis.FontInspector)!=null&&j_.enabled));y(this,no,null);y(this,ti,null);y(this,Ql,0);y(this,th,0);y(this,io,null);y(this,Da,null);y(this,Pa,0);y(this,Xi,0);y(this,La,Object.create(null));y(this,eh,[]);y(this,Ma,null);y(this,ro,[]);y(this,sh,new WeakMap);y(this,nh,null);var c;if(t instanceof ReadableStream)_(this,Ma,t);else if(typeof t=="object")_(this,Ma,new ReadableStream({start(h){h.enqueue(t),h.close()}}));else throw new Error('No "textContentSource" parameter specified.');_(this,Ke,_(this,Da,e)),_(this,Xi,s.scale*(globalThis.devicePixelRatio||1)),_(this,Pa,s.rotation),_(this,ti,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:r,pageX:o,pageY:a}=s.rawDims;_(this,nh,[1,0,0,-1,-o,a+r]),_(this,th,i),_(this,Ql,r),v(c=De,Dn,qy).call(c),$o(e,s),l(this,Ki).promise.catch(()=>{}).then(()=>{l(De,Fa).delete(this),_(this,ti,null),_(this,La,null)})}render(){const t=()=>{l(this,io).read().then(({value:e,done:s})=>{if(s){l(this,Ki).resolve();return}l(this,no)??_(this,no,e.lang),Object.assign(l(this,La),e.styles),v(this,xi,Oy).call(this,e.items),t()},l(this,Ki).reject)};return _(this,io,l(this,Ma).getReader()),l(De,Fa).add(this),t(),l(this,Ki).promise}update({viewport:t,onBefore:e=null}){var r;const s=t.scale*(globalThis.devicePixelRatio||1),i=t.rotation;if(i!==l(this,Pa)&&(e==null||e(),_(this,Pa,i),$o(l(this,Da),{rotation:i})),s!==l(this,Xi)){e==null||e(),_(this,Xi,s);const o={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:v(r=De,Dn,Ou).call(r,l(this,no))};for(const a of l(this,ro))o.properties=l(this,sh).get(a),o.div=a,v(this,xi,tg).call(this,o)}}cancel(){var e;const t=new Go("TextLayer task cancelled.");(e=l(this,io))==null||e.cancel(t).catch(()=>{}),_(this,io,null),l(this,Ki).reject(t)}get textDivs(){return l(this,ro)}get textContentItemsStr(){return l(this,eh)}static cleanup(){if(!(l(this,Fa).size>0)){l(this,oo).clear();for(const{canvas:t}of l(this,ao).values())t.remove();l(this,ao).clear()}}};Ki=new WeakMap,Ke=new WeakMap,Zl=new WeakMap,Jl=new WeakMap,no=new WeakMap,ti=new WeakMap,Ql=new WeakMap,th=new WeakMap,io=new WeakMap,Da=new WeakMap,Pa=new WeakMap,Xi=new WeakMap,La=new WeakMap,eh=new WeakMap,Ma=new WeakMap,ro=new WeakMap,sh=new WeakMap,nh=new WeakMap,oo=new WeakMap,ao=new WeakMap,Yi=new WeakMap,Fa=new WeakMap,xi=new WeakSet,Oy=function(t){var i,r;if(l(this,Zl))return;(r=l(this,ti)).ctx??(r.ctx=v(i=De,Dn,Ou).call(i,l(this,no)));const e=l(this,ro),s=l(this,eh);for(const o of t){if(e.length>Act){vt("Ignoring additional textDivs for performance reasons."),_(this,Zl,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=l(this,Ke);_(this,Ke,document.createElement("span")),l(this,Ke).classList.add("markedContent"),o.id!==null&&l(this,Ke).setAttribute("id",`${o.id}`),a.append(l(this,Ke))}else o.type==="endMarkedContent"&&_(this,Ke,l(this,Ke).parentNode);continue}s.push(o.str),v(this,xi,Ny).call(this,o)}},Ny=function(t){var m;const e=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};l(this,ro).push(e);const i=it.transform(l(this,nh),t.transform);let r=Math.atan2(i[1],i[0]);const o=l(this,La)[t.fontName];o.vertical&&(r+=Math.PI/2);const a=l(this,Jl)&&o.fontSubstitution||o.fontFamily,c=Math.hypot(i[2],i[3]),h=c*v(m=De,Dn,$y).call(m,a,l(this,no));let u,d;r===0?(u=i[4],d=i[5]-h):(u=i[4]+h*Math.sin(r),d=i[5]-h*Math.cos(r));const f="calc(var(--scale-factor)*",p=e.style;l(this,Ke)===l(this,Da)?(p.left=`${(100*u/l(this,th)).toFixed(2)}%`,p.top=`${(100*d/l(this,Ql)).toFixed(2)}%`):(p.left=`${f}${u.toFixed(2)}px)`,p.top=`${f}${d.toFixed(2)}px)`),p.fontSize=`${f}${(l(De,Yi)*c).toFixed(2)}px)`,p.fontFamily=a,s.fontSize=c,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,l(this,Jl)&&(e.dataset.fontName=o.fontSubstitutionLoadedName||t.fontName),r!==0&&(s.angle=r*(180/Math.PI));let g=!1;if(t.str.length>1)g=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const A=Math.abs(t.transform[0]),b=Math.abs(t.transform[3]);A!==b&&Math.max(A,b)/Math.min(A,b)>1.5&&(g=!0)}if(g&&(s.canvasWidth=o.vertical?t.height:t.width),l(this,sh).set(e,s),l(this,ti).div=e,l(this,ti).properties=s,v(this,xi,tg).call(this,l(this,ti)),s.hasText&&l(this,Ke).append(e),s.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),l(this,Ke).append(A)}},tg=function(t){const{div:e,properties:s,ctx:i,prevFontSize:r,prevFontFamily:o}=t,{style:a}=e;let c="";if(l(De,Yi)>1&&(c=`scale(${1/l(De,Yi)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:h}=a,{canvasWidth:u,fontSize:d}=s;(r!==d||o!==h)&&(i.font=`${d*l(this,Xi)}px ${h}`,t.prevFontSize=d,t.prevFontFamily=h);const{width:f}=i.measureText(e.textContent);f>0&&(c=`scaleX(${u*l(this,Xi)/f}) ${c}`)}s.angle!==0&&(c=`rotate(${s.angle}deg) ${c}`),c.length>0&&(a.transform=c)},Dn=new WeakSet,Ou=function(t=null){let e=l(this,ao).get(t||(t=""));if(!e){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=t,document.body.append(s),e=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),l(this,ao).set(t,e)}return e},qy=function(){if(l(this,Yi)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),_(this,Yi,t.getBoundingClientRect().height),t.remove()},$y=function(t,e){const s=l(this,oo).get(t);if(s)return s;const i=v(this,Dn,Ou).call(this,e),r=i.font;i.canvas.width=i.canvas.height=Ge,i.font=`${Ge}px ${t}`;const o=i.measureText("");let a=o.fontBoundingBoxAscent,c=Math.abs(o.fontBoundingBoxDescent);if(a){const d=a/(a+c);return l(this,oo).set(t,d),i.canvas.width=i.canvas.height=0,i.font=r,d}i.strokeStyle="red",i.clearRect(0,0,Ge,Ge),i.strokeText("g",0,0);let h=i.getImageData(0,0,Ge,Ge).data;c=0;for(let d=h.length-1-3;d>=0;d-=4)if(h[d]>0){c=Math.ceil(d/4/Ge);break}i.clearRect(0,0,Ge,Ge),i.strokeText("A",0,Ge),h=i.getImageData(0,0,Ge,Ge).data,a=0;for(let d=0,f=h.length;d<f;d+=4)if(h[d]>0){a=Ge-Math.floor(d/4/Ge);break}i.canvas.width=i.canvas.height=0,i.font=r;const u=a?a/(a+c):wct;return l(this,oo).set(t,u),u},y(De,Dn),y(De,oo,new Map),y(De,ao,new Map),y(De,Yi,null),y(De,Fa,new Set);let dl=De;class fl{static textContent(t){const e=[],s={items:e,styles:Object.create(null)};function i(r){var c;if(!r)return;let o=null;const a=r.name;if(a==="#text")o=r.value;else if(fl.shouldBuildText(a))(c=r==null?void 0:r.attributes)!=null&&c.textContent?o=r.attributes.textContent:r.value&&(o=r.value);else return;if(o!==null&&e.push({str:o}),!!r.children)for(const h of r.children)i(h)}return i(t),s}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const xct=65536,Ect=100,Cct=5e3,kct=Oe?$at:kat,Sct=Oe?Bat:Y0,Tct=Oe?qat:Cat,Rct=Oe?Hat:Z0;function Dct(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const t=new eg,{docId:e}=t,s=n.url?Pct(n.url):null,i=n.data?Lct(n.data):null,r=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,c=n.range instanceof By?n.range:null,h=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:xct;let u=n.worker instanceof fa?n.worker:null;const d=n.verbosity,f=typeof n.docBaseUrl=="string"&&!Af(n.docBaseUrl)?n.docBaseUrl:null,p=typeof n.cMapUrl=="string"?n.cMapUrl:null,g=n.cMapPacked!==!1,m=n.CMapReaderFactory||Sct,A=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,b=n.StandardFontDataFactory||Rct,w=n.stopAtErrors!==!0,C=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,k=n.isEvalSupported!==!1,R=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Oe,E=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,L=typeof n.disableFontFace=="boolean"?n.disableFontFace:Oe,M=n.fontExtraProperties===!0,U=n.enableXfa===!0,N=n.ownerDocument||globalThis.document,B=n.disableRange===!0,H=n.disableStream===!0,nt=n.disableAutoFetch===!0,I=n.pdfBug===!0,ot=n.enableHWA===!0,tt=c?c.length:n.length??NaN,V=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Oe&&!L,Z=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:m===Y0&&b===Z0&&p&&A&&Pc(p,document.baseURI)&&Pc(A,document.baseURI),Ue=n.canvasFactory||new kct({ownerDocument:N,enableHWA:ot}),ss=n.filterFactory||new Tct({docId:e,ownerDocument:N}),Ne=null;pat(d);const Pt={canvasFactory:Ue,filterFactory:ss};if(Z||(Pt.cMapReaderFactory=new m({baseUrl:p,isCompressed:g}),Pt.standardFontDataFactory=new b({baseUrl:A})),!u){const vs={verbosity:d,port:bi.workerPort};u=vs.port?fa.fromPort(vs):new fa(vs),t._worker=u}const Xt={docId:e,apiVersion:"4.5.136",data:i,password:a,disableAutoFetch:nt,rangeChunkSize:h,length:tt,docBaseUrl:f,enableXfa:U,evaluatorOptions:{maxImageSize:C,disableFontFace:L,ignoreErrors:w,isEvalSupported:k,isOffscreenCanvasSupported:R,canvasMaxAreaInBytes:E,fontExtraProperties:M,useSystemFonts:V,cMapUrl:Z?p:null,standardFontDataUrl:Z?A:null}},Ms={disableFontFace:L,fontExtraProperties:M,ownerDocument:N,pdfBug:I,styleElement:Ne,loadingParams:{disableAutoFetch:nt,enableXfa:U}};return u.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const vs=u.messageHandler.sendWithPromise("GetDocRequest",Xt,i?[i.buffer]:null);let Gt;if(c)Gt=new ict(c,{disableRange:B,disableStream:H});else if(!i){if(!s)throw new Error("getDocument - no `url` parameter provided.");Gt=(K=>Oe?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&Pc(K.url)?new q_(K):new mct(K):Pc(K.url)?new q_(K):new dct(K))({url:s,length:tt,httpHeaders:r,withCredentials:o,rangeChunkSize:h,disableRange:B,disableStream:H})}return vs.then(P=>{if(t.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const K=new Fc(e,P,u.port),Y=new Oct(K,t,Gt,Ms,Pt);t._transport=Y,K.send("Ready",null)})}).catch(t._capability.reject),t}function Pct(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(Oe&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Lct(n){if(Oe&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return mf(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function $_(n){return typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0}var Dd;const Pd=class Pd{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${is(Pd,Dd)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,s;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(i){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,i}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Dd=new WeakMap,y(Pd,Dd,0);let eg=Pd;class By{constructor(t,e,s=!1,i=null){this.length=t,this.initialData=e,this.progressiveDone=s,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const s of this._rangeListeners)s(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){$t("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Mct{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ct(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Zi,ei,ks,sa,Nu;class Fct{constructor(t,e,s,i=!1){y(this,ks);y(this,Zi,null);y(this,ei,!1);this._pageIndex=t,this._pageInfo=e,this._transport=s,this._stats=i?new C_:null,this._pdfBug=i,this.commonObjs=s.commonObjs,this.objs=new Hy,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:s=0,offsetY:i=0,dontFlip:r=!1}={}){return new Qh({viewBox:this.view,scale:t,rotation:e,offsetX:s,offsetY:i,dontFlip:r})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ct(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:s="display",annotationMode:i=Hi.ENABLE,transform:r=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:c=null,pageColors:h=null,printAnnotationStorage:u=null,isEditing:d=!1}){var k,R;(k=this._stats)==null||k.time("Overall");const f=this._transport.getRenderingIntent(s,i,u,d),{renderingIntent:p,cacheKey:g}=f;_(this,ei,!1),v(this,ks,Nu).call(this),a||(a=this._transport.getOptionalContentConfig(p));let m=this._intentStates.get(g);m||(m=Object.create(null),this._intentStates.set(g,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);const A=!!(p&gs.PRINT);m.displayReadyCapability||(m.displayReadyCapability=Promise.withResolvers(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(R=this._stats)==null||R.time("Page Request"),this._pumpOperatorList(f));const b=E=>{var L;m.renderTasks.delete(w),(this._maybeCleanupAfterRender||A)&&_(this,ei,!0),v(this,ks,sa).call(this,!A),E?(w.capability.reject(E),this._abortOperatorList({intentState:m,reason:E instanceof Error?E:new Error(E)})):w.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(L=globalThis.Stats)!=null&&L.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},w=new ng({callback:b,params:{canvasContext:t,viewport:e,transform:r,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!A,pdfBug:this._pdfBug,pageColors:h});(m.renderTasks||(m.renderTasks=new Set)).add(w);const C=w.task;return Promise.all([m.displayReadyCapability.promise,a]).then(([E,L])=>{var M;if(this.destroyed){b();return}if((M=this._stats)==null||M.time("Rendering"),!(L.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");w.initializeGraphics({transparency:E,optionalContentConfig:L}),w.operatorListChanged()}).catch(b),C}getOperatorList({intent:t="display",annotationMode:e=Hi.ENABLE,printAnnotationStorage:s=null,isEditing:i=!1}={}){var h;function r(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(c))}const o=this._transport.getRenderingIntent(t,e,s,i,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let c;return a.opListReadCapability||(c=Object.create(null),c.operatorListChanged=r,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(c),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(h=this._stats)==null||h.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>fl.textContent(s));const e=this.streamTextContent(t);return new Promise(function(s,i){function r(){o.read().then(function({value:c,done:h}){if(h){s(a);return}a.lang??(a.lang=c.lang),Object.assign(a.styles,c.styles),a.items.push(...c.items),r()},i)}const o=e.getReader(),a={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const s of e.renderTasks)t.push(s.completed),s.cancel();return this.objs.clear(),_(this,ei,!1),v(this,ks,Nu).call(this),Promise.all(t)}cleanup(t=!1){_(this,ei,!0);const e=v(this,ks,sa).call(this,!1);return t&&e&&this._stats&&(this._stats=new C_),e}_startRenderPage(t,e){var i,r;const s=this._intentStates.get(e);s&&((i=this._stats)==null||i.timeEnd("Page Request"),(r=s.displayReadyCapability)==null||r.resolve(t))}_renderPageChunk(t,e){for(let s=0,i=t.length;s<i;s++)e.operatorList.fnArray.push(t.fnArray[s]),e.operatorList.argsArray.push(t.argsArray[s]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const s of e.renderTasks)s.operatorListChanged();t.lastChunk&&v(this,ks,sa).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:s,modifiedIds:i}){const{map:r,transfer:o}=s,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:r,modifiedIds:i},o).getReader(),h=this._intentStates.get(e);h.streamReader=c;const u=()=>{c.read().then(({value:d,done:f})=>{if(f){h.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,h),u())},d=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;for(const f of h.renderTasks)f.operatorListChanged();v(this,ks,sa).call(this,!0)}if(h.displayReadyCapability)h.displayReadyCapability.reject(d);else if(h.opListReadCapability)h.opListReadCapability.reject(d);else throw d}})};u()}_abortOperatorList({intentState:t,reason:e,force:s=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!s){if(t.renderTasks.size>0)return;if(e instanceof _m){let i=Ect;e.extraDelay>0&&e.extraDelay<1e3&&(i+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},i);return}}if(t.streamReader.cancel(new Go(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[i,r]of this._intentStates)if(r===t){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Zi=new WeakMap,ei=new WeakMap,ks=new WeakSet,sa=function(t=!1){if(v(this,ks,Nu).call(this),!l(this,ei)||this.destroyed)return!1;if(t)return _(this,Zi,setTimeout(()=>{_(this,Zi,null),v(this,ks,sa).call(this,!1)},Cct)),!1;for(const{renderTasks:e,operatorList:s}of this._intentStates.values())if(e.size>0||!s.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),_(this,ei,!1),!0},Nu=function(){l(this,Zi)&&(clearTimeout(l(this,Zi)),_(this,Zi,null))};var co,Ld;class Ict{constructor(){y(this,co,new Set);y(this,Ld,Promise.resolve())}postMessage(t,e){const s={data:structuredClone(t,e?{transfer:e}:null)};l(this,Ld).then(()=>{for(const i of l(this,co))i.call(this,s)})}addEventListener(t,e){l(this,co).add(e)}removeEventListener(t,e){l(this,co).delete(e)}terminate(){l(this,co).clear()}}co=new WeakMap,Ld=new WeakMap;const Un={isWorkerDisabled:!1,fakeWorkerId:0};Oe&&(Un.isWorkerDisabled=!0,bi.workerSrc||(bi.workerSrc="./pdf.worker.mjs")),Un.isSameOrigin=function(n,t){let e;try{if(e=new URL(n),!e.origin||e.origin==="null")return!1}catch{return!1}const s=new URL(t,e);return e.origin===s.origin},Un.createCDNWrapper=function(n){const t=`await import("${n}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};var lo,Ia,qu,Oa,$u;const os=class os{constructor({name:t=null,port:e=null,verbosity:s=gat()}={}){y(this,Ia);var i;if(this.name=t,this.destroyed=!1,this.verbosity=s,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((i=l(os,lo))!=null&&i.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(l(os,lo)||_(os,lo,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return Oe?Promise.all([Ln.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new Fc("main","worker",t),this._messageHandler.on("ready",function(){}),v(this,Ia,qu).call(this)}_initialize(){if(Un.isWorkerDisabled||l(os,Oa,$u)){this._setupFakeWorker();return}let{workerSrc:t}=os;try{Un.isSameOrigin(window.location.href,t)||(t=Un.createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),s=new Fc("main","worker",e),i=()=>{r.abort(),s.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},r=new AbortController;e.addEventListener("error",()=>{this._webWorker||i()},{signal:r.signal}),s.on("test",a=>{if(r.abort(),this.destroyed||!a){i();return}this._messageHandler=s,this._port=e,this._webWorker=e,v(this,Ia,qu).call(this)}),s.on("ready",a=>{if(r.abort(),this.destroyed){i();return}try{o()}catch{this._setupFakeWorker()}});const o=()=>{const a=new Uint8Array;s.send("test",a,[a.buffer])};o();return}catch{pf("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Un.isWorkerDisabled||(vt("Setting up fake worker."),Un.isWorkerDisabled=!0),os._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new Ict;this._port=e;const s=`fake${Un.fakeWorkerId++}`,i=new Fc(s+"_worker",s,e);t.setup(i,e),this._messageHandler=new Fc(s,s+"_worker",e),v(this,Ia,qu).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=l(os,lo))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var s;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(s=l(this,lo))==null?void 0:s.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new os(t)}static get workerSrc(){if(bi.workerSrc)return bi.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ct(this,"_setupFakeWorkerGlobal",(async()=>l(this,Oa,$u)?l(this,Oa,$u):(await import(this.workerSrc)).WorkerMessageHandler)())}};lo=new WeakMap,Ia=new WeakSet,qu=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Oa=new WeakSet,$u=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},y(os,Oa),y(os,lo);let fa=os;var si,pn,Na,qa,gn,ho,Ic;class Oct{constructor(t,e,s,i,r){y(this,ho);y(this,si,new Map);y(this,pn,new Map);y(this,Na,new Map);y(this,qa,new Map);y(this,gn,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new Hy,this.fontLoader=new Oat({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ct(this,"annotationStorage",new Am)}getRenderingIntent(t,e=Hi.ENABLE,s=null,i=!1,r=!1){let o=gs.DISPLAY,a=Wp;switch(t){case"any":o=gs.ANY;break;case"display":break;case"print":o=gs.PRINT;break;default:vt(`getRenderingIntent - invalid intent: ${t}`)}const c=o&gs.PRINT&&s instanceof Cy?s:this.annotationStorage;switch(e){case Hi.DISABLE:o+=gs.ANNOTATIONS_DISABLE;break;case Hi.ENABLE:break;case Hi.ENABLE_FORMS:o+=gs.ANNOTATIONS_FORMS;break;case Hi.ENABLE_STORAGE:o+=gs.ANNOTATIONS_STORAGE,a=c.serializable;break;default:vt(`getRenderingIntent - invalid annotationMode: ${e}`)}i&&(o+=gs.IS_EDITING),r&&(o+=gs.OPLIST);const{ids:h,hash:u}=c.modifiedIds,d=[o,a.hash,u];return{renderingIntent:o,cacheKey:d.join("_"),annotationStorageSerializable:a,modifiedIds:h}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=l(this,gn))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of l(this,pn).values())t.push(i._destroy());l(this,pn).clear(),l(this,Na).clear(),l(this,qa).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var i;this.commonObjs.clear(),this.fontLoader.clear(),l(this,si).clear(),this.filterFactory.destroy(),dl.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Go("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(s,i)=>{fe(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},i.onPull=()=>{this._fullReader.read().then(function({value:r,done:o}){if(o){i.close();return}fe(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{i.error(r)})},i.onCancel=r=>{this._fullReader.cancel(r),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("ReaderHeadersReady",s=>{const i=Promise.withResolvers(),r=this._fullReader;return r.headersReady.then(()=>{var o;(!r.isStreamingSupported||!r.isRangeSupported)&&(this._lastProgress&&((o=e.onProgress)==null||o.call(e,this._lastProgress)),r.onProgress=a=>{var c;(c=e.onProgress)==null||c.call(e,{loaded:a.loaded,total:a.total})}),i.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})},i.reject),i.promise}),t.on("GetRangeReader",(s,i)=>{fe(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(s.begin,s.end);if(!r){i.close();return}i.onPull=()=>{r.read().then(function({value:o,done:a}){if(a){i.close();return}fe(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{r.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),t.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,e._capability.resolve(new Mct(s,this))}),t.on("DocException",function(s){let i;switch(s.name){case"PasswordException":i=new xp(s.message,s.code);break;case"InvalidPDFException":i=new G0(s.message);break;case"MissingPDFException":i=new Uo(s.message);break;case"UnexpectedResponseException":i=new gf(s.message,s.status);break;case"UnknownErrorException":i=new Ep(s.message,s.details);break;default:$t("DocException - expected a valid Error.")}e._capability.reject(i)}),t.on("PasswordRequest",s=>{if(_(this,gn,Promise.withResolvers()),e.onPassword){const i=r=>{r instanceof Error?l(this,gn).reject(r):l(this,gn).resolve({password:r})};try{e.onPassword(i,s.code)}catch(r){l(this,gn).reject(r)}}else l(this,gn).reject(new xp(s.message,s.code));return l(this,gn).promise}),t.on("DataLoaded",s=>{var i;(i=e.onProgress)==null||i.call(e,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),t.on("StartRenderPage",s=>{if(this.destroyed)return;l(this,pn).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),t.on("commonobj",([s,i,r])=>{var o;if(this.destroyed||this.commonObjs.has(s))return null;switch(i){case"Font":const{disableFontFace:a,fontExtraProperties:c,pdfBug:h}=this._params;if("error"in r){const p=r.error;vt(`Error during font loading: ${p}`),this.commonObjs.resolve(s,p);break}const u=h&&((o=globalThis.FontInspector)!=null&&o.enabled)?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,d=new Nat(r,{disableFontFace:a,inspectFont:u});this.fontLoader.bind(d).catch(()=>t.sendWithPromise("FontFallback",{id:s})).finally(()=>{!c&&d.data&&(d.data=null),this.commonObjs.resolve(s,d)});break;case"CopyLocalImage":const{imageRef:f}=r;fe(f,"The imageRef must be defined.");for(const p of l(this,pn).values())for(const[,g]of p.objs)if((g==null?void 0:g.ref)===f)return g.dataLen?(this.commonObjs.resolve(s,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,r);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),t.on("obj",([s,i,r,o])=>{var c;if(this.destroyed)return;const a=l(this,pn).get(i);if(!a.objs.has(s)){if(a._intentStates.size===0){(c=o==null?void 0:o.bitmap)==null||c.close();return}switch(r){case"Image":a.objs.resolve(s,o),(o==null?void 0:o.dataLen)>hat&&(a._maybeCleanupAfterRender=!0);break;case"Pattern":a.objs.resolve(s,o);break;default:throw new Error(`Got unknown object type ${r}`)}}}),t.on("DocProgress",s=>{var i;this.destroyed||(i=e.onProgress)==null||i.call(e,{loaded:s.loaded,total:s.total})}),t.on("FetchBuiltInCMap",s=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(s):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),t.on("FetchStandardFontData",s=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(s):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&vt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((s=this._fullReader)==null?void 0:s.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,s=l(this,Na).get(e);if(s)return s;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&l(this,qa).set(r.refStr,t);const o=new Fct(e,r,this,this._params.pdfBug);return l(this,pn).set(e,o),o});return l(this,Na).set(e,i),i}getPageIndex(t){return $_(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return v(this,ho,Ic).call(this,"GetFieldObjects")}hasJSActions(){return v(this,ho,Ic).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return v(this,ho,Ic).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return v(this,ho,Ic).call(this,"GetOptionalContentConfig").then(e=>new nct(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=l(this,si).get(t);if(e)return e;const s=this.messageHandler.sendWithPromise(t,null).then(i=>{var r,o;return{info:i[0],metadata:i[1]?new ect(i[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return l(this,si).set(t,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of l(this,pn).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),l(this,si).clear(),this.filterFactory.destroy(!0),dl.cleanup()}}cachedPageNumber(t){if(!$_(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return l(this,qa).get(e)??null}}si=new WeakMap,pn=new WeakMap,Na=new WeakMap,qa=new WeakMap,gn=new WeakMap,ho=new WeakSet,Ic=function(t,e=null){const s=l(this,si).get(t);if(s)return s;const i=this.messageHandler.sendWithPromise(t,e);return l(this,si).set(t,i),i};const _u=Symbol("INITIAL_DATA");var Gs,ih,sg;class Hy{constructor(){y(this,ih);y(this,Gs,Object.create(null))}get(t,e=null){if(e){const i=v(this,ih,sg).call(this,t);return i.promise.then(()=>e(i.data)),null}const s=l(this,Gs)[t];if(!s||s.data===_u)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return s.data}has(t){const e=l(this,Gs)[t];return!!e&&e.data!==_u}resolve(t,e=null){const s=v(this,ih,sg).call(this,t);s.data=e,s.resolve()}clear(){var t;for(const e in l(this,Gs)){const{data:s}=l(this,Gs)[e];(t=s==null?void 0:s.bitmap)==null||t.close()}_(this,Gs,Object.create(null))}*[Symbol.iterator](){for(const t in l(this,Gs)){const{data:e}=l(this,Gs)[t];e!==_u&&(yield[t,e])}}}Gs=new WeakMap,ih=new WeakSet,sg=function(t){var e;return(e=l(this,Gs))[t]||(e[t]={...Promise.withResolvers(),data:_u})};var Ji;class Nct{constructor(t){y(this,Ji,null);_(this,Ji,t),this.onContinue=null}get promise(){return l(this,Ji).capability.promise}cancel(t=0){l(this,Ji).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=l(this,Ji).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=l(this,Ji);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}Ji=new WeakMap;var Qi,uo;const Fr=class Fr{constructor({callback:t,params:e,objs:s,commonObjs:i,annotationCanvasMap:r,operatorList:o,pageIndex:a,canvasFactory:c,filterFactory:h,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:f=null}){y(this,Qi,null);this.callback=t,this.params=e,this.objs=s,this.commonObjs=i,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=c,this.filterFactory=h,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Nct(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var a,c;if(this.cancelled)return;if(this._canvas){if(l(Fr,uo).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");l(Fr,uo).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:i,transform:r,background:o}=this.params;this.gfx=new da(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:r,viewport:i,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(t=null,e=0){var s;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),l(this,Qi)&&(window.cancelAnimationFrame(l(this,Qi)),_(this,Qi,null)),l(Fr,uo).delete(this._canvas),this.callback(t||new _m(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?_(this,Qi,window.requestAnimationFrame(()=>{_(this,Qi,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),l(Fr,uo).delete(this._canvas),this.callback())))}};Qi=new WeakMap,uo=new WeakMap,y(Fr,uo,new WeakSet);let ng=Fr;const qct="4.5.136",$ct="3a21f03b0";function B_(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function kc(n){return Math.max(0,Math.min(255,255*n))}class H_{static CMYK_G([t,e,s,i]){return["G",1-Math.min(1,.3*t+.59*s+.11*e+i)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=kc(t),[t,t,t]}static G_HTML([t]){const e=B_(t);return`#${e}${e}${e}`}static RGB_G([t,e,s]){return["G",.3*t+.59*e+.11*s]}static RGB_rgb(t){return t.map(kc)}static RGB_HTML(t){return`#${t.map(B_).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,s,i]){return["RGB",1-Math.min(1,t+i),1-Math.min(1,s+i),1-Math.min(1,e+i)]}static CMYK_rgb([t,e,s,i]){return[kc(1-Math.min(1,t+i)),kc(1-Math.min(1,s+i)),kc(1-Math.min(1,e+i))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,s]){const i=1-t,r=1-e,o=1-s,a=Math.min(i,r,o);return["CMYK",i,r,o,a]}}class zy{static setupStorage(t,e,s,i,r){const o=i.getValue(e,{value:null});switch(s.name){case"textarea":if(o.value!==null&&(t.textContent=o.value),r==="print")break;t.addEventListener("input",a=>{i.setValue(e,{value:a.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(o.value===s.attributes.xfaOn?t.setAttribute("checked",!0):o.value===s.attributes.xfaOff&&t.removeAttribute("checked"),r==="print")break;t.addEventListener("change",a=>{i.setValue(e,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&t.setAttribute("value",o.value),r==="print")break;t.addEventListener("input",a=>{i.setValue(e,{value:a.target.value})})}break;case"select":if(o.value!==null){t.setAttribute("value",o.value);for(const a of s.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}t.addEventListener("input",a=>{const c=a.target.options,h=c.selectedIndex===-1?"":c[c.selectedIndex].value;i.setValue(e,{value:h})});break}}static setAttributes({html:t,element:e,storage:s=null,intent:i,linkService:r}){const{attributes:o}=e,a=t instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[c,h]of Object.entries(o))if(h!=null)switch(c){case"class":h.length&&t.setAttribute(c,h.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",h);break;case"style":Object.assign(t.style,h);break;case"textContent":t.textContent=h;break;default:(!a||c!=="href"&&c!=="newWindow")&&t.setAttribute(c,h)}a&&r.addLinkAttributes(t,o.href,o.newWindow),s&&o.dataId&&this.setupStorage(t,o.dataId,e,s)}static render(t){var d,f;const e=t.annotationStorage,s=t.linkService,i=t.xfaHtml,r=t.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:r,linkService:s});const a=r!=="richText",c=t.div;if(c.append(o),t.viewport){const p=`matrix(${t.viewport.transform.join(",")})`;c.style.transform=p}a&&c.setAttribute("class","xfaLayer xfaFont");const h=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);o.append(p),a&&fl.shouldBuildText(i.name)&&h.push(p)}return{textDivs:h}}const u=[[i,-1,o]];for(;u.length>0;){const[p,g,m]=u.at(-1);if(g+1===p.children.length){u.pop();continue}const A=p.children[++u.at(-1)[1]];if(A===null)continue;const{name:b}=A;if(b==="#text"){const C=document.createTextNode(A.value);h.push(C),m.append(C);continue}const w=(d=A==null?void 0:A.attributes)!=null&&d.xmlns?document.createElementNS(A.attributes.xmlns,b):document.createElement(b);if(m.append(w),A.attributes&&this.setAttributes({html:w,element:A,storage:e,intent:r,linkService:s}),((f=A.children)==null?void 0:f.length)>0)u.push([A,-1,w]);else if(A.value){const C=document.createTextNode(A.value);a&&fl.shouldBuildText(b)&&h.push(C),w.append(C)}}for(const p of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:h}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const su=1e3,Bct=9,Ho=new WeakSet;function _i(n){return{width:n[2]-n[0],height:n[3]-n[1]}}class Hct{static create(t){switch(t.data.annotationType){case ce.LINK:return new jy(t);case ce.TEXT:return new zct(t);case ce.WIDGET:switch(t.data.fieldType){case"Tx":return new jct(t);case"Btn":return t.data.radioButton?new Gy(t):t.data.checkBox?new Uct(t):new Gct(t);case"Ch":return new Wct(t);case"Sig":return new Vct(t)}return new Wo(t);case ce.POPUP:return new rg(t);case ce.FREETEXT:return new Zy(t);case ce.LINE:return new Xct(t);case ce.SQUARE:return new Yct(t);case ce.CIRCLE:return new Zct(t);case ce.POLYLINE:return new Jy(t);case ce.CARET:return new Qct(t);case ce.INK:return new Qy(t);case ce.POLYGON:return new Jct(t);case ce.HIGHLIGHT:return new tlt(t);case ce.UNDERLINE:return new elt(t);case ce.SQUIGGLY:return new slt(t);case ce.STRIKEOUT:return new nlt(t);case ce.STAMP:return new tA(t);case ce.FILEATTACHMENT:return new ilt(t);default:return new ie(t)}}}var fo,$a,Ba,rh,ig;const Sm=class Sm{constructor(t,{isRenderable:e=!1,ignoreBorder:s=!1,createQuadrilaterals:i=!1}={}){y(this,rh);y(this,fo,null);y(this,$a,!1);y(this,Ba,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(s)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:s}){return!!(t!=null&&t.str||e!=null&&e.str||s!=null&&s.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Sm._hasPopupData(this.data)}updateEdited(t){var s;if(!this.container)return;l(this,fo)||_(this,fo,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&v(this,rh,ig).call(this,e),(s=l(this,Ba))==null||s.popup.updateEdited(t)}resetEdited(){var t;l(this,fo)&&(v(this,rh,ig).call(this,l(this,fo).rect),(t=l(this,Ba))==null||t.popup.resetEdited(),_(this,fo,null))}_createContainer(t){const{data:e,parent:{page:s,viewport:i}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",e.id),this instanceof Wo||(r.tabIndex=su);const{style:o}=r;if(o.zIndex=this.parent.zIndex++,e.popupRef&&r.setAttribute("aria-haspopup","dialog"),e.alternativeText&&(r.title=e.alternativeText),e.noRotate&&r.classList.add("norotate"),!e.rect||this instanceof rg){const{rotation:m}=e;return!e.hasOwnCanvas&&m!==0&&this.setRotation(m,r),r}const{width:a,height:c}=_i(e.rect);if(!t&&e.borderStyle.width>0){o.borderWidth=`${e.borderStyle.width}px`;const m=e.borderStyle.horizontalCornerRadius,A=e.borderStyle.verticalCornerRadius;if(m>0||A>0){const w=`calc(${m}px * var(--scale-factor)) / calc(${A}px * var(--scale-factor))`;o.borderRadius=w}else if(this instanceof Gy){const w=`calc(${a}px * var(--scale-factor)) / calc(${c}px * var(--scale-factor))`;o.borderRadius=w}switch(e.borderStyle.style){case Ec.SOLID:o.borderStyle="solid";break;case Ec.DASHED:o.borderStyle="dashed";break;case Ec.BEVELED:vt("Unimplemented border style: beveled");break;case Ec.INSET:vt("Unimplemented border style: inset");break;case Ec.UNDERLINE:o.borderBottomStyle="solid";break}const b=e.borderColor||null;b?(_(this,$a,!0),o.borderColor=it.makeHexColor(b[0]|0,b[1]|0,b[2]|0)):o.borderWidth=0}const h=it.normalizeRect([e.rect[0],s.view[3]-e.rect[1]+s.view[1],e.rect[2],s.view[3]-e.rect[3]+s.view[1]]),{pageWidth:u,pageHeight:d,pageX:f,pageY:p}=i.rawDims;o.left=`${100*(h[0]-f)/u}%`,o.top=`${100*(h[1]-p)/d}%`;const{rotation:g}=e;return e.hasOwnCanvas||g===0?(o.width=`${100*a/u}%`,o.height=`${100*c/d}%`):this.setRotation(g,r),r}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:i}=this.parent.viewport.rawDims,{width:r,height:o}=_i(this.data.rect);let a,c;t%180===0?(a=100*r/s,c=100*o/i):(a=100*o/s,c=100*r/i),e.style.width=`${a}%`,e.style.height=`${c}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,s,i)=>{const r=i.detail[e],o=r[0],a=r.slice(1);i.target.style[s]=H_[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[s]:H_[`${o}_rgb`](a)})};return Ct(this,"_commonActions",{display:e=>{const{display:s}=e.detail,i=s%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:s===1||s===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:s}=e.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const s=e.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(t,e){const s=this._commonActions;for(const i of Object.keys(e.detail)){const r=t[i]||s[i];r==null||r(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const s=this._commonActions;for(const[i,r]of Object.entries(e)){const o=s[i];if(o){const a={detail:{[i]:r},target:t};o(a),delete e[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,s,i,r]=this.data.rect.map(m=>Math.fround(m));if(t.length===8){const[m,A,b,w]=t.subarray(2,6);if(i===m&&r===A&&e===b&&s===w)return}const{style:o}=this.container;let a;if(l(this,$a)){const{borderColor:m,borderWidth:A}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${m}" stroke-width="${A}">`],this.container.classList.add("hasBorder")}const c=i-e,h=r-s,{svgFactory:u}=this,d=u.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0);const f=u.createElement("defs");d.append(f);const p=u.createElement("clipPath"),g=`clippath_${this.data.id}`;p.setAttribute("id",g),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let m=2,A=t.length;m<A;m+=8){const b=t[m],w=t[m+1],C=t[m+2],k=t[m+3],R=u.createElement("rect"),E=(C-e)/c,L=(r-w)/h,M=(b-C)/c,U=(w-k)/h;R.setAttribute("x",E),R.setAttribute("y",L),R.setAttribute("width",M),R.setAttribute("height",U),p.append(R),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${E}" y="${L}" width="${M}" height="${U}"/>`)}l(this,$a)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${g})`}_createPopup(){const{container:t,data:e}=this;t.setAttribute("aria-haspopup","dialog");const s=_(this,Ba,new rg({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(s.render())}render(){$t("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const s=[];if(this._fieldObjects){const i=this._fieldObjects[t];if(i)for(const{page:r,id:o,exportValues:a}of i){if(r===-1||o===e)continue;const c=typeof a=="string"?a:null,h=document.querySelector(`[data-element-id="${o}"]`);if(h&&!Ho.has(h)){vt(`_getElementsByName - element not allowed: ${o}`);continue}s.push({id:o,exportValue:c,domElement:h})}return s}for(const i of document.getElementsByName(t)){const{exportValue:r}=i,o=i.getAttribute("data-element-id");o!==e&&Ho.has(i)&&s.push({id:o,exportValue:r,domElement:i})}return s}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};fo=new WeakMap,$a=new WeakMap,Ba=new WeakMap,rh=new WeakSet,ig=function(t){const{container:{style:e},data:{rect:s,rotation:i},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:o,pageX:a,pageY:c}}}}=this;s==null||s.splice(0,4,...t);const{width:h,height:u}=_i(t);e.left=`${100*(t[0]-a)/r}%`,e.top=`${100*(o-t[3]+c)/o}%`,i===0?(e.width=`${100*h/r}%`,e.height=`${100*u/o}%`):this.setRotation(i)};let ie=Sm;var bs,Sr,Vy,Uy;class jy extends ie{constructor(e,s=null){super(e,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});y(this,bs);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:s}=this,i=document.createElement("a");i.setAttribute("data-element-id",e.id);let r=!1;return e.url?(s.addLinkAttributes(i,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(i,e.action),r=!0):e.attachment?(v(this,bs,Vy).call(this,i,e.attachment,e.attachmentDest),r=!0):e.setOCGState?(v(this,bs,Uy).call(this,i,e.setOCGState),r=!0):e.dest?(this._bindLink(i,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,e),r=!0),e.resetForm?(this._bindResetFormAction(i,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(i),this.container}_bindLink(e,s){e.href=this.linkService.getDestinationHash(s),e.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&v(this,bs,Sr).call(this)}_bindNamedAction(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(s),!1),v(this,bs,Sr).call(this)}_bindJSAction(e,s){e.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(s.actions)){const o=i.get(r);o&&(e[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:r}}),!1})}e.onclick||(e.onclick=()=>!1),v(this,bs,Sr).call(this)}_bindResetFormAction(e,s){const i=e.onclick;if(i||(e.href=this.linkService.getAnchorUrl("")),v(this,bs,Sr).call(this),!this._fieldObjects){vt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(e.onclick=()=>!1);return}e.onclick=()=>{var d;i==null||i();const{fields:r,refs:o,include:a}=s,c=[];if(r.length!==0||o.length!==0){const f=new Set(o);for(const p of r){const g=this._fieldObjects[p]||[];for(const{id:m}of g)f.add(m)}for(const p of Object.values(this._fieldObjects))for(const g of p)f.has(g.id)===a&&c.push(g)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const h=this.annotationStorage,u=[];for(const f of c){const{id:p}=f;switch(u.push(p),f.type){case"text":{const m=f.defaultValue||"";h.setValue(p,{value:m});break}case"checkbox":case"radiobutton":{const m=f.defaultValue===f.exportValues;h.setValue(p,{value:m});break}case"combobox":case"listbox":{const m=f.defaultValue||"";h.setValue(p,{value:m});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!Ho.has(g)){vt(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}bs=new WeakSet,Sr=function(){this.container.setAttribute("data-internal-link","")},Vy=function(e,s,i=null){e.href=this.linkService.getAnchorUrl(""),s.description&&(e.title=s.description),e.onclick=()=>{var r;return(r=this.downloadManager)==null||r.openOrDownloadData(s.content,s.filename,i),!1},v(this,bs,Sr).call(this)},Uy=function(e,s){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(s),!1),v(this,bs,Sr).call(this)};class zct extends ie{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class Wo extends ie{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Ye.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,s,i,r){s.includes("mouse")?t.addEventListener(s,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):t.addEventListener(s,o=>{var a;if(s==="blur"){if(!e.focused||!o.relatedTarget)return;e.focused=!1}else if(s==="focus"){if(e.focused)return;e.focused=!0}r&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(o)}}))})}_setEventListeners(t,e,s,i){var r,o,a;for(const[c,h]of s)(h==="Action"||(r=this.data.actions)!=null&&r[h])&&((h==="Focus"||h==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,c,h,i),h==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(t,e,"blur","Blur",null):h==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":it.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||Bct,r=t.style;let o;const a=2,c=h=>Math.round(10*h)/10;if(this.data.multiLine){const h=Math.abs(this.data.rect[3]-this.data.rect[1]-a),u=Math.round(h/(Yf*i))||1,d=h/u;o=Math.min(i,c(d/Yf))}else{const h=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,c(h/Yf))}r.fontSize=`calc(${o}px * var(--scale-factor))`,r.color=it.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(r.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class jct extends Wo{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,s,i){const r=this.annotationStorage;for(const o of this._getElementsByName(t.name,t.id))o.domElement&&(o.domElement[e]=s),r.setValue(o.id,{[i]:s})}render(){var i,r;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const o=t.getValue(e,{value:this.data.fieldValue});let a=o.value||"";const c=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;c&&a.length>c&&(a=a.slice(0,c));let h=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;h&&this.data.comb&&(h=h.replaceAll(/\s+/g,""));const u={userValue:a,formattedValue:h,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=h??a,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type="text",s.setAttribute("value",h??a),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),Ho.add(s),s.setAttribute("data-element-id",e),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=su,this._setRequired(s,this.data.required),c&&(s.maxLength=c),s.addEventListener("input",f=>{t.setValue(e,{value:f.target.value}),this.setPropertyOnSiblings(s,"value",f.target.value,"value"),u.formattedValue=null}),s.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";s.value=u.userValue=p,u.formattedValue=null});let d=f=>{const{formattedValue:p}=u;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",p=>{var m;if(u.focused)return;const{target:g}=p;u.userValue&&(g.value=u.userValue),u.lastCommittedValue=g.value,u.commitKey=1,(m=this.data.actions)!=null&&m.Focus||(u.focused=!0)}),s.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const g={value(m){u.userValue=m.detail.value??"",t.setValue(e,{value:u.userValue.toString()}),m.target.value=u.userValue},formattedValue(m){const{formattedValue:A}=m.detail;u.formattedValue=A,A!=null&&m.target!==document.activeElement&&(m.target.value=A),t.setValue(e,{formattedValue:A})},selRange(m){m.target.setSelectionRange(...m.detail.selRange)},charLimit:m=>{var C;const{charLimit:A}=m.detail,{target:b}=m;if(A===0){b.removeAttribute("maxLength");return}b.setAttribute("maxLength",A);let w=u.userValue;!w||w.length<=A||(w=w.slice(0,A),b.value=u.userValue=w,t.setValue(e,{value:w}),(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:w,willCommit:!0,commitKey:1,selStart:b.selectionStart,selEnd:b.selectionEnd}}))}};this._dispatchEventFromSandbox(g,p)}),s.addEventListener("keydown",p=>{var A;u.commitKey=1;let g=-1;if(p.key==="Escape"?g=0:p.key==="Enter"&&!this.data.multiLine?g=2:p.key==="Tab"&&(u.commitKey=3),g===-1)return;const{value:m}=p.target;u.lastCommittedValue!==m&&(u.lastCommittedValue=m,u.userValue=m,(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:m,willCommit:!0,commitKey:g,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=d;d=null,s.addEventListener("blur",p=>{var m,A;if(!u.focused||!p.relatedTarget)return;(m=this.data.actions)!=null&&m.Blur||(u.focused=!1);const{value:g}=p.target;u.userValue=g,u.lastCommittedValue!==g&&((A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:g,willCommit:!0,commitKey:u.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(r=this.data.actions)!=null&&r.Keystroke&&s.addEventListener("beforeinput",p=>{var R;u.lastCommittedValue=null;const{data:g,target:m}=p,{value:A,selectionStart:b,selectionEnd:w}=m;let C=b,k=w;switch(p.inputType){case"deleteWordBackward":{const E=A.substring(0,b).match(/\w*[^\w]*$/);E&&(C-=E[0].length);break}case"deleteWordForward":{const E=A.substring(b).match(/^[^\w]*\w*/);E&&(k+=E[0].length);break}case"deleteContentBackward":b===w&&(C-=1);break;case"deleteContentForward":b===w&&(k+=1);break}p.preventDefault(),(R=this.linkService.eventBus)==null||R.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:A,change:g||"",willCommit:!1,selStart:C,selEnd:k}})}),this._setEventListeners(s,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(d&&s.addEventListener("blur",d),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/c;s.classList.add("comb"),s.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class Vct extends Wo{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class Uct extends Wo{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,s=e.id;let i=t.getValue(s,{value:e.exportValue===e.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",t.setValue(s,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return Ho.add(r),r.setAttribute("data-element-id",s),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=e.fieldName,i&&r.setAttribute("checked",!0),r.setAttribute("exportValue",e.exportValue),r.tabIndex=su,r.addEventListener("change",o=>{const{name:a,checked:c}=o.target;for(const h of this._getElementsByName(a,s)){const u=c&&h.exportValue===e.exportValue;h.domElement&&(h.domElement.checked=u),t.setValue(h.id,{value:u})}t.setValue(s,{value:c})}),r.addEventListener("resetform",o=>{const a=e.defaultFieldValue||"Off";o.target.checked=a===e.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",o=>{const a={value(c){c.target.checked=c.detail.value!=="Off",t.setValue(s,{value:c.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Gy extends Wo{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,s=e.id;let i=t.getValue(s,{value:e.fieldValue===e.buttonValue}).value;if(typeof i=="string"&&(i=i!==e.buttonValue,t.setValue(s,{value:i})),i)for(const o of this._getElementsByName(e.fieldName,s))t.setValue(o.id,{value:!1});const r=document.createElement("input");if(Ho.add(r),r.setAttribute("data-element-id",s),r.disabled=e.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=e.fieldName,i&&r.setAttribute("checked",!0),r.tabIndex=su,r.addEventListener("change",o=>{const{name:a,checked:c}=o.target;for(const h of this._getElementsByName(a,s))t.setValue(h.id,{value:!1});t.setValue(s,{value:c})}),r.addEventListener("resetform",o=>{const a=e.defaultFieldValue;o.target.checked=a!=null&&a===e.buttonValue}),this.enableScripting&&this.hasJSActions){const o=e.buttonValue;r.addEventListener("updatefromsandbox",a=>{const c={value:h=>{const u=o===h.detail.value;for(const d of this._getElementsByName(h.target.name)){const f=u&&d.id===s;d.domElement&&(d.domElement.checked=f),t.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(c,a)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Gct extends jy{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),t}}class Wct extends Wo{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,s=t.getValue(e,{value:this.data.fieldValue}),i=document.createElement("select");Ho.add(i),i.setAttribute("data-element-id",e),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=su;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{const d=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===d});for(const u of this.data.options){const d=document.createElement("option");d.textContent=u.displayValue,d.value=u.exportValue,s.value.includes(u.exportValue)&&(d.setAttribute("selected",!0),r=!1),i.append(d)}let o=null;if(r){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),o=()=>{u.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=u=>{const d=u?"value":"textContent",{options:f,multiple:p}=i;return p?Array.prototype.filter.call(f,g=>g.selected).map(g=>g[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let c=a(!1);const h=u=>{const d=u.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{const d={value(f){o==null||o();const p=f.detail.value,g=new Set(Array.isArray(p)?p:[p]);for(const m of i.options)m.selected=g.has(m.value);t.setValue(e,{value:a(!0)}),c=a(!1)},multipleSelection(f){i.multiple=!0},remove(f){const p=i.options,g=f.detail.remove;p[g].selected=!1,i.remove(g),p.length>0&&Array.prototype.findIndex.call(p,A=>A.selected)===-1&&(p[0].selected=!0),t.setValue(e,{value:a(!0),items:h(f)}),c=a(!1)},clear(f){for(;i.length!==0;)i.remove(0);t.setValue(e,{value:null,items:[]}),c=a(!1)},insert(f){const{index:p,displayValue:g,exportValue:m}=f.detail.insert,A=i.children[p],b=document.createElement("option");b.textContent=g,b.value=m,A?A.before(b):i.append(b),t.setValue(e,{value:a(!0),items:h(f)}),c=a(!1)},items(f){const{items:p}=f.detail;for(;i.length!==0;)i.remove(0);for(const g of p){const{displayValue:m,exportValue:A}=g,b=document.createElement("option");b.textContent=m,b.value=A,i.append(b)}i.options.length>0&&(i.options[0].selected=!0),t.setValue(e,{value:a(!0),items:h(f)}),c=a(!1)},indices(f){const p=new Set(f.detail.indices);for(const g of f.target.options)g.selected=p.has(g.index);t.setValue(e,{value:a(!0)}),c=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,u)}),i.addEventListener("input",u=>{var p;const d=a(!0),f=a(!1);t.setValue(e,{value:d}),u.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:c,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){t.setValue(e,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class rg extends ie{constructor(t){const{data:e,elements:s}=t;super(t,{isRenderable:ie._hasPopupData(e)}),this.elements=s,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new Kct({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const s of this.elements)s.popup=t,e.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(s=>`${K0}${s}`).join(",")),this.container}}var Ha,Md,Fd,za,po,te,ni,go,oh,ah,ja,ii,Ws,ri,ch,oi,lh,mo,bo,Bt,Bu,og,Wy,Ky,Xy,Yy,Hu,zu,ag;class Kct{constructor({container:t,color:e,elements:s,titleObj:i,modificationDate:r,contentsObj:o,richText:a,parent:c,rect:h,parentRect:u,open:d}){y(this,Bt);y(this,Ha,v(this,Bt,Xy).bind(this));y(this,Md,v(this,Bt,ag).bind(this));y(this,Fd,v(this,Bt,zu).bind(this));y(this,za,v(this,Bt,Hu).bind(this));y(this,po,null);y(this,te,null);y(this,ni,null);y(this,go,null);y(this,oh,null);y(this,ah,null);y(this,ja,null);y(this,ii,!1);y(this,Ws,null);y(this,ri,null);y(this,ch,null);y(this,oi,null);y(this,lh,null);y(this,mo,null);y(this,bo,!1);var f;_(this,te,t),_(this,lh,i),_(this,ni,o),_(this,oi,a),_(this,ah,c),_(this,po,e),_(this,ch,h),_(this,ja,u),_(this,oh,s),_(this,go,J0.toDateObject(r)),this.trigger=s.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",l(this,za)),p.addEventListener("mouseenter",l(this,Fd)),p.addEventListener("mouseleave",l(this,Md)),p.classList.add("popupTriggerArea");for(const p of s)(f=p.container)==null||f.addEventListener("keydown",l(this,Ha));l(this,te).hidden=!0,d&&v(this,Bt,Hu).call(this)}render(){if(l(this,Ws))return;const t=_(this,Ws,document.createElement("div"));if(t.className="popup",l(this,po)){const r=t.style.outlineColor=it.makeHexColor(...l(this,po));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`:t.style.backgroundColor=it.makeHexColor(...l(this,po).map(a=>Math.floor(.7*(255-a)+a)))}const e=document.createElement("span");e.className="header";const s=document.createElement("h1");if(e.append(s),{dir:s.dir,str:s.textContent}=l(this,lh),t.append(e),l(this,go)){const r=document.createElement("span");r.classList.add("popupDate"),r.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),r.setAttribute("data-l10n-args",JSON.stringify({date:l(this,go).toLocaleDateString(),time:l(this,go).toLocaleTimeString()})),e.append(r)}const i=l(this,Bt,Bu);if(i)zy.render({xfaHtml:i,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(l(this,ni));t.append(r)}l(this,te).append(t)}_formatContents({str:t,dir:e}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=e;const i=t.split(/(?:\r\n?|\n)/);for(let r=0,o=i.length;r<o;++r){const a=i[r];s.append(document.createTextNode(a)),r<o-1&&s.append(document.createElement("br"))}return s}updateEdited({rect:t,popupContent:e}){var s;l(this,mo)||_(this,mo,{contentsObj:l(this,ni),richText:l(this,oi)}),t&&_(this,ri,null),e&&(_(this,oi,v(this,Bt,Ky).call(this,e)),_(this,ni,null)),(s=l(this,Ws))==null||s.remove(),_(this,Ws,null)}resetEdited(){var t;l(this,mo)&&({contentsObj:is(this,ni)._,richText:is(this,oi)._}=l(this,mo),_(this,mo,null),(t=l(this,Ws))==null||t.remove(),_(this,Ws,null),_(this,ri,null))}forceHide(){_(this,bo,this.isVisible),l(this,bo)&&(l(this,te).hidden=!0)}maybeShow(){l(this,bo)&&(l(this,Ws)||v(this,Bt,zu).call(this),_(this,bo,!1),l(this,te).hidden=!1)}get isVisible(){return l(this,te).hidden===!1}}Ha=new WeakMap,Md=new WeakMap,Fd=new WeakMap,za=new WeakMap,po=new WeakMap,te=new WeakMap,ni=new WeakMap,go=new WeakMap,oh=new WeakMap,ah=new WeakMap,ja=new WeakMap,ii=new WeakMap,Ws=new WeakMap,ri=new WeakMap,ch=new WeakMap,oi=new WeakMap,lh=new WeakMap,mo=new WeakMap,bo=new WeakMap,Bt=new WeakSet,Bu=function(){const t=l(this,oi),e=l(this,ni);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&l(this,oi).html||null},og=function(){var t,e,s;return((s=(e=(t=l(this,Bt,Bu))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:s.fontSize)||0},Wy=function(){var t,e,s;return((s=(e=(t=l(this,Bt,Bu))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:s.color)||null},Ky=function(t){const e=[],s={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},i={style:{color:l(this,Bt,Wy),fontSize:l(this,Bt,og)?`calc(${l(this,Bt,og)}px * var(--scale-factor))`:""}};for(const r of t.split(`
`))e.push({name:"span",value:r,attributes:i});return s},Xy=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&l(this,ii))&&v(this,Bt,Hu).call(this)},Yy=function(){if(l(this,ri)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:s,pageX:i,pageY:r}}}=l(this,ah);let o=!!l(this,ja),a=o?l(this,ja):l(this,ch);for(const g of l(this,oh))if(!a||it.intersect(g.data.rect,a)!==null){a=g.data.rect,o=!0;break}const c=it.normalizeRect([a[0],t[3]-a[1]+t[1],a[2],t[3]-a[3]+t[1]]),u=o?a[2]-a[0]+5:0,d=c[0]+u,f=c[1];_(this,ri,[100*(d-i)/e,100*(f-r)/s]);const{style:p}=l(this,te);p.left=`${l(this,ri)[0]}%`,p.top=`${l(this,ri)[1]}%`},Hu=function(){_(this,ii,!l(this,ii)),l(this,ii)?(v(this,Bt,zu).call(this),l(this,te).addEventListener("click",l(this,za)),l(this,te).addEventListener("keydown",l(this,Ha))):(v(this,Bt,ag).call(this),l(this,te).removeEventListener("click",l(this,za)),l(this,te).removeEventListener("keydown",l(this,Ha)))},zu=function(){l(this,Ws)||this.render(),this.isVisible?l(this,ii)&&l(this,te).classList.add("focused"):(v(this,Bt,Yy).call(this),l(this,te).hidden=!1,l(this,te).style.zIndex=parseInt(l(this,te).style.zIndex)+1e3)},ag=function(){l(this,te).classList.remove("focused"),!(l(this,ii)||!this.isVisible)&&(l(this,te).hidden=!0,l(this,te).style.zIndex=parseInt(l(this,te).style.zIndex)-1e3)};class Zy extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=Et.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const s=document.createElement("span");s.textContent=e,t.append(s)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var hh;class Xct extends ie{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});y(this,hh,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:s,height:i}=_i(e.rect),r=this.svgFactory.create(s,i,!0),o=_(this,hh,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),o.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),o.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),o.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),o.setAttribute("stroke-width",e.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,hh)}addHighlightArea(){this.container.classList.add("highlightArea")}}hh=new WeakMap;var uh;class Yct extends ie{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});y(this,uh,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:s,height:i}=_i(e.rect),r=this.svgFactory.create(s,i,!0),o=e.borderStyle.width,a=_(this,uh,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",s-o),a.setAttribute("height",i-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,uh)}addHighlightArea(){this.container.classList.add("highlightArea")}}uh=new WeakMap;var dh;class Zct extends ie{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});y(this,dh,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:s,height:i}=_i(e.rect),r=this.svgFactory.create(s,i,!0),o=e.borderStyle.width,a=_(this,dh,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",s/2),a.setAttribute("cy",i/2),a.setAttribute("rx",s/2-o/2),a.setAttribute("ry",i/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,dh)}addHighlightArea(){this.container.classList.add("highlightArea")}}dh=new WeakMap;var fh;class Jy extends ie{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});y(this,fh,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:s,borderStyle:i,popupRef:r}}=this;if(!s)return this.container;const{width:o,height:a}=_i(e),c=this.svgFactory.create(o,a,!0);let h=[];for(let d=0,f=s.length;d<f;d+=2){const p=s[d]-e[0],g=e[3]-s[d+1];h.push(`${p},${g}`)}h=h.join(" ");const u=_(this,fh,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",h),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),c.append(u),this.container.append(c),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,fh)}addHighlightArea(){this.container.classList.add("highlightArea")}}fh=new WeakMap;class Jct extends Jy{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Qct extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var ph;class Qy extends ie{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});y(this,ph,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=Et.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:s,borderStyle:i,popupRef:r}}=this,{width:o,height:a}=_i(e),c=this.svgFactory.create(o,a,!0);for(const h of s){let u=[];for(let f=0,p=h.length;f<p;f+=2){const g=h[f]-e[0],m=e[3]-h[f+1];u.push(`${g},${m}`)}u=u.join(" ");const d=this.svgFactory.createElement(this.svgElementName);l(this,ph).push(d),d.setAttribute("points",u),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),!r&&this.hasPopupData&&this._createPopup(),c.append(d)}return this.container.append(c),this.container}getElementsToTriggerPopup(){return l(this,ph)}addHighlightArea(){this.container.classList.add("highlightArea")}}ph=new WeakMap;class tlt extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class elt extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class slt extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class nlt extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class tA extends ie{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var gh,mh,cg;class ilt extends ie{constructor(e){var i;super(e,{isRenderable:!0});y(this,mh);y(this,gh,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:s}=this;let i;s.hasAppearance||s.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),i.addEventListener("dblclick",v(this,mh,cg).bind(this)),_(this,gh,i);const{isMac:r}=Ye.platform;return e.addEventListener("keydown",o=>{o.key==="Enter"&&(r?o.metaKey:o.ctrlKey)&&v(this,mh,cg).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),e.append(i),e}getElementsToTriggerPopup(){return l(this,gh)}addHighlightArea(){this.container.classList.add("highlightArea")}}gh=new WeakMap,mh=new WeakSet,cg=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var bh,_o,vo,zo,eA,lg;class rlt{constructor({div:t,accessibilityManager:e,annotationCanvasMap:s,annotationEditorUIManager:i,page:r,viewport:o}){y(this,zo);y(this,bh,null);y(this,_o,null);y(this,vo,new Map);this.div=t,_(this,bh,e),_(this,_o,s),this.page=r,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return l(this,vo).size>0}async render(t){var o;const{annotations:e}=t,s=this.div;$o(s,this.viewport);const i=new Map,r={data:null,layer:s,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new bm,annotationStorage:t.annotationStorage||new Am,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const a of e){if(a.noHTML)continue;const c=a.annotationType===ce.POPUP;if(c){const d=i.get(a.id);if(!d)continue;r.elements=d}else{const{width:d,height:f}=_i(a.rect);if(d<=0||f<=0)continue}r.data=a;const h=Hct.create(r);if(!h.isRenderable)continue;if(!c&&a.popupRef){const d=i.get(a.popupRef);d?d.push(h):i.set(a.popupRef,[h])}const u=h.render();a.hidden&&(u.style.visibility="hidden"),v(this,zo,eA).call(this,u,a.id),h._isEditable&&(l(this,vo).set(h.data.id,h),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(h))}v(this,zo,lg).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,$o(e,{rotation:t.rotation}),v(this,zo,lg).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(l(this,vo).values())}getEditableAnnotation(t){return l(this,vo).get(t)}}bh=new WeakMap,_o=new WeakMap,vo=new WeakMap,zo=new WeakSet,eA=function(t,e){var i;const s=t.firstChild||t;s.id=`${K0}${e}`,this.div.append(t),(i=l(this,bh))==null||i.moveElementInDOM(this.div,t,s,!1)},lg=function(){if(!l(this,_o))return;const t=this.div;for(const[e,s]of l(this,_o)){const i=t.querySelector(`[data-annotation-id="${e}"]`);if(!i)continue;s.className="annotationContent";const{firstChild:r}=i;r?r.nodeName==="CANVAS"?r.replaceWith(s):r.classList.contains("annotationContent")?r.after(s):r.before(s):i.append(s)}l(this,_o).clear()};const vu=/\r\n?|\n/g;var _h,vh,yh,Ah,wh,Ks,hs,xh,us,Va,oe,sA,nA,iA,ju,yi,Vu,Uu,rA,ug,oA;const Vt=class Vt extends Lt{constructor(e){super({...e,name:"freeTextEditor"});y(this,oe);y(this,_h,this.editorDivBlur.bind(this));y(this,vh,this.editorDivFocus.bind(this));y(this,yh,this.editorDivInput.bind(this));y(this,Ah,this.editorDivKeydown.bind(this));y(this,wh,this.editorDivPaste.bind(this));y(this,Ks);y(this,hs,"");y(this,xh,`${this.id}-editor`);y(this,us);y(this,Va,null);_(this,Ks,e.color||Vt._defaultColor||Lt._defaultLineColor),_(this,us,e.fontSize||Vt._defaultFontSize)}static get _keyboardManager(){const e=Vt.prototype,s=o=>o.isEmpty(),i=Bo.TRANSLATE_SMALL,r=Bo.TRANSLATE_BIG;return Ct(this,"_keyboardManager",new tu([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:s}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[i,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:s}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:s}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,i],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:s}]]))}static initialize(e,s){Lt.initialize(e,s,{strings:["pdfjs-free-text-default-content"]});const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,s){switch(e){case ut.FREETEXT_SIZE:Vt._defaultFontSize=s;break;case ut.FREETEXT_COLOR:Vt._defaultColor=s;break}}updateParams(e,s){switch(e){case ut.FREETEXT_SIZE:v(this,oe,sA).call(this,s);break;case ut.FREETEXT_COLOR:v(this,oe,nA).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[ut.FREETEXT_SIZE,Vt._defaultFontSize],[ut.FREETEXT_COLOR,Vt._defaultColor||Lt._defaultLineColor]]}get propertiesToUpdate(){return[[ut.FREETEXT_SIZE,l(this,us)],[ut.FREETEXT_COLOR,l(this,Ks)]]}_translateEmpty(e,s){this._uiManager.translateSelectedEditors(e,s,!0)}getInitialTranslation(){const e=this.parentScale;return[-Vt._internalPadding*e,-(Vt._internalPadding+l(this,us))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Et.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const e=this._uiManager._signal;this.editorDiv.addEventListener("keydown",l(this,Ah),{signal:e}),this.editorDiv.addEventListener("focus",l(this,vh),{signal:e}),this.editorDiv.addEventListener("blur",l(this,_h),{signal:e}),this.editorDiv.addEventListener("input",l(this,yh),{signal:e}),this.editorDiv.addEventListener("paste",l(this,wh),{signal:e})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",l(this,xh)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",l(this,Ah)),this.editorDiv.removeEventListener("focus",l(this,vh)),this.editorDiv.removeEventListener("blur",l(this,_h)),this.editorDiv.removeEventListener("input",l(this,yh)),this.editorDiv.removeEventListener("paste",l(this,wh)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=l(this,hs),s=_(this,hs,v(this,oe,iA).call(this).trimEnd());if(e===s)return;const i=r=>{if(_(this,hs,r),!r){this.remove();return}v(this,oe,Uu).call(this),this._uiManager.rebuild(this),v(this,oe,ju).call(this)};this.addCommands({cmd:()=>{i(s)},undo:()=>{i(e)},mustExec:!1}),v(this,oe,ju).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Vt._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,s;this.width&&(e=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",l(this,xh)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Lt._l10nPromise.get("pdfjs-free-text-default-content").then(r=>{var o;return(o=this.editorDiv)==null?void 0:o.setAttribute("default-content",r)}),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${l(this,us)}px * var(--scale-factor))`,i.color=l(this,Ks),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),fd(this,this.div,["dblclick","keydown"]),this.width){const[r,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=l(this,Va);let[c,h]=this.getInitialTranslation();[c,h]=this.pageTranslationToScreen(c,h);const[u,d]=this.pageDimensions,[f,p]=this.pageTranslation;let g,m;switch(this.rotation){case 0:g=e+(a[0]-f)/u,m=s+this.height-(a[1]-p)/d;break;case 90:g=e+(a[0]-f)/u,m=s-(a[1]-p)/d,[c,h]=[h,-c];break;case 180:g=e-this.width+(a[0]-f)/u,m=s-(a[1]-p)/d,[c,h]=[-c,-h];break;case 270:g=e+(a[0]-f-this.height*d)/u,m=s+(a[1]-p-this.width*u)/d,[c,h]=[-h,c];break}this.setAt(g*r,m*o,c,h)}else this.setAt(e*r,s*o,this.width*r,this.height*o);v(this,oe,Uu).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var g,m,A;const s=e.clipboardData||window.clipboardData,{types:i}=s;if(i.length===1&&i[0]==="text/plain")return;e.preventDefault();const r=v(g=Vt,yi,ug).call(g,s.getData("text")||"").replaceAll(vu,`
`);if(!r)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!r.includes(`
`)){a.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:c,startOffset:h}=a,u=[],d=[];if(c.nodeType===Node.TEXT_NODE){const b=c.parentElement;if(d.push(c.nodeValue.slice(h).replaceAll(vu,"")),b!==this.editorDiv){let w=u;for(const C of this.editorDiv.childNodes){if(C===b){w=d;continue}w.push(v(m=Vt,yi,Vu).call(m,C))}}u.push(c.nodeValue.slice(0,h).replaceAll(vu,""))}else if(c===this.editorDiv){let b=u,w=0;for(const C of this.editorDiv.childNodes)w++===h&&(b=d),b.push(v(A=Vt,yi,Vu).call(A,C))}_(this,hs,`${u.join(`
`)}${r}${d.join(`
`)}`),v(this,oe,Uu).call(this);const f=new Range;let p=u.reduce((b,w)=>b+w.length,0);for(const{firstChild:b}of this.editorDiv.childNodes)if(b.nodeType===Node.TEXT_NODE){const w=b.nodeValue.length;if(p<=w){f.setStart(b,p),f.setEnd(b,p);break}p-=w}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}static deserialize(e,s,i){var a;let r=null;if(e instanceof Zy){const{data:{defaultAppearanceData:{fontSize:c,fontColor:h},rect:u,rotation:d,id:f},textContent:p,textPosition:g,parent:{page:{pageNumber:m}}}=e;if(!p||p.length===0)return null;r=e={annotationType:Et.FREETEXT,color:Array.from(h),fontSize:c,value:p.join(`
`),position:g,pageIndex:m-1,rect:u.slice(0),rotation:d,id:f,deleted:!1}}const o=super.deserialize(e,s,i);return _(o,us,e.fontSize),_(o,Ks,it.makeHexColor(...e.color)),_(o,hs,v(a=Vt,yi,ug).call(a,e.value)),o.annotationElementId=e.id||null,_(o,Va,r),o}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const s=Vt._internalPadding*this.parentScale,i=this.getRect(s,s),r=Lt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:l(this,Ks)),o={annotationType:Et.FREETEXT,color:r,fontSize:l(this,us),value:v(this,oe,rA).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?o:this.annotationElementId&&!v(this,oe,oA).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(e){const s=super.renderAnnotationElement(e);if(this.deleted)return s;const{style:i}=s;i.fontSize=`calc(${l(this,us)}px * var(--scale-factor))`,i.color=l(this,Ks),s.replaceChildren();for(const o of l(this,hs).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),s.append(a)}const r=Vt._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(r,r),popupContent:l(this,hs)}),s}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};_h=new WeakMap,vh=new WeakMap,yh=new WeakMap,Ah=new WeakMap,wh=new WeakMap,Ks=new WeakMap,hs=new WeakMap,xh=new WeakMap,us=new WeakMap,Va=new WeakMap,oe=new WeakSet,sA=function(e){const s=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--scale-factor))`,this.translate(0,-(r-l(this,us))*this.parentScale),_(this,us,r),v(this,oe,ju).call(this)},i=l(this,us);this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},nA=function(e){const s=r=>{_(this,Ks,this.editorDiv.style.color=r)},i=l(this,Ks);this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},iA=function(){var s;const e=[];this.editorDiv.normalize();for(const i of this.editorDiv.childNodes)e.push(v(s=Vt,yi,Vu).call(s,i));return e.join(`
`)},ju=function(){const[e,s]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:r,div:o}=this,a=o.style.display,c=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",r.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=i.width/e,this.height=i.height/s):(this.width=i.height/e,this.height=i.width/s),this.fixAndSetPosition()},yi=new WeakSet,Vu=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(vu,"")},Uu=function(){if(this.editorDiv.replaceChildren(),!!l(this,hs))for(const e of l(this,hs).split(`
`)){const s=document.createElement("div");s.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(s)}},rA=function(){return l(this,hs).replaceAll(" "," ")},ug=function(e){return e.replaceAll(" "," ")},oA=function(e){const{value:s,fontSize:i,color:r,pageIndex:o}=l(this,Va);return this._hasBeenMoved||e.value!==s||e.fontSize!==i||e.color.some((a,c)=>a!==r[c])||e.pageIndex!==o},y(Vt,yi),mt(Vt,"_freeTextDefaultContent",""),mt(Vt,"_internalPadding",0),mt(Vt,"_defaultColor",null),mt(Vt,"_defaultFontSize",10),mt(Vt,"_type","freetext"),mt(Vt,"_editorType",Et.FREETEXT);let hg=Vt;var Eh,tr,Xs,Ve,aA,Gu,cA,lA,dg;class z_{constructor(t,e=0,s=0,i=!0){y(this,Ve);y(this,Eh);y(this,tr,[]);y(this,Xs,[]);let r=1/0,o=-1/0,a=1/0,c=-1/0;const u=10**-4;for(const{x:b,y:w,width:C,height:k}of t){const R=Math.floor((b-e)/u)*u,E=Math.ceil((b+C+e)/u)*u,L=Math.floor((w-e)/u)*u,M=Math.ceil((w+k+e)/u)*u,U=[R,L,M,!0],N=[E,L,M,!1];l(this,tr).push(U,N),r=Math.min(r,R),o=Math.max(o,E),a=Math.min(a,L),c=Math.max(c,M)}const d=o-r+2*s,f=c-a+2*s,p=r-s,g=a-s,m=l(this,tr).at(i?-1:-2),A=[m[0],m[2]];for(const b of l(this,tr)){const[w,C,k]=b;b[0]=(w-p)/d,b[1]=(C-g)/f,b[2]=(k-g)/f}_(this,Eh,{x:p,y:g,width:d,height:f,lastPoint:A})}getOutlines(){l(this,tr).sort((e,s)=>e[0]-s[0]||e[1]-s[1]||e[2]-s[2]);const t=[];for(const e of l(this,tr))e[3]?(t.push(...v(this,Ve,dg).call(this,e)),v(this,Ve,cA).call(this,e)):(v(this,Ve,lA).call(this,e),t.push(...v(this,Ve,dg).call(this,e)));return v(this,Ve,aA).call(this,t)}}Eh=new WeakMap,tr=new WeakMap,Xs=new WeakMap,Ve=new WeakSet,aA=function(t){const e=[],s=new Set;for(const o of t){const[a,c,h]=o;e.push([a,c,o],[a,h,o])}e.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=e.length;o<a;o+=2){const c=e[o][2],h=e[o+1][2];c.push(h),h.push(c),s.add(c),s.add(h)}const i=[];let r;for(;s.size>0;){const o=s.values().next().value;let[a,c,h,u,d]=o;s.delete(o);let f=a,p=c;for(r=[a,h],i.push(r);;){let g;if(s.has(u))g=u;else if(s.has(d))g=d;else break;s.delete(g),[a,c,h,u,d]=g,f!==a&&(r.push(f,p,a,p===c?c:h),f=a),p=p===c?h:c}r.push(f,p)}return new olt(i,l(this,Eh))},Gu=function(t){const e=l(this,Xs);let s=0,i=e.length-1;for(;s<=i;){const r=s+i>>1,o=e[r][0];if(o===t)return r;o<t?s=r+1:i=r-1}return i+1},cA=function([,t,e]){const s=v(this,Ve,Gu).call(this,t);l(this,Xs).splice(s,0,[t,e])},lA=function([,t,e]){const s=v(this,Ve,Gu).call(this,t);for(let i=s;i<l(this,Xs).length;i++){const[r,o]=l(this,Xs)[i];if(r!==t)break;if(r===t&&o===e){l(this,Xs).splice(i,1);return}}for(let i=s-1;i>=0;i--){const[r,o]=l(this,Xs)[i];if(r!==t)break;if(r===t&&o===e){l(this,Xs).splice(i,1);return}}},dg=function(t){const[e,s,i]=t,r=[[e,s,i]],o=v(this,Ve,Gu).call(this,i);for(let a=0;a<o;a++){const[c,h]=l(this,Xs)[a];for(let u=0,d=r.length;u<d;u++){const[,f,p]=r[u];if(!(h<=f||p<=c)){if(f>=c){if(p>h)r[u][1]=h;else{if(d===1)return[];r.splice(u,1),u--,d--}continue}r[u][2]=c,p>h&&r.push([e,h,p])}}}return r};class hA{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(t,e){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof pg}}var Ch,Ua;class olt extends hA{constructor(e,s){super();y(this,Ch);y(this,Ua);_(this,Ua,e),_(this,Ch,s)}toSVGPath(){const e=[];for(const s of l(this,Ua)){let[i,r]=s;e.push(`M${i} ${r}`);for(let o=2;o<s.length;o+=2){const a=s[o],c=s[o+1];a===i?(e.push(`V${c}`),r=c):c===r&&(e.push(`H${a}`),i=a)}e.push("Z")}return e.join(" ")}serialize([e,s,i,r],o){const a=[],c=i-e,h=r-s;for(const u of l(this,Ua)){const d=new Array(u.length);for(let f=0;f<u.length;f+=2)d[f]=e+u[f]*c,d[f+1]=r-u[f+1]*h;a.push(d)}return a}get box(){return l(this,Ch)}}Ch=new WeakMap,Ua=new WeakMap;var mn,ai,Ga,Wa,bn,xt,yo,Ao,kh,Sh,Ka,Xa,er,Th,Id,Od,Rh,fg;const jn=class jn{constructor({x:t,y:e},s,i,r,o,a=0){y(this,Rh);y(this,mn);y(this,ai,[]);y(this,Ga);y(this,Wa);y(this,bn,[]);y(this,xt,new Float64Array(18));y(this,yo);y(this,Ao);y(this,kh);y(this,Sh);y(this,Ka);y(this,Xa);y(this,er,[]);_(this,mn,s),_(this,Xa,r*i),_(this,Wa,o),l(this,xt).set([NaN,NaN,NaN,NaN,t,e],6),_(this,Ga,a),_(this,Sh,l(jn,Th)*i),_(this,kh,l(jn,Od)*i),_(this,Ka,i),l(this,er).push(t,e)}get free(){return!0}isEmpty(){return isNaN(l(this,xt)[8])}add({x:t,y:e}){var U;_(this,yo,t),_(this,Ao,e);const[s,i,r,o]=l(this,mn);let[a,c,h,u]=l(this,xt).subarray(8,12);const d=t-h,f=e-u,p=Math.hypot(d,f);if(p<l(this,kh))return!1;const g=p-l(this,Sh),m=g/p,A=m*d,b=m*f;let w=a,C=c;a=h,c=u,h+=A,u+=b,(U=l(this,er))==null||U.push(t,e);const k=-b/g,R=A/g,E=k*l(this,Xa),L=R*l(this,Xa);return l(this,xt).set(l(this,xt).subarray(2,8),0),l(this,xt).set([h+E,u+L],4),l(this,xt).set(l(this,xt).subarray(14,18),12),l(this,xt).set([h-E,u-L],16),isNaN(l(this,xt)[6])?(l(this,bn).length===0&&(l(this,xt).set([a+E,c+L],2),l(this,bn).push(NaN,NaN,NaN,NaN,(a+E-s)/r,(c+L-i)/o),l(this,xt).set([a-E,c-L],14),l(this,ai).push(NaN,NaN,NaN,NaN,(a-E-s)/r,(c-L-i)/o)),l(this,xt).set([w,C,a,c,h,u],6),!this.isEmpty()):(l(this,xt).set([w,C,a,c,h,u],6),Math.abs(Math.atan2(C-c,w-a)-Math.atan2(b,A))<Math.PI/2?([a,c,h,u]=l(this,xt).subarray(2,6),l(this,bn).push(NaN,NaN,NaN,NaN,((a+h)/2-s)/r,((c+u)/2-i)/o),[a,c,w,C]=l(this,xt).subarray(14,18),l(this,ai).push(NaN,NaN,NaN,NaN,((w+a)/2-s)/r,((C+c)/2-i)/o),!0):([w,C,a,c,h,u]=l(this,xt).subarray(0,6),l(this,bn).push(((w+5*a)/6-s)/r,((C+5*c)/6-i)/o,((5*a+h)/6-s)/r,((5*c+u)/6-i)/o,((a+h)/2-s)/r,((c+u)/2-i)/o),[h,u,a,c,w,C]=l(this,xt).subarray(12,18),l(this,ai).push(((w+5*a)/6-s)/r,((C+5*c)/6-i)/o,((5*a+h)/6-s)/r,((5*c+u)/6-i)/o,((a+h)/2-s)/r,((c+u)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const t=l(this,bn),e=l(this,ai),s=l(this,xt).subarray(4,6),i=l(this,xt).subarray(16,18),[r,o,a,c]=l(this,mn),[h,u,d,f]=v(this,Rh,fg).call(this);if(isNaN(l(this,xt)[6])&&!this.isEmpty())return`M${(l(this,xt)[2]-r)/a} ${(l(this,xt)[3]-o)/c} L${(l(this,xt)[4]-r)/a} ${(l(this,xt)[5]-o)/c} L${h} ${u} L${d} ${f} L${(l(this,xt)[16]-r)/a} ${(l(this,xt)[17]-o)/c} L${(l(this,xt)[14]-r)/a} ${(l(this,xt)[15]-o)/c} Z`;const p=[];p.push(`M${t[4]} ${t[5]}`);for(let g=6;g<t.length;g+=6)isNaN(t[g])?p.push(`L${t[g+4]} ${t[g+5]}`):p.push(`C${t[g]} ${t[g+1]} ${t[g+2]} ${t[g+3]} ${t[g+4]} ${t[g+5]}`);p.push(`L${(s[0]-r)/a} ${(s[1]-o)/c} L${h} ${u} L${d} ${f} L${(i[0]-r)/a} ${(i[1]-o)/c}`);for(let g=e.length-6;g>=6;g-=6)isNaN(e[g])?p.push(`L${e[g+4]} ${e[g+5]}`):p.push(`C${e[g]} ${e[g+1]} ${e[g+2]} ${e[g+3]} ${e[g+4]} ${e[g+5]}`);return p.push(`L${e[4]} ${e[5]} Z`),p.join(" ")}getOutlines(){var b;const t=l(this,bn),e=l(this,ai),s=l(this,xt),i=s.subarray(4,6),r=s.subarray(16,18),[o,a,c,h]=l(this,mn),u=new Float64Array((((b=l(this,er))==null?void 0:b.length)??0)+2);for(let w=0,C=u.length-2;w<C;w+=2)u[w]=(l(this,er)[w]-o)/c,u[w+1]=(l(this,er)[w+1]-a)/h;u[u.length-2]=(l(this,yo)-o)/c,u[u.length-1]=(l(this,Ao)-a)/h;const[d,f,p,g]=v(this,Rh,fg).call(this);if(isNaN(s[6])&&!this.isEmpty()){const w=new Float64Array(36);return w.set([NaN,NaN,NaN,NaN,(s[2]-o)/c,(s[3]-a)/h,NaN,NaN,NaN,NaN,(s[4]-o)/c,(s[5]-a)/h,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(s[16]-o)/c,(s[17]-a)/h,NaN,NaN,NaN,NaN,(s[14]-o)/c,(s[15]-a)/h],0),new pg(w,u,l(this,mn),l(this,Ka),l(this,Ga),l(this,Wa))}const m=new Float64Array(l(this,bn).length+24+l(this,ai).length);let A=t.length;for(let w=0;w<A;w+=2){if(isNaN(t[w])){m[w]=m[w+1]=NaN;continue}m[w]=t[w],m[w+1]=t[w+1]}m.set([NaN,NaN,NaN,NaN,(i[0]-o)/c,(i[1]-a)/h,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(r[0]-o)/c,(r[1]-a)/h],A),A+=24;for(let w=e.length-6;w>=6;w-=6)for(let C=0;C<6;C+=2){if(isNaN(e[w+C])){m[A]=m[A+1]=NaN,A+=2;continue}m[A]=e[w+C],m[A+1]=e[w+C+1],A+=2}return m.set([NaN,NaN,NaN,NaN,e[4],e[5]],A),new pg(m,u,l(this,mn),l(this,Ka),l(this,Ga),l(this,Wa))}};mn=new WeakMap,ai=new WeakMap,Ga=new WeakMap,Wa=new WeakMap,bn=new WeakMap,xt=new WeakMap,yo=new WeakMap,Ao=new WeakMap,kh=new WeakMap,Sh=new WeakMap,Ka=new WeakMap,Xa=new WeakMap,er=new WeakMap,Th=new WeakMap,Id=new WeakMap,Od=new WeakMap,Rh=new WeakSet,fg=function(){const t=l(this,xt).subarray(4,6),e=l(this,xt).subarray(16,18),[s,i,r,o]=l(this,mn);return[(l(this,yo)+(t[0]-e[0])/2-s)/r,(l(this,Ao)+(t[1]-e[1])/2-i)/o,(l(this,yo)+(e[0]-t[0])/2-s)/r,(l(this,Ao)+(e[1]-t[1])/2-i)/o]},y(jn,Th,8),y(jn,Id,2),y(jn,Od,l(jn,Th)+l(jn,Id));let md=jn;var Ya,wo,ci,Dh,ds,Ph,se,Ze,Oc,Nc,uA;class pg extends hA{constructor(e,s,i,r,o,a){super();y(this,Ze);y(this,Ya);y(this,wo,null);y(this,ci);y(this,Dh);y(this,ds);y(this,Ph);y(this,se);_(this,se,e),_(this,ds,s),_(this,Ya,i),_(this,Ph,r),_(this,ci,o),_(this,Dh,a),v(this,Ze,uA).call(this,a);const{x:c,y:h,width:u,height:d}=l(this,wo);for(let f=0,p=e.length;f<p;f+=2)e[f]=(e[f]-c)/u,e[f+1]=(e[f+1]-h)/d;for(let f=0,p=s.length;f<p;f+=2)s[f]=(s[f]-c)/u,s[f+1]=(s[f+1]-h)/d}toSVGPath(){const e=[`M${l(this,se)[4]} ${l(this,se)[5]}`];for(let s=6,i=l(this,se).length;s<i;s+=6){if(isNaN(l(this,se)[s])){e.push(`L${l(this,se)[s+4]} ${l(this,se)[s+5]}`);continue}e.push(`C${l(this,se)[s]} ${l(this,se)[s+1]} ${l(this,se)[s+2]} ${l(this,se)[s+3]} ${l(this,se)[s+4]} ${l(this,se)[s+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,s,i,r],o){const a=i-e,c=r-s;let h,u;switch(o){case 0:h=v(this,Ze,Oc).call(this,l(this,se),e,r,a,-c),u=v(this,Ze,Oc).call(this,l(this,ds),e,r,a,-c);break;case 90:h=v(this,Ze,Nc).call(this,l(this,se),e,s,a,c),u=v(this,Ze,Nc).call(this,l(this,ds),e,s,a,c);break;case 180:h=v(this,Ze,Oc).call(this,l(this,se),i,s,-a,c),u=v(this,Ze,Oc).call(this,l(this,ds),i,s,-a,c);break;case 270:h=v(this,Ze,Nc).call(this,l(this,se),i,r,-a,-c),u=v(this,Ze,Nc).call(this,l(this,ds),i,r,-a,-c);break}return{outline:Array.from(h),points:[Array.from(u)]}}get box(){return l(this,wo)}getNewOutline(e,s){const{x:i,y:r,width:o,height:a}=l(this,wo),[c,h,u,d]=l(this,Ya),f=o*u,p=a*d,g=i*u+c,m=r*d+h,A=new md({x:l(this,ds)[0]*f+g,y:l(this,ds)[1]*p+m},l(this,Ya),l(this,Ph),e,l(this,Dh),s??l(this,ci));for(let b=2;b<l(this,ds).length;b+=2)A.add({x:l(this,ds)[b]*f+g,y:l(this,ds)[b+1]*p+m});return A.getOutlines()}}Ya=new WeakMap,wo=new WeakMap,ci=new WeakMap,Dh=new WeakMap,ds=new WeakMap,Ph=new WeakMap,se=new WeakMap,Ze=new WeakSet,Oc=function(e,s,i,r,o){const a=new Float64Array(e.length);for(let c=0,h=e.length;c<h;c+=2)a[c]=s+e[c]*r,a[c+1]=i+e[c+1]*o;return a},Nc=function(e,s,i,r,o){const a=new Float64Array(e.length);for(let c=0,h=e.length;c<h;c+=2)a[c]=s+e[c+1]*r,a[c+1]=i+e[c]*o;return a},uA=function(e){const s=l(this,se);let i=s[4],r=s[5],o=i,a=r,c=i,h=r,u=i,d=r;const f=e?Math.max:Math.min;for(let b=6,w=s.length;b<w;b+=6){if(isNaN(s[b]))o=Math.min(o,s[b+4]),a=Math.min(a,s[b+5]),c=Math.max(c,s[b+4]),h=Math.max(h,s[b+5]),d<s[b+5]?(u=s[b+4],d=s[b+5]):d===s[b+5]&&(u=f(u,s[b+4]));else{const C=it.bezierBoundingBox(i,r,...s.slice(b,b+6));o=Math.min(o,C[0]),a=Math.min(a,C[1]),c=Math.max(c,C[2]),h=Math.max(h,C[3]),d<C[3]?(u=C[2],d=C[3]):d===C[3]&&(u=f(u,C[2]))}i=s[b+4],r=s[b+5]}const p=o-l(this,ci),g=a-l(this,ci),m=c-o+2*l(this,ci),A=h-a+2*l(this,ci);_(this,wo,{x:p,y:g,width:m,height:A,lastPoint:[u,d]})};var Lh,Mh,Ys,xo,Za,he,Fh,Ja,Ih,Oh,Zs,Qa,zt,gg,mg,dA,Tr,fA,Fi;const Vn=class Vn{constructor({editor:t=null,uiManager:e=null}){y(this,zt);y(this,Lh,v(this,zt,dA).bind(this));y(this,Mh,v(this,zt,fA).bind(this));y(this,Ys,null);y(this,xo,null);y(this,Za);y(this,he,null);y(this,Fh,!1);y(this,Ja,!1);y(this,Ih,null);y(this,Oh);y(this,Zs,null);y(this,Qa);var s;t?(_(this,Ja,!1),_(this,Qa,ut.HIGHLIGHT_COLOR),_(this,Ih,t)):(_(this,Ja,!0),_(this,Qa,ut.HIGHLIGHT_DEFAULT_COLOR)),_(this,Zs,(t==null?void 0:t._uiManager)||e),_(this,Oh,l(this,Zs)._eventBus),_(this,Za,(t==null?void 0:t.color)||((s=l(this,Zs))==null?void 0:s.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return Ct(this,"_keyboardManager",new tu([[["Escape","mac+Escape"],Vn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Vn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Vn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Vn.prototype._moveToPrevious],[["Home","mac+Home"],Vn.prototype._moveToBeginning],[["End","mac+End"],Vn.prototype._moveToEnd]]))}renderButton(){const t=_(this,Ys,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=l(this,Zs)._signal;t.addEventListener("click",v(this,zt,Tr).bind(this),{signal:e}),t.addEventListener("keydown",l(this,Lh),{signal:e});const s=_(this,xo,document.createElement("span"));return s.className="swatch",s.setAttribute("aria-hidden",!0),s.style.backgroundColor=l(this,Za),t.append(s),t}renderMainDropdown(){const t=_(this,he,v(this,zt,gg).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===l(this,Ys)){v(this,zt,Tr).call(this,t);return}const e=t.target.getAttribute("data-color");e&&v(this,zt,mg).call(this,e,t)}_moveToNext(t){var e,s;if(!l(this,zt,Fi)){v(this,zt,Tr).call(this,t);return}if(t.target===l(this,Ys)){(e=l(this,he).firstChild)==null||e.focus();return}(s=t.target.nextSibling)==null||s.focus()}_moveToPrevious(t){var e,s;if(t.target===((e=l(this,he))==null?void 0:e.firstChild)||t.target===l(this,Ys)){l(this,zt,Fi)&&this._hideDropdownFromKeyboard();return}l(this,zt,Fi)||v(this,zt,Tr).call(this,t),(s=t.target.previousSibling)==null||s.focus()}_moveToBeginning(t){var e;if(!l(this,zt,Fi)){v(this,zt,Tr).call(this,t);return}(e=l(this,he).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!l(this,zt,Fi)){v(this,zt,Tr).call(this,t);return}(e=l(this,he).lastChild)==null||e.focus()}hideDropdown(){var t;(t=l(this,he))==null||t.classList.add("hidden"),window.removeEventListener("pointerdown",l(this,Mh))}_hideDropdownFromKeyboard(){var t;if(!l(this,Ja)){if(!l(this,zt,Fi)){(t=l(this,Ih))==null||t.unselect();return}this.hideDropdown(),l(this,Ys).focus({preventScroll:!0,focusVisible:l(this,Fh)})}}updateColor(t){if(l(this,xo)&&(l(this,xo).style.backgroundColor=t),!l(this,he))return;const e=l(this,Zs).highlightColors.values();for(const s of l(this,he).children)s.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=l(this,Ys))==null||t.remove(),_(this,Ys,null),_(this,xo,null),(e=l(this,he))==null||e.remove(),_(this,he,null)}};Lh=new WeakMap,Mh=new WeakMap,Ys=new WeakMap,xo=new WeakMap,Za=new WeakMap,he=new WeakMap,Fh=new WeakMap,Ja=new WeakMap,Ih=new WeakMap,Oh=new WeakMap,Zs=new WeakMap,Qa=new WeakMap,zt=new WeakSet,gg=function(){const t=document.createElement("div"),e=l(this,Zs)._signal;t.addEventListener("contextmenu",Je,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[s,i]of l(this,Zs).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",i),r.title=s,r.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${s}`);const o=document.createElement("span");r.append(o),o.className="swatch",o.style.backgroundColor=i,r.setAttribute("aria-selected",i===l(this,Za)),r.addEventListener("click",v(this,zt,mg).bind(this,i),{signal:e}),t.append(r)}return t.addEventListener("keydown",l(this,Lh),{signal:e}),t},mg=function(t,e){e.stopPropagation(),l(this,Oh).dispatch("switchannotationeditorparams",{source:this,type:l(this,Qa),value:t})},dA=function(t){Vn._keyboardManager.exec(this,t)},Tr=function(t){if(l(this,zt,Fi)){this.hideDropdown();return}if(_(this,Fh,t.detail===0),window.addEventListener("pointerdown",l(this,Mh),{signal:l(this,Zs)._signal}),l(this,he)){l(this,he).classList.remove("hidden");return}const e=_(this,he,v(this,zt,gg).call(this));l(this,Ys).append(e)},fA=function(t){var e;(e=l(this,he))!=null&&e.contains(t.target)||this.hideDropdown()},Fi=function(){return l(this,he)&&!l(this,he).classList.contains("hidden")};let bd=Vn;var tc,Nh,sr,Eo,ec,Es,qh,$h,Co,Js,Be,fs,Nd,sc,ko,ue,nc,_n,Bh,At,bg,_g,pA,gA,mA,vg,qc,Ss,na,bA,Wu,$c,_A,vA,yA,AA;const Rt=class Rt extends Lt{constructor(e){super({...e,name:"highlightEditor"});y(this,At);y(this,tc,null);y(this,Nh,0);y(this,sr);y(this,Eo,null);y(this,ec,null);y(this,Es,null);y(this,qh,null);y(this,$h,0);y(this,Co,null);y(this,Js,null);y(this,Be,null);y(this,fs,!1);y(this,Nd,v(this,At,bA).bind(this));y(this,sc,null);y(this,ko);y(this,ue,null);y(this,nc,"");y(this,_n);y(this,Bh,"");this.color=e.color||Rt._defaultColor,_(this,_n,e.thickness||Rt._defaultThickness),_(this,ko,e.opacity||Rt._defaultOpacity),_(this,sr,e.boxes||null),_(this,Bh,e.methodOfCreation||""),_(this,nc,e.text||""),this._isDraggable=!1,e.highlightId>-1?(_(this,fs,!0),v(this,At,_g).call(this,e),v(this,At,qc).call(this)):(_(this,tc,e.anchorNode),_(this,Nh,e.anchorOffset),_(this,qh,e.focusNode),_(this,$h,e.focusOffset),v(this,At,bg).call(this),v(this,At,qc).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=Rt.prototype;return Ct(this,"_keyboardManager",new tu([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:l(this,fs)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:l(this,_n),methodOfCreation:l(this,Bh)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,s){var i;Lt.initialize(e,s),Rt._defaultColor||(Rt._defaultColor=((i=s.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(e,s){switch(e){case ut.HIGHLIGHT_DEFAULT_COLOR:Rt._defaultColor=s;break;case ut.HIGHLIGHT_THICKNESS:Rt._defaultThickness=s;break}}translateInPage(e,s){}get toolbarPosition(){return l(this,sc)}updateParams(e,s){switch(e){case ut.HIGHLIGHT_COLOR:v(this,At,pA).call(this,s);break;case ut.HIGHLIGHT_THICKNESS:v(this,At,gA).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[ut.HIGHLIGHT_DEFAULT_COLOR,Rt._defaultColor],[ut.HIGHLIGHT_THICKNESS,Rt._defaultThickness]]}get propertiesToUpdate(){return[[ut.HIGHLIGHT_COLOR,this.color||Rt._defaultColor],[ut.HIGHLIGHT_THICKNESS,l(this,_n)||Rt._defaultThickness],[ut.HIGHLIGHT_FREE,l(this,fs)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(_(this,ec,new bd({editor:this})),e.addColorPicker(l(this,ec))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(v(this,At,$c).call(this))}getBaseTranslation(){return[0,0]}getRect(e,s){return super.getRect(e,s,v(this,At,$c).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){v(this,At,vg).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(v(this,At,qc).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var i;let s=!1;this.parent&&!e?v(this,At,vg).call(this):e&&(v(this,At,qc).call(this,e),s=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),s&&this.select()}rotate(e){var r,o,a;const{drawLayer:s}=this.parent;let i;l(this,fs)?(e=(e-this.rotation+360)%360,i=v(r=Rt,Ss,na).call(r,l(this,Js).box,e)):i=v(o=Rt,Ss,na).call(o,this,e),s.rotate(l(this,Be),e),s.rotate(l(this,ue),e),s.updateBox(l(this,Be),i),s.updateBox(l(this,ue),v(a=Rt,Ss,na).call(a,l(this,Es).box,e))}render(){if(this.div)return this.div;const e=super.render();l(this,nc)&&(e.setAttribute("aria-label",l(this,nc)),e.setAttribute("role","mark")),l(this,fs)?e.classList.add("free"):this.div.addEventListener("keydown",l(this,Nd),{signal:this._uiManager._signal});const s=_(this,Co,document.createElement("div"));e.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=l(this,Eo);const[i,r]=this.parentDimensions;return this.setDims(this.width*i,this.height*r),fd(this,l(this,Co),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.parent.drawLayer.addClass(l(this,ue),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(l(this,ue),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:v(this,At,Wu).call(this,!0);break;case 1:case 3:v(this,At,Wu).call(this,!1);break}}select(){var e,s;super.select(),l(this,ue)&&((e=this.parent)==null||e.drawLayer.removeClass(l(this,ue),"hovered"),(s=this.parent)==null||s.drawLayer.addClass(l(this,ue),"selected"))}unselect(){var e;super.unselect(),l(this,ue)&&((e=this.parent)==null||e.drawLayer.removeClass(l(this,ue),"selected"),l(this,fs)||v(this,At,Wu).call(this,!1))}get _mustFixPosition(){return!l(this,fs)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(l(this,Be),e),this.parent.drawLayer.show(l(this,ue),e))}static startHighlighting(e,s,{target:i,x:r,y:o}){const{x:a,y:c,width:h,height:u}=i.getBoundingClientRect(),d=A=>{v(this,Ss,yA).call(this,e,A)},f=e._signal,p={capture:!0,passive:!1,signal:f},g=A=>{A.preventDefault(),A.stopPropagation()},m=A=>{i.removeEventListener("pointermove",d),window.removeEventListener("blur",m),window.removeEventListener("pointerup",m),window.removeEventListener("pointerdown",g,p),window.removeEventListener("contextmenu",Je),v(this,Ss,AA).call(this,e,A)};window.addEventListener("blur",m,{signal:f}),window.addEventListener("pointerup",m,{signal:f}),window.addEventListener("pointerdown",g,p),window.addEventListener("contextmenu",Je,{signal:f}),i.addEventListener("pointermove",d,{signal:f}),this._freeHighlight=new md({x:r,y:o},[a,c,h,u],e.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(e,s,i){var m;const r=super.deserialize(e,s,i),{rect:[o,a,c,h],color:u,quadPoints:d}=e;r.color=it.makeHexColor(...u),_(r,ko,e.opacity);const[f,p]=r.pageDimensions;r.width=(c-o)/f,r.height=(h-a)/p;const g=_(r,sr,[]);for(let A=0;A<d.length;A+=8)g.push({x:(d[4]-c)/f,y:(h-(1-d[A+5]))/p,width:(d[A+2]-d[A])/f,height:(d[A+5]-d[A+1])/p});return v(m=r,At,bg).call(m),r}serialize(e=!1){if(this.isEmpty()||e)return null;const s=this.getRect(0,0),i=Lt._colorManager.convert(this.color);return{annotationType:Et.HIGHLIGHT,color:i,opacity:l(this,ko),thickness:l(this,_n),quadPoints:v(this,At,_A).call(this),outlines:v(this,At,vA).call(this,s),pageIndex:this.pageIndex,rect:s,rotation:v(this,At,$c).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};tc=new WeakMap,Nh=new WeakMap,sr=new WeakMap,Eo=new WeakMap,ec=new WeakMap,Es=new WeakMap,qh=new WeakMap,$h=new WeakMap,Co=new WeakMap,Js=new WeakMap,Be=new WeakMap,fs=new WeakMap,Nd=new WeakMap,sc=new WeakMap,ko=new WeakMap,ue=new WeakMap,nc=new WeakMap,_n=new WeakMap,Bh=new WeakMap,At=new WeakSet,bg=function(){const e=new z_(l(this,sr),.001);_(this,Js,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=l(this,Js).box;const s=new z_(l(this,sr),.0025,.001,this._uiManager.direction==="ltr");_(this,Es,s.getOutlines());const{lastPoint:i}=l(this,Es).box;_(this,sc,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},_g=function({highlightOutlines:e,highlightId:s,clipPathId:i}){var d,f;if(_(this,Js,e),_(this,Es,e.getNewOutline(l(this,_n)/2+1.5,.0025)),s>=0)_(this,Be,s),_(this,Eo,i),this.parent.drawLayer.finalizeLine(s,e),_(this,ue,this.parent.drawLayer.highlightOutline(l(this,Es)));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(l(this,Be),e),this.parent.drawLayer.updateBox(l(this,Be),v(d=Rt,Ss,na).call(d,l(this,Js).box,(p-this.rotation+360)%360)),this.parent.drawLayer.updateLine(l(this,ue),l(this,Es)),this.parent.drawLayer.updateBox(l(this,ue),v(f=Rt,Ss,na).call(f,l(this,Es).box,p))}const{x:o,y:a,width:c,height:h}=e.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=c,this.height=h;break;case 90:{const[p,g]=this.parentDimensions;this.x=a,this.y=1-o,this.width=c*g/p,this.height=h*p/g;break}case 180:this.x=1-o,this.y=1-a,this.width=c,this.height=h;break;case 270:{const[p,g]=this.parentDimensions;this.x=1-a,this.y=o,this.width=c*g/p,this.height=h*p/g;break}}const{lastPoint:u}=l(this,Es).box;_(this,sc,[(u[0]-o)/c,(u[1]-a)/h])},pA=function(e){const s=r=>{var o,a;this.color=r,(o=this.parent)==null||o.drawLayer.changeColor(l(this,Be),r),(a=l(this,ec))==null||a.updateColor(r)},i=this.color;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},gA=function(e){const s=l(this,_n),i=r=>{_(this,_n,r),v(this,At,mA).call(this,r)};this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},mA=function(e){if(!l(this,fs))return;v(this,At,_g).call(this,{highlightOutlines:l(this,Js).getNewOutline(e/2)}),this.fixAndSetPosition();const[s,i]=this.parentDimensions;this.setDims(this.width*s,this.height*i)},vg=function(){l(this,Be)===null||!this.parent||(this.parent.drawLayer.remove(l(this,Be)),_(this,Be,null),this.parent.drawLayer.remove(l(this,ue)),_(this,ue,null))},qc=function(e=this.parent){l(this,Be)===null&&({id:is(this,Be)._,clipPathId:is(this,Eo)._}=e.drawLayer.highlight(l(this,Js),this.color,l(this,ko)),_(this,ue,e.drawLayer.highlightOutline(l(this,Es))),l(this,Co)&&(l(this,Co).style.clipPath=l(this,Eo)))},Ss=new WeakSet,na=function({x:e,y:s,width:i,height:r},o){switch(o){case 90:return{x:1-s-r,y:e,width:r,height:i};case 180:return{x:1-e-i,y:1-s-r,width:i,height:r};case 270:return{x:s,y:1-e-i,width:r,height:i}}return{x:e,y:s,width:i,height:r}},bA=function(e){Rt._keyboardManager.exec(this,e)},Wu=function(e){if(!l(this,tc))return;const s=window.getSelection();e?s.setPosition(l(this,tc),l(this,Nh)):s.setPosition(l(this,qh),l(this,$h))},$c=function(){return l(this,fs)?this.rotation:0},_A=function(){if(l(this,fs))return null;const[e,s]=this.pageDimensions,[i,r]=this.pageTranslation,o=l(this,sr),a=new Float32Array(o.length*8);let c=0;for(const{x:h,y:u,width:d,height:f}of o){const p=h*e+i,g=(1-u-f)*s+r;a[c]=a[c+4]=p,a[c+1]=a[c+3]=g,a[c+2]=a[c+6]=p+d*e,a[c+5]=a[c+7]=g+f*s,c+=8}return a},vA=function(e){return l(this,Js).serialize(e,v(this,At,$c).call(this))},yA=function(e,s){this._freeHighlight.add(s)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},AA=function(e,s){this._freeHighlight.isEmpty()?e.drawLayer.removeFreeHighlight(this._freeHighlightId):e.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},y(Rt,Ss),mt(Rt,"_defaultColor",null),mt(Rt,"_defaultOpacity",1),mt(Rt,"_defaultThickness",12),mt(Rt,"_l10nPromise"),mt(Rt,"_type","highlight"),mt(Rt,"_editorType",Et.HIGHLIGHT),mt(Rt,"_freeHighlightId",-1),mt(Rt,"_freeHighlight",null),mt(Rt,"_freeHighlightClipId","");let _d=Rt;var So,To,Hh,zh,jh,Ro,vn,li,Cs,Do,Po,hi,Lo,Mo,nr,J,wA,xA,EA,CA,Ag,kA,wg,SA,TA,RA,DA,PA,Rr,xg,Ku,Xu,ia,Eg,Yu,Ei,LA,Cg,MA,FA,kg,Zu,Bc;const Jt=class Jt extends Lt{constructor(e){super({...e,name:"inkEditor"});y(this,J);y(this,So,0);y(this,To,0);y(this,Hh,this.canvasPointermove.bind(this));y(this,zh,this.canvasPointerleave.bind(this));y(this,jh,this.canvasPointerup.bind(this));y(this,Ro,this.canvasPointerdown.bind(this));y(this,vn,null);y(this,li,new Path2D);y(this,Cs,!1);y(this,Do,!1);y(this,Po,!1);y(this,hi,null);y(this,Lo,0);y(this,Mo,0);y(this,nr,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,s){Lt.initialize(e,s)}static updateDefaultParams(e,s){switch(e){case ut.INK_THICKNESS:Jt._defaultThickness=s;break;case ut.INK_COLOR:Jt._defaultColor=s;break;case ut.INK_OPACITY:Jt._defaultOpacity=s/100;break}}updateParams(e,s){switch(e){case ut.INK_THICKNESS:v(this,J,wA).call(this,s);break;case ut.INK_COLOR:v(this,J,xA).call(this,s);break;case ut.INK_OPACITY:v(this,J,EA).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[ut.INK_THICKNESS,Jt._defaultThickness],[ut.INK_COLOR,Jt._defaultColor||Lt._defaultLineColor],[ut.INK_OPACITY,Math.round(Jt._defaultOpacity*100)]]}get propertiesToUpdate(){return[[ut.INK_THICKNESS,this.thickness||Jt._defaultThickness],[ut.INK_COLOR,this.color||Jt._defaultColor||Lt._defaultLineColor],[ut.INK_OPACITY,Math.round(100*(this.opacity??Jt._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(v(this,J,Ku).call(this),v(this,J,Xu).call(this)),this.isAttachedToDOM||(this.parent.add(this),v(this,J,ia).call(this)),v(this,J,Bc).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,l(this,vn)&&(clearTimeout(l(this,vn)),_(this,vn,null)),(e=l(this,hi))==null||e.disconnect(),_(this,hi,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,s]=this.parentDimensions,i=this.width*e,r=this.height*s;this.setDimensions(i,r)}enableEditMode(){l(this,Cs)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",l(this,Ro),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",l(this,Ro)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){l(this,Cs)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),_(this,Cs,!0),this.div.classList.add("disabled"),v(this,J,Bc).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||l(this,Cs)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),v(this,J,kA).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),v(this,J,wg).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),v(this,J,xg).call(this,e)}canvasPointerleave(e){v(this,J,xg).call(this,e)}get isResizable(){return!this.isEmpty()&&l(this,Cs)}render(){if(this.div)return this.div;let e,s;this.width&&(e=this.x,s=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[i,r,o,a]=v(this,J,CA).call(this);if(this.setAt(i,r,0,0),this.setDims(o,a),v(this,J,Ku).call(this),this.width){const[c,h]=this.parentDimensions;this.setAspectRatio(this.width*c,this.height*h),this.setAt(e*c,s*h,this.width*c,this.height*h),_(this,Po,!0),v(this,J,ia).call(this),this.setDims(this.width*c,this.height*h),v(this,J,Rr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return v(this,J,Xu).call(this),this.div}setDimensions(e,s){const i=Math.round(e),r=Math.round(s);if(l(this,Lo)===i&&l(this,Mo)===r)return;_(this,Lo,i),_(this,Mo,r),this.canvas.style.visibility="hidden";const[o,a]=this.parentDimensions;this.width=e/o,this.height=s/a,this.fixAndSetPosition(),l(this,Cs)&&v(this,J,Eg).call(this,e,s),v(this,J,ia).call(this),v(this,J,Rr).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(e,s,i){var A,b,w;if(e instanceof Qy)return null;const r=super.deserialize(e,s,i);r.thickness=e.thickness,r.color=it.makeHexColor(...e.color),r.opacity=e.opacity;const[o,a]=r.pageDimensions,c=r.width*o,h=r.height*a,u=r.parentScale,d=e.thickness/2;_(r,Cs,!0),_(r,Lo,Math.round(c)),_(r,Mo,Math.round(h));const{paths:f,rect:p,rotation:g}=e;for(let{bezier:C}of f){C=v(A=Jt,Ei,MA).call(A,C,p,g);const k=[];r.paths.push(k);let R=u*(C[0]-d),E=u*(C[1]-d);for(let M=2,U=C.length;M<U;M+=6){const N=u*(C[M]-d),B=u*(C[M+1]-d),H=u*(C[M+2]-d),nt=u*(C[M+3]-d),I=u*(C[M+4]-d),ot=u*(C[M+5]-d);k.push([[R,E],[N,B],[H,nt],[I,ot]]),R=I,E=ot}const L=v(this,Ei,LA).call(this,k);r.bezierPath2D.push(L)}const m=v(b=r,J,kg).call(b);return _(r,To,Math.max(Lt.MIN_SIZE,m[2]-m[0])),_(r,So,Math.max(Lt.MIN_SIZE,m[3]-m[1])),v(w=r,J,Eg).call(w,c,h),r}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),s=Lt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Et.INK,color:s,thickness:this.thickness,opacity:this.opacity,paths:v(this,J,FA).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};So=new WeakMap,To=new WeakMap,Hh=new WeakMap,zh=new WeakMap,jh=new WeakMap,Ro=new WeakMap,vn=new WeakMap,li=new WeakMap,Cs=new WeakMap,Do=new WeakMap,Po=new WeakMap,hi=new WeakMap,Lo=new WeakMap,Mo=new WeakMap,nr=new WeakMap,J=new WeakSet,wA=function(e){const s=r=>{this.thickness=r,v(this,J,Bc).call(this)},i=this.thickness;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},xA=function(e){const s=r=>{this.color=r,v(this,J,Rr).call(this)},i=this.color;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},EA=function(e){const s=r=>{this.opacity=r,v(this,J,Rr).call(this)};e/=100;const i=this.opacity;this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},CA=function(){const{parentRotation:e,parentDimensions:[s,i]}=this;switch(e){case 90:return[0,i,i,s];case 180:return[s,i,s,i];case 270:return[s,0,i,s];default:return[0,0,s,i]}},Ag=function(){const{ctx:e,color:s,opacity:i,thickness:r,parentScale:o,scaleFactor:a}=this;e.lineWidth=r*o/a,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${s}${Lat(i)}`},kA=function(e,s){const i=this._uiManager._signal;this.canvas.addEventListener("contextmenu",Je,{signal:i}),this.canvas.addEventListener("pointerleave",l(this,zh),{signal:i}),this.canvas.addEventListener("pointermove",l(this,Hh),{signal:i}),this.canvas.addEventListener("pointerup",l(this,jh),{signal:i}),this.canvas.removeEventListener("pointerdown",l(this,Ro)),this.isEditing=!0,l(this,Po)||(_(this,Po,!0),v(this,J,ia).call(this),this.thickness||(this.thickness=Jt._defaultThickness),this.color||(this.color=Jt._defaultColor||Lt._defaultLineColor),this.opacity??(this.opacity=Jt._defaultOpacity)),this.currentPath.push([e,s]),_(this,Do,!1),v(this,J,Ag).call(this),_(this,nr,()=>{v(this,J,RA).call(this),l(this,nr)&&window.requestAnimationFrame(l(this,nr))}),window.requestAnimationFrame(l(this,nr))},wg=function(e,s){const[i,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===i&&s===r)return;const o=this.currentPath;let a=l(this,li);if(o.push([e,s]),_(this,Do,!0),o.length<=2){a.moveTo(...o[0]),a.lineTo(e,s);return}o.length===3&&(_(this,li,a=new Path2D),a.moveTo(...o[0])),v(this,J,DA).call(this,a,...o.at(-3),...o.at(-2),e,s)},SA=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);l(this,li).lineTo(...e)},TA=function(e,s){_(this,nr,null),e=Math.min(Math.max(e,0),this.canvas.width),s=Math.min(Math.max(s,0),this.canvas.height),v(this,J,wg).call(this,e,s),v(this,J,SA).call(this);let i;if(this.currentPath.length!==1)i=v(this,J,PA).call(this);else{const h=[e,s];i=[[h,h.slice(),h.slice(),h]]}const r=l(this,li),o=this.currentPath;this.currentPath=[],_(this,li,new Path2D);const a=()=>{this.allRawPaths.push(o),this.paths.push(i),this.bezierPath2D.push(r),this._uiManager.rebuild(this)},c=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(v(this,J,Ku).call(this),v(this,J,Xu).call(this)),v(this,J,Bc).call(this))};this.addCommands({cmd:a,undo:c,mustExec:!0})},RA=function(){if(!l(this,Do))return;_(this,Do,!1);const e=Math.ceil(this.thickness*this.parentScale),s=this.currentPath.slice(-3),i=s.map(a=>a[0]),r=s.map(a=>a[1]);Math.min(...i)-e,Math.max(...i)+e,Math.min(...r)-e,Math.max(...r)+e;const{ctx:o}=this;o.save(),o.clearRect(0,0,this.canvas.width,this.canvas.height);for(const a of this.bezierPath2D)o.stroke(a);o.stroke(l(this,li)),o.restore()},DA=function(e,s,i,r,o,a,c){const h=(s+r)/2,u=(i+o)/2,d=(r+a)/2,f=(o+c)/2;e.bezierCurveTo(h+2*(r-h)/3,u+2*(o-u)/3,d+2*(r-d)/3,f+2*(o-f)/3,d,f)},PA=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const s=[];let i,[r,o]=e[0];for(i=1;i<e.length-2;i++){const[p,g]=e[i],[m,A]=e[i+1],b=(p+m)/2,w=(g+A)/2,C=[r+2*(p-r)/3,o+2*(g-o)/3],k=[b+2*(p-b)/3,w+2*(g-w)/3];s.push([[r,o],C,k,[b,w]]),[r,o]=[b,w]}const[a,c]=e[i],[h,u]=e[i+1],d=[r+2*(a-r)/3,o+2*(c-o)/3],f=[h+2*(a-h)/3,u+2*(c-u)/3];return s.push([[r,o],d,f,[h,u]]),s},Rr=function(){if(this.isEmpty()){v(this,J,Yu).call(this);return}v(this,J,Ag).call(this);const{canvas:e,ctx:s}=this;s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,e.width,e.height),v(this,J,Yu).call(this);for(const i of this.bezierPath2D)s.stroke(i)},xg=function(e){this.canvas.removeEventListener("pointerleave",l(this,zh)),this.canvas.removeEventListener("pointermove",l(this,Hh)),this.canvas.removeEventListener("pointerup",l(this,jh)),this.canvas.addEventListener("pointerdown",l(this,Ro),{signal:this._uiManager._signal}),l(this,vn)&&clearTimeout(l(this,vn)),_(this,vn,setTimeout(()=>{_(this,vn,null),this.canvas.removeEventListener("contextmenu",Je)},10)),v(this,J,TA).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Ku=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},Xu=function(){_(this,hi,new ResizeObserver(e=>{const s=e[0].contentRect;s.width&&s.height&&this.setDimensions(s.width,s.height)})),l(this,hi).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=l(this,hi))==null||e.disconnect(),_(this,hi,null)},{once:!0})},ia=function(){if(!l(this,Po))return;const[e,s]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*s),v(this,J,Yu).call(this)},Eg=function(e,s){const i=v(this,J,Zu).call(this),r=(e-i)/l(this,To),o=(s-i)/l(this,So);this.scaleFactor=Math.min(r,o)},Yu=function(){const e=v(this,J,Zu).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},Ei=new WeakSet,LA=function(e){const s=new Path2D;for(let i=0,r=e.length;i<r;i++){const[o,a,c,h]=e[i];i===0&&s.moveTo(...o),s.bezierCurveTo(a[0],a[1],c[0],c[1],h[0],h[1])}return s},Cg=function(e,s,i){const[r,o,a,c]=s;switch(i){case 0:for(let h=0,u=e.length;h<u;h+=2)e[h]+=r,e[h+1]=c-e[h+1];break;case 90:for(let h=0,u=e.length;h<u;h+=2){const d=e[h];e[h]=e[h+1]+r,e[h+1]=d+o}break;case 180:for(let h=0,u=e.length;h<u;h+=2)e[h]=a-e[h],e[h+1]+=o;break;case 270:for(let h=0,u=e.length;h<u;h+=2){const d=e[h];e[h]=a-e[h+1],e[h+1]=c-d}break;default:throw new Error("Invalid rotation")}return e},MA=function(e,s,i){const[r,o,a,c]=s;switch(i){case 0:for(let h=0,u=e.length;h<u;h+=2)e[h]-=r,e[h+1]=c-e[h+1];break;case 90:for(let h=0,u=e.length;h<u;h+=2){const d=e[h];e[h]=e[h+1]-o,e[h+1]=d-r}break;case 180:for(let h=0,u=e.length;h<u;h+=2)e[h]=a-e[h],e[h+1]-=o;break;case 270:for(let h=0,u=e.length;h<u;h+=2){const d=e[h];e[h]=c-e[h+1],e[h+1]=a-d}break;default:throw new Error("Invalid rotation")}return e},FA=function(e,s,i,r){var u,d;const o=[],a=this.thickness/2,c=e*s+a,h=e*i+a;for(const f of this.paths){const p=[],g=[];for(let m=0,A=f.length;m<A;m++){const[b,w,C,k]=f[m];if(b[0]===k[0]&&b[1]===k[1]&&A===1){const nt=e*b[0]+c,I=e*b[1]+h;p.push(nt,I),g.push(nt,I);break}const R=e*b[0]+c,E=e*b[1]+h,L=e*w[0]+c,M=e*w[1]+h,U=e*C[0]+c,N=e*C[1]+h,B=e*k[0]+c,H=e*k[1]+h;m===0&&(p.push(R,E),g.push(R,E)),p.push(L,M,U,N,B,H),g.push(L,M),m===A-1&&g.push(B,H)}o.push({bezier:v(u=Jt,Ei,Cg).call(u,p,r,this.rotation),points:v(d=Jt,Ei,Cg).call(d,g,r,this.rotation)})}return o},kg=function(){let e=1/0,s=-1/0,i=1/0,r=-1/0;for(const o of this.paths)for(const[a,c,h,u]of o){const d=it.bezierBoundingBox(...a,...c,...h,...u);e=Math.min(e,d[0]),i=Math.min(i,d[1]),s=Math.max(s,d[2]),r=Math.max(r,d[3])}return[e,i,s,r]},Zu=function(){return l(this,Cs)?Math.ceil(this.thickness*this.parentScale):0},Bc=function(e=!1){if(this.isEmpty())return;if(!l(this,Cs)){v(this,J,Rr).call(this);return}const s=v(this,J,kg).call(this),i=v(this,J,Zu).call(this);_(this,To,Math.max(Lt.MIN_SIZE,s[2]-s[0])),_(this,So,Math.max(Lt.MIN_SIZE,s[3]-s[1]));const r=Math.ceil(i+l(this,To)*this.scaleFactor),o=Math.ceil(i+l(this,So)*this.scaleFactor),[a,c]=this.parentDimensions;this.width=r/a,this.height=o/c,this.setAspectRatio(r,o);const h=this.translationX,u=this.translationY;this.translationX=-s[0],this.translationY=-s[1],v(this,J,ia).call(this),v(this,J,Rr).call(this),_(this,Lo,r),_(this,Mo,o),this.setDims(r,o);const d=e?i/this.scaleFactor/2:0;this.translate(h-this.translationX-d,u-this.translationY-d)},y(Jt,Ei),mt(Jt,"_defaultColor",null),mt(Jt,"_defaultOpacity",1),mt(Jt,"_defaultThickness",1),mt(Jt,"_type","ink"),mt(Jt,"_editorType",Et.INK);let yg=Jt;var xe,Ee,ir,ui,rr,ic,yn,Vh,di,An,Qs,Uh,kt,Hc,zc,Ju,Tg,IA,OA,NA,Rg,Qu,qA;const el=class el extends Lt{constructor(e){super({...e,name:"stampEditor"});y(this,kt);y(this,xe,null);y(this,Ee,null);y(this,ir,null);y(this,ui,null);y(this,rr,null);y(this,ic,"");y(this,yn,null);y(this,Vh,!1);y(this,di,null);y(this,An,null);y(this,Qs,!1);y(this,Uh,!1);_(this,ui,e.bitmapUrl),_(this,rr,e.bitmapFile)}static initialize(e,s){Lt.initialize(e,s)}static get supportedTypes(){return Ct(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(s=>`image/${s}`))}static get supportedTypesStr(){return Ct(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,s){s.pasteEditor(Et.STAMP,{bitmapFile:e.getAsFile()})}remove(){var e,s;l(this,Ee)&&(_(this,xe,null),this._uiManager.imageManager.deleteId(l(this,Ee)),(e=l(this,yn))==null||e.remove(),_(this,yn,null),(s=l(this,di))==null||s.disconnect(),_(this,di,null),l(this,An)&&(clearTimeout(l(this,An)),_(this,An,null))),super.remove()}rebuild(){if(!this.parent){l(this,Ee)&&v(this,kt,Ju).call(this);return}super.rebuild(),this.div!==null&&(l(this,Ee)&&l(this,yn)===null&&v(this,kt,Ju).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(l(this,ir)||l(this,xe)||l(this,ui)||l(this,rr)||l(this,Ee))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,s;if(this.width&&(e=this.x,s=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),l(this,xe)?v(this,kt,Tg).call(this):v(this,kt,Ju).call(this),this.width){const[i,r]=this.parentDimensions;this.setAt(e*i,s*r,this.width*i,this.height*r)}return this.div}getImageForAltText(){return l(this,yn)}static deserialize(e,s,i){if(e instanceof tA)return null;const r=super.deserialize(e,s,i),{rect:o,bitmapUrl:a,bitmapId:c,isSvg:h,accessibilityData:u}=e;c&&i.imageManager.isValidId(c)?_(r,Ee,c):_(r,ui,a),_(r,Qs,h);const[d,f]=r.pageDimensions;return r.width=(o[2]-o[0])/d,r.height=(o[3]-o[1])/f,u&&(r.altTextData=u),r}serialize(e=!1,s=null){if(this.isEmpty())return null;const i={annotationType:Et.STAMP,bitmapId:l(this,Ee),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:l(this,Qs),structTreeParentId:this._structTreeParentId};if(e)return i.bitmapUrl=v(this,kt,Qu).call(this,!0),i.accessibilityData=this.altTextData,i;const{decorative:r,altText:o}=this.altTextData;if(!r&&o&&(i.accessibilityData={type:"Figure",alt:o}),s===null)return i;s.stamps||(s.stamps=new Map);const a=l(this,Qs)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!s.stamps.has(l(this,Ee)))s.stamps.set(l(this,Ee),{area:a,serialized:i}),i.bitmap=v(this,kt,Qu).call(this,!1);else if(l(this,Qs)){const c=s.stamps.get(l(this,Ee));a>c.area&&(c.area=a,c.serialized.bitmap.close(),c.serialized.bitmap=v(this,kt,Qu).call(this,!1))}return i}};xe=new WeakMap,Ee=new WeakMap,ir=new WeakMap,ui=new WeakMap,rr=new WeakMap,ic=new WeakMap,yn=new WeakMap,Vh=new WeakMap,di=new WeakMap,An=new WeakMap,Qs=new WeakMap,Uh=new WeakMap,kt=new WeakSet,Hc=function(e,s=!1){if(!e){this.remove();return}_(this,xe,e.bitmap),s||(_(this,Ee,e.id),_(this,Qs,e.isSvg)),e.file&&_(this,ic,e.file.name),v(this,kt,Tg).call(this)},zc=function(){_(this,ir,null),this._uiManager.enableWaiting(!1),l(this,yn)&&this.div.focus()},Ju=function(){if(l(this,Ee)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(l(this,Ee)).then(i=>v(this,kt,Hc).call(this,i,!0)).finally(()=>v(this,kt,zc).call(this));return}if(l(this,ui)){const i=l(this,ui);_(this,ui,null),this._uiManager.enableWaiting(!0),_(this,ir,this._uiManager.imageManager.getFromUrl(i).then(r=>v(this,kt,Hc).call(this,r)).finally(()=>v(this,kt,zc).call(this)));return}if(l(this,rr)){const i=l(this,rr);_(this,rr,null),this._uiManager.enableWaiting(!0),_(this,ir,this._uiManager.imageManager.getFromFile(i).then(r=>v(this,kt,Hc).call(this,r)).finally(()=>v(this,kt,zc).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=el.supportedTypesStr;const s=this._uiManager._signal;_(this,ir,new Promise(i=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(e.files[0]);v(this,kt,Hc).call(this,r)}i()},{signal:s}),e.addEventListener("cancel",()=>{this.remove(),i()},{signal:s})}).finally(()=>v(this,kt,zc).call(this))),e.click()},Tg=function(){const{div:e}=this;let{width:s,height:i}=l(this,xe);const[r,o]=this.pageDimensions,a=.75;if(this.width)s=this.width*r,i=this.height*o;else if(s>a*r||i>a*o){const d=Math.min(a*r/s,a*o/i);s*=d,i*=d}const[c,h]=this.parentDimensions;this.setDims(s*c/r,i*h/o),this._uiManager.enableWaiting(!1);const u=_(this,yn,document.createElement("canvas"));e.append(u),e.hidden=!1,v(this,kt,Rg).call(this,s,i),v(this,kt,qA).call(this),l(this,Uh)||(this.parent.addUndoableEditor(this),_(this,Uh,!0)),this._reportTelemetry({action:"inserted_image"}),l(this,ic)&&u.setAttribute("aria-label",l(this,ic))},IA=function(e,s){var a;const[i,r]=this.parentDimensions;this.width=e/i,this.height=s/r,this.setDims(e,s),(a=this._initialOptions)!=null&&a.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,l(this,An)!==null&&clearTimeout(l(this,An)),_(this,An,setTimeout(()=>{_(this,An,null),v(this,kt,Rg).call(this,e,s)},200))},OA=function(e,s){const{width:i,height:r}=l(this,xe);let o=i,a=r,c=l(this,xe);for(;o>2*e||a>2*s;){const h=o,u=a;o>2*e&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*s&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const d=new OffscreenCanvas(o,a);d.getContext("2d").drawImage(c,0,0,h,u,0,0,o,a),c=d.transferToImageBitmap()}return c},NA=async function(e,s,i){if(l(this,Vh)||(_(this,Vh,!0),!await this._uiManager.isMLEnabledFor("altText")||this.hasAltText()))return;const a=new OffscreenCanvas(s,i).getContext("2d",{willReadFrequently:!0});a.drawImage(e,0,0,e.width,e.height,0,0,s,i);const c=await this._uiManager.mlGuess({service:"moz-image-to-text",request:{data:a.getImageData(0,0,s,i).data,width:s,height:i,channels:4}}),h=(c==null?void 0:c.output)||"";this.parent&&h&&!this.hasAltText()&&(this.altTextData={altText:h,decorative:!1})},Rg=function(e,s){e=Math.ceil(e),s=Math.ceil(s);const i=l(this,yn);if(!i||i.width===e&&i.height===s)return;i.width=e,i.height=s;const r=l(this,Qs)?l(this,xe):v(this,kt,OA).call(this,e,s);v(this,kt,NA).call(this,r,e,s);const o=i.getContext("2d");o.filter=this._uiManager.hcmFilter,o.drawImage(r,0,0,r.width,r.height,0,0,e,s)},Qu=function(e){if(e){if(l(this,Qs)){const r=this._uiManager.imageManager.getSvgUrl(l(this,Ee));if(r)return r}const s=document.createElement("canvas");return{width:s.width,height:s.height}=l(this,xe),s.getContext("2d").drawImage(l(this,xe),0,0),s.toDataURL()}if(l(this,Qs)){const[s,i]=this.pageDimensions,r=Math.round(this.width*s*mr.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*mr.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(r,o);return a.getContext("2d").drawImage(l(this,xe),0,0,l(this,xe).width,l(this,xe).height,0,0,r,o),a.transferToImageBitmap()}return structuredClone(l(this,xe))},qA=function(){this._uiManager._signal&&(_(this,di,new ResizeObserver(e=>{const s=e[0].contentRect;s.width&&s.height&&v(this,kt,IA).call(this,s.width,s.height)})),l(this,di).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=l(this,di))==null||e.disconnect(),_(this,di,null)},{once:!0}))},mt(el,"_type","stamp"),mt(el,"_editorType",Et.STAMP);let Sg=el;var Fo,rc,wn,Io,fi,pi,gi,ps,or,oc,ac,Fe,at,ar,Se,$A,Pg,Lg,Mg,td;const $s=class $s{constructor({uiManager:t,pageIndex:e,div:s,accessibilityManager:i,annotationLayer:r,drawLayer:o,textLayer:a,viewport:c,l10n:h}){y(this,Se);y(this,Fo);y(this,rc,!1);y(this,wn,null);y(this,Io,null);y(this,fi,null);y(this,pi,null);y(this,gi,null);y(this,ps,new Map);y(this,or,!1);y(this,oc,!1);y(this,ac,!1);y(this,Fe,null);y(this,at);const u=[...l($s,ar).values()];if(!$s._initialized){$s._initialized=!0;for(const d of u)d.initialize(h,t)}t.registerEditorTypes(u),_(this,at,t),this.pageIndex=e,this.div=s,_(this,Fo,i),_(this,wn,r),this.viewport=c,_(this,Fe,a),this.drawLayer=o,l(this,at).addLayer(this)}get isEmpty(){return l(this,ps).size===0}get isInvisible(){return this.isEmpty&&l(this,at).getMode()===Et.NONE}updateToolbar(t){l(this,at).updateToolbar(t)}updateMode(t=l(this,at).getMode()){switch(v(this,Se,td).call(this),t){case Et.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Et.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Et.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const s of l($s,ar).values())e.toggle(`${s._type}Editing`,t===s._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=l(this,Fe))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(l(this,at).getMode()!==Et.INK)return;if(!t){for(const s of l(this,ps).values())if(s.isEmpty()){s.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){l(this,at).setEditingState(t)}addCommands(t){l(this,at).addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=l(this,wn))==null||e.div.classList.toggle("disabled",!t)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const s of l(this,ps).values())s.enableEditing(),s.show(!0),s.annotationElementId&&(l(this,at).removeChangedExistingAnnotation(s),t.add(s.annotationElementId));if(!l(this,wn))return;const e=l(this,wn).getEditableAnnotations();for(const s of e){if(s.hide(),l(this,at).isDeletedAnnotationElement(s.data.id)||t.has(s.data.id))continue;const i=this.deserialize(s);i&&(this.addOrRebuild(i),i.enableEditing())}}disable(){var i;_(this,ac,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const r of l(this,ps).values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){t.set(r.annotationElementId,r);continue}else e.set(r.annotationElementId,r);(i=this.getEditableAnnotation(r.annotationElementId))==null||i.show(),r.remove()}if(l(this,wn)){const r=l(this,wn).getEditableAnnotations();for(const o of r){const{id:a}=o.data;if(l(this,at).isDeletedAnnotationElement(a))continue;let c=e.get(a);if(c){c.resetAnnotationElement(o),c.show(!1),o.show();continue}c=t.get(a),c&&(l(this,at).addChangedExistingAnnotation(c),c.renderAnnotationElement(o),c.show(!1)),o.show()}}v(this,Se,td).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const r of l($s,ar).values())s.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),_(this,ac,!1)}getEditableAnnotation(t){var e;return((e=l(this,wn))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){l(this,at).getActive()!==t&&l(this,at).setActiveEditor(t)}enableTextSelection(){var t;this.div.tabIndex=-1,(t=l(this,Fe))!=null&&t.div&&!l(this,pi)&&(_(this,pi,v(this,Se,$A).bind(this)),l(this,Fe).div.addEventListener("pointerdown",l(this,pi),{signal:l(this,at)._signal}),l(this,Fe).div.classList.add("highlighting"))}disableTextSelection(){var t;this.div.tabIndex=0,(t=l(this,Fe))!=null&&t.div&&l(this,pi)&&(l(this,Fe).div.removeEventListener("pointerdown",l(this,pi)),_(this,pi,null),l(this,Fe).div.classList.remove("highlighting"))}enableClick(){if(l(this,fi))return;const t=l(this,at)._signal;_(this,fi,this.pointerdown.bind(this)),_(this,Io,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",l(this,fi),{signal:t}),this.div.addEventListener("pointerup",l(this,Io),{signal:t})}disableClick(){l(this,fi)&&(this.div.removeEventListener("pointerdown",l(this,fi)),this.div.removeEventListener("pointerup",l(this,Io)),_(this,fi,null),_(this,Io,null))}attach(t){l(this,ps).set(t.id,t);const{annotationElementId:e}=t;e&&l(this,at).isDeletedAnnotationElement(e)&&l(this,at).removeDeletedAnnotationElement(t)}detach(t){var e;l(this,ps).delete(t.id),(e=l(this,Fo))==null||e.removePointerInTextLayer(t.contentDiv),!l(this,ac)&&t.annotationElementId&&l(this,at).addDeletedAnnotationElement(t)}remove(t){this.detach(t),l(this,at).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,l(this,oc)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(l(this,at).addDeletedAnnotationElement(t.annotationElementId),Lt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),l(this,at).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),l(this,at).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var s;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!l(this,gi)&&(t._focusEventsAllowed=!1,_(this,gi,setTimeout(()=>{_(this,gi,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:l(this,at)._signal}),e.focus())},0))),t._structTreeParentId=(s=l(this,Fo))==null?void 0:s.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),s=()=>{t.remove()};this.addCommands({cmd:e,undo:s,mustExec:!1})}getNextId(){return l(this,at).getId()}get _signal(){return l(this,at)._signal}canCreateNewEmptyEditor(){var t;return(t=l(this,Se,Pg))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){l(this,at).updateToolbar(t),l(this,at).updateMode(t);const{offsetX:s,offsetY:i}=v(this,Se,Mg).call(this),r=this.getNextId(),o=v(this,Se,Lg).call(this,{parent:this,id:r,x:s,y:i,uiManager:l(this,at),isCentered:!0,...e});o&&this.add(o)}deserialize(t){var e;return((e=l($s,ar).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,l(this,at)))||null}createAndAddNewEditor(t,e,s={}){const i=this.getNextId(),r=v(this,Se,Lg).call(this,{parent:this,id:i,x:t.offsetX,y:t.offsetY,uiManager:l(this,at),isCentered:e,...s});return r&&this.add(r),r}addNewEditor(){this.createAndAddNewEditor(v(this,Se,Mg).call(this),!0)}setSelected(t){l(this,at).setSelected(t)}toggleSelected(t){l(this,at).toggleSelected(t)}isSelected(t){return l(this,at).isSelected(t)}unselect(t){l(this,at).unselect(t)}pointerup(t){const{isMac:e}=Ye.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&l(this,or)){if(_(this,or,!1),!l(this,rc)){_(this,rc,!0);return}if(l(this,at).getMode()===Et.STAMP){l(this,at).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(l(this,at).getMode()===Et.HIGHLIGHT&&this.enableTextSelection(),l(this,or)){_(this,or,!1);return}const{isMac:e}=Ye.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;_(this,or,!0);const s=l(this,at).getActive();_(this,rc,!s||s.isEmpty())}findNewParent(t,e,s){const i=l(this,at).findParent(e,s);return i===null||i===this?!1:(i.changeParent(t),!0)}destroy(){var t,e;((t=l(this,at).getActive())==null?void 0:t.parent)===this&&(l(this,at).commitOrRemove(),l(this,at).setActiveEditor(null)),l(this,gi)&&(clearTimeout(l(this,gi)),_(this,gi,null));for(const s of l(this,ps).values())(e=l(this,Fo))==null||e.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,l(this,ps).clear(),l(this,at).removeLayer(this)}render({viewport:t}){this.viewport=t,$o(this.div,t);for(const e of l(this,at).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){l(this,at).commitOrRemove(),v(this,Se,td).call(this);const e=this.viewport.rotation,s=t.rotation;if(this.viewport=t,$o(this.div,{rotation:s}),e!==s)for(const i of l(this,ps).values())i.rotate(s);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return l(this,at).viewParameters.realScale}};Fo=new WeakMap,rc=new WeakMap,wn=new WeakMap,Io=new WeakMap,fi=new WeakMap,pi=new WeakMap,gi=new WeakMap,ps=new WeakMap,or=new WeakMap,oc=new WeakMap,ac=new WeakMap,Fe=new WeakMap,at=new WeakMap,ar=new WeakMap,Se=new WeakSet,$A=function(t){l(this,at).unselectAll();const{target:e}=t;if(e===l(this,Fe).div||e.classList.contains("endOfContent")&&l(this,Fe).div.contains(e)){const{isMac:s}=Ye.platform;if(t.button!==0||t.ctrlKey&&s)return;l(this,at).showAllEditors("highlight",!0,!0),l(this,Fe).div.classList.add("free"),this.toggleDrawing(),_d.startHighlighting(this,l(this,at).direction==="ltr",t),l(this,Fe).div.addEventListener("pointerup",()=>{l(this,Fe).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:l(this,at)._signal}),t.preventDefault()}},Pg=function(){return l($s,ar).get(l(this,at).getMode())},Lg=function(t){const e=l(this,Se,Pg);return e?new e.prototype.constructor(t):null},Mg=function(){const{x:t,y:e,width:s,height:i}=this.div.getBoundingClientRect(),r=Math.max(0,t),o=Math.max(0,e),a=Math.min(window.innerWidth,t+s),c=Math.min(window.innerHeight,e+i),h=(r+a)/2-t,u=(o+c)/2-e,[d,f]=this.viewport.rotation%180===0?[h,u]:[u,h];return{offsetX:d,offsetY:f}},td=function(){_(this,oc,!0);for(const t of l(this,ps).values())t.isEmpty()&&t.remove();_(this,oc,!1)},mt($s,"_initialized",!1),y($s,ar,new Map([hg,yg,Sg,_d].map(t=>[t._editorType,t])));let Dg=$s;var xn,Gh,de,cr,Wh,Ig,jo,Og,BA;const ye=class ye{constructor({pageIndex:t}){y(this,jo);y(this,xn,null);y(this,Gh,0);y(this,de,new Map);y(this,cr,new Map);this.pageIndex=t}setParent(t){if(!l(this,xn)){_(this,xn,t);return}if(l(this,xn)!==t){if(l(this,de).size>0)for(const e of l(this,de).values())e.remove(),t.append(e);_(this,xn,t)}}static get _svgFactory(){return Ct(this,"_svgFactory",new bm)}highlight(t,e,s,i=!1){const r=is(this,Gh)._++,o=v(this,jo,Og).call(this,t.box);o.classList.add("highlight"),t.free&&o.classList.add("free");const a=ye._svgFactory.createElement("defs");o.append(a);const c=ye._svgFactory.createElement("path");a.append(c);const h=`path_p${this.pageIndex}_${r}`;c.setAttribute("id",h),c.setAttribute("d",t.toSVGPath()),i&&l(this,cr).set(r,c);const u=v(this,jo,BA).call(this,a,h),d=ye._svgFactory.createElement("use");return o.append(d),o.setAttribute("fill",e),o.setAttribute("fill-opacity",s),d.setAttribute("href",`#${h}`),l(this,de).set(r,o),{id:r,clipPathId:`url(#${u})`}}highlightOutline(t){const e=is(this,Gh)._++,s=v(this,jo,Og).call(this,t.box);s.classList.add("highlightOutline");const i=ye._svgFactory.createElement("defs");s.append(i);const r=ye._svgFactory.createElement("path");i.append(r);const o=`path_p${this.pageIndex}_${e}`;r.setAttribute("id",o),r.setAttribute("d",t.toSVGPath()),r.setAttribute("vector-effect","non-scaling-stroke");let a;if(t.free){s.classList.add("free");const u=ye._svgFactory.createElement("mask");i.append(u),a=`mask_p${this.pageIndex}_${e}`,u.setAttribute("id",a),u.setAttribute("maskUnits","objectBoundingBox");const d=ye._svgFactory.createElement("rect");u.append(d),d.setAttribute("width","1"),d.setAttribute("height","1"),d.setAttribute("fill","white");const f=ye._svgFactory.createElement("use");u.append(f),f.setAttribute("href",`#${o}`),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}const c=ye._svgFactory.createElement("use");s.append(c),c.setAttribute("href",`#${o}`),a&&c.setAttribute("mask",`url(#${a})`);const h=c.cloneNode();return s.append(h),c.classList.add("mainOutline"),h.classList.add("secondaryOutline"),l(this,de).set(e,s),e}finalizeLine(t,e){const s=l(this,cr).get(t);l(this,cr).delete(t),this.updateBox(t,e.box),s.setAttribute("d",e.toSVGPath())}updateLine(t,e){l(this,de).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}removeFreeHighlight(t){this.remove(t),l(this,cr).delete(t)}updatePath(t,e){l(this,cr).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var s;v(s=ye,Wh,Ig).call(s,l(this,de).get(t),e)}show(t,e){l(this,de).get(t).classList.toggle("hidden",!e)}rotate(t,e){l(this,de).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){l(this,de).get(t).setAttribute("fill",e)}changeOpacity(t,e){l(this,de).get(t).setAttribute("fill-opacity",e)}addClass(t,e){l(this,de).get(t).classList.add(e)}removeClass(t,e){l(this,de).get(t).classList.remove(e)}remove(t){l(this,xn)!==null&&(l(this,de).get(t).remove(),l(this,de).delete(t))}destroy(){_(this,xn,null);for(const t of l(this,de).values())t.remove();l(this,de).clear()}};xn=new WeakMap,Gh=new WeakMap,de=new WeakMap,cr=new WeakMap,Wh=new WeakSet,Ig=function(t,{x:e=0,y:s=0,width:i=1,height:r=1}={}){const{style:o}=t;o.top=`${100*s}%`,o.left=`${100*e}%`,o.width=`${100*i}%`,o.height=`${100*r}%`},jo=new WeakSet,Og=function(t){var s;const e=ye._svgFactory.create(1,1,!0);return l(this,xn).append(e),e.setAttribute("aria-hidden",!0),v(s=ye,Wh,Ig).call(s,e,t),e},BA=function(t,e){const s=ye._svgFactory.createElement("clipPath");t.append(s);const i=`clip_${e}`;s.setAttribute("id",i),s.setAttribute("clipPathUnits","objectBoundingBox");const r=ye._svgFactory.createElement("use");return s.append(r),r.setAttribute("href",`#${e}`),r.classList.add("clip"),i},y(ye,Wh);let Fg=ye;gt.AbortException;gt.AnnotationEditorLayer;gt.AnnotationEditorParamsType;gt.AnnotationEditorType;gt.AnnotationEditorUIManager;gt.AnnotationLayer;gt.AnnotationMode;gt.CMapCompressionType;gt.ColorPicker;gt.DOMSVGFactory;gt.DrawLayer;gt.FeatureTest;var alt=gt.GlobalWorkerOptions;gt.ImageKind;gt.InvalidPDFException;gt.MissingPDFException;gt.OPS;gt.PDFDataRangeTransport;gt.PDFDateString;gt.PDFWorker;gt.PasswordResponses;gt.PermissionFlag;gt.PixelsPerInch;gt.RenderingCancelledException;gt.TextLayer;gt.UnexpectedResponseException;gt.Util;gt.VerbosityLevel;gt.XfaLayer;gt.build;gt.createValidAbsoluteUrl;gt.fetchData;var clt=gt.getDocument;gt.getFilenameFromUrl;gt.getPdfFilenameFromUrl;gt.getXfaPageViewport;gt.isDataScheme;gt.isPdfFile;gt.noContextMenu;gt.normalizeUnicode;gt.setLayerDimensions;gt.shadow;gt.version;class llt{constructor(t){this.pdfDocument=null,this.totalPages=0,this.currentPage=1,this.currentZoom=1,this.minZoom=.5,this.maxZoom=2,this.file=null,this.renderPage=async e=>{try{if(!this.pdfDocument)return;const s=await this.pdfDocument.getPage(e),i=s.getViewport({scale:this.currentZoom}),r=this.pdfCanvas,o=r==null?void 0:r.getContext("2d");if(!r||!o)return;r.height=i.height,r.width=i.width;const a={canvasContext:o,viewport:i};await s.render(a)}catch(s){console.error("Error rendering page:",s)}},this.nextPage=()=>{this.currentPage<this.totalPages&&(this.currentPage++,this.renderPage(this.currentPage))},this.previousPage=()=>{this.currentPage>1&&(this.currentPage--,this.renderPage(this.currentPage))},this.zoomIn=()=>{this.currentZoom<this.maxZoom&&(this.currentZoom+=.25,this.renderPage(this.currentPage))},this.zoomOut=()=>{this.currentZoom>this.minZoom&&(this.currentZoom-=.25,this.renderPage(this.currentPage))},console.log("PdfViewer constructor"),this.pdfCanvas=t,alt.workerSrc=new URL("/assets/pdf.worker.min-BoR3woNK.mjs",import.meta.url).toString()}loadFile(t){console.log("loadFile"),this.file=t;const e=new FileReader;e.onload=async s=>{var o;const i=(o=s.target)==null?void 0:o.result,r=clt({url:i});this.pdfDocument=await r.promise,this.totalPages=this.pdfDocument.numPages,this.currentPage=1,this.renderPage(this.currentPage)},e.readAsDataURL(t)}}const hlt={class:""},ult={key:0},dlt={key:1,class:"flex flex-row justify-center"},flt={key:0,class:""},plt=["disabled"],glt={class:"text-gray-700 mr-2"},mlt=["disabled"],blt=["disabled"],_lt={class:"mt-4 flex justify-center overflow-hidden"},HA=es({__name:"PdfDisplay",props:{pdfFile:File},setup(n){const t=dt(null),e=dt(null);Mn(()=>{console.log("onMounted, pdfFile::",s.pdfFile),e.value=new llt(t.value),s.pdfFile&&e.value.loadFile(s.pdfFile)});const s=n;return Uc(()=>s.pdfFile,i=>{var r;console.log("watching pdfFile:",i),(r=e.value)==null||r.loadFile(i)}),(i,r)=>{var o,a,c;return $(),G("div",hlt,[(o=e.value)!=null&&o.file?ft("",!0):($(),G("div",ult,"Provide PDF File")),(a=e.value)!=null&&a.file?($(),G("div",dlt,[((c=e.value)==null?void 0:c.totalPages)>0?($(),G("div",flt,[T("button",{onClick:r[0]||(r[0]=(...h)=>e.value.zoomOut&&e.value.zoomOut(...h)),class:"mr-2 px-3 py-2 m-0 rounded-md bg-gray-300 text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-400 transition duration-200",disabled:e.value.currentZoom<=e.value.minZoom}," - ",8,plt),T("button",{onClick:r[1]||(r[1]=(...h)=>e.value.previousPage&&e.value.previousPage(...h)),class:"px-2 py-2 rounded-md bg-gray-300 text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-400 transition duration-200"}," < Previous "),T("span",glt," Page "+Ut(e.value.currentPage)+" of "+Ut(e.value.totalPages),1),T("button",{onClick:r[2]||(r[2]=(...h)=>e.value.nextPage&&e.value.nextPage(...h)),disabled:e.value.currentPage===e.value.totalPages,class:"mr-2 px-2 py-2 rounded-md bg-gray-300 text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-400 transition duration-200"}," Next > ",8,mlt),T("button",{onClick:r[3]||(r[3]=(...h)=>e.value.zoomIn&&e.value.zoomIn(...h)),class:"px-3 py-2 rounded-md bg-gray-300 text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-400 transition duration-200",disabled:e.value.currentZoom>=e.value.maxZoom}," + ",8,blt)])):ft("",!0)])):ft("",!0),T("div",_lt,[ur(T("canvas",{ref_key:"pdfCanvas",ref:t},null,512),[[mp,s.pdfFile]])])])}}}),vlt={class:"min-h-screen p-10 bg-body bg-repeat-x bg-cover bg-top"},ylt={key:0,id:"loading_container",class:"flex flex-col items-center"},Alt=T("div",null,"Saving document ...",-1),wlt=T("div",null,[T("img",{class:"w-48",src:pc,alt:"Loading..."})],-1),xlt=[Alt,wlt],Elt={key:1},Clt=T("h1",{class:"text-6xl font-light text-center"},[Ot(" Input "),T("span",{class:"text-green-700"}," Aset Document ")],-1),klt={class:"flex flex-col justify-center mt-8 p-4"},Slt={class:"justify-between bg-gray-300 p-4 flex"},Tlt={key:0},Rlt={class:"lg:flex"},Dlt={key:0,class:"text-center mt-4 lg:w-1/2"},Plt=T("span",{class:"animate-pulse text-green-400"}," Extracting PDF Document... ",-1),Llt={key:0,id:"loading_container",class:"flex flex-col items-center"},Mlt=T("div",null,[T("img",{class:"w-48",src:pc,alt:"Loading..."})],-1),Flt=[Mlt],Ilt={key:1,class:"lg:w-1/2"},Olt=T("div",{class:"bg-green-100 justify-between p-2 text-center"},[T("div",{"bg-green-100":""},[T("h1",{class:"font-bold"},"Ekstraksi Perda BUMD:")])],-1),Nlt={class:"m-2 text-4xl mt-2"},qlt={class:"m-2 text-2xl mt-2"},$lt=["onClick"],Blt={class:"m-2 text-2xl mt-2 font-bold"},Hlt={key:0},zlt={key:2,class:"lg:w-1/2"},jlt=T("div",{class:"bg-green-100 border-l border-gray-400 justify-between p-2 text-center"},[T("div",null,[T("h1",{class:"font-bold"},"Preview PDF")])],-1),Vlt=es({__name:"InputDokumenAsetView",setup(n){dt();const t=dt(),e=dt(),s=dt(!1),i=dt(!1),r=fc(),o=dt();Mn(()=>{});async function a(u){var f;const d=(f=u.target.files)==null?void 0:f[0];d&&(t.value=d);try{await c()}catch{alert("Failed to extract document")}}async function c(){s.value=!0,e.value=null;let u;const d=t.value.name;if(u=await fetch(`${ze}/dms/extract-perda-aset-in-gemini`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:d})}),!u.ok){const p=new FormData;if(p.append("file",t.value),u=await fetch(`${ze}/dms/extract-perda-aset-file`,{method:"POST",body:p}),!u.ok){alert("Failed to extract document");return}}const f=await u.json();console.log(f),e.value=f[0],s.value=!1}async function h(){if(i.value=!0,!confirm("Are you sure you want to save this document?"))return;console.log("saving: ",e.value),(await fetch(`${ze}/dms/save-perda-aset`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.value)})).ok?(alert("Document saved successfully"),i.value=!1,r.push("/list-aset")):alert("Fail saving document, try again")}return(u,d)=>($(),G("div",vlt,[i.value?($(),G("div",ylt,xlt)):ft("",!0),i.value?ft("",!0):($(),G("div",Elt,[Clt,T("div",klt,[T("div",Slt,[T("div",null,[T("input",{type:"file",id:"file",name:"file",onChange:a},null,32)]),e.value?($(),G("div",Tlt,[T("button",{class:"bg-green-800 text-white m-2 p-1",onClick:h}," Save "),T("button",{class:"bg-green-800 text-white m-2 p-1",onClick:c}," Ekstrak ulang ")])):ft("",!0)]),T("div",Rlt,[s.value?($(),G("div",Dlt,[Plt,s.value?($(),G("div",Llt,Flt)):ft("",!0)])):ft("",!0),e.value?($(),G("div",Ilt,[Olt,T("h1",Nlt,Ut(e.value.nomor_perda),1),T("h1",qlt,Ut(e.value.judul_perda),1),($(!0),G(ne,null,fr(e.value.bab,(f,p)=>($(),G("div",{class:"bg-green-50",key:p},[T("div",{onClick:g=>o.value=p},[T("h1",Blt,Ut(f.nama_bab),1)],8,$lt),o.value==p?($(),G("div",Hlt,[_t(Kt(wi),{source:f.isi_pasal},null,8,["source"]),T("button",{class:"bg-green-300 m-2 p-1",onClick:d[0]||(d[0]=g=>o.value=-1)}," close ")])):ft("",!0)]))),128))])):ft("",!0),t.value?($(),G("div",zlt,[jlt,_t(HA,{class:"mt-4 p-2",pdfFile:t.value,nama:"ini nama"},null,8,["pdfFile"])])):ft("",!0)])])]))]))}}),Ult={class:"min-h-screen p-10 bg-body bg-repeat-x bg-cover bg-top"},Glt=T("h1",{class:"text-6xl font-light text-center"},[Ot(" Input "),T("span",{class:"text-green-700"}," Document ")],-1),Wlt={class:"flex flex-col justify-center mt-8 p-4"},Klt={class:"justify-between bg-gray-300 p-4 flex"},Xlt={key:0},Ylt={key:0,id:"loading_container",class:"flex flex-col items-center"},Zlt=T("div",null,"Saving document ...",-1),Jlt=T("div",null,[T("img",{class:"w-48",src:pc,alt:"Loading..."})],-1),Qlt=[Zlt,Jlt],tht={class:"lg:flex"},eht={key:0,class:"text-center mt-4 lg:w-1/2"},sht=T("span",{class:"animate-pulse text-green-400"}," Extracting PDF Document... ",-1),nht={key:0,id:"loading_container",class:"flex flex-col items-center"},iht=T("div",null,[T("img",{class:"w-48",src:pc,alt:"Loading..."})],-1),rht=[iht],oht={key:1,class:"flex-1 lg:w-1/2"},aht=T("div",{class:"bg-green-100 justify-between p-2 text-center"},[T("div",{"bg-green-100":""},[T("h1",{class:"font-bold"},"Ekstraksi Perda BUMD:")])],-1),cht={class:"m-2 text-4xl mt-2"},lht={class:"m-2 text-2xl mt-2"},hht=Gv('<div class="border-t mt-2 p-2"><div class="text-center"><h2 class="m-2 text-2xl mt-2 font-bold"> Pasal Terkait Tujuan Pendirian dan Ruang Lingkup BUMD </h2></div><div class="flex"><div class="flex-1 font-bold bg-gray-50 p-2">Pasal</div><div class="flex-1 font-bold bg-gray-50 p-2">Keterkaitan</div></div></div>',1),uht={class:"border-t mt-2 p-2"},dht={class:"flex"},fht={class:"flex-1 mr-2"},pht={class:"flex-1 ml-2"},ght=T("div",{class:"flex justify-center"},null,-1),mht={key:2,class:"lg:w-1/2"},bht=T("div",{class:"bg-green-100 border-l border-gray-400 justify-between p-2 text-center"},[T("div",null,[T("h1",{class:"font-bold"},"Preview PDF")])],-1),_ht=es({__name:"InputDokumenBumdView",setup(n){dt();const t=dt(),e=dt(),s=dt(!1),i=dt(!1),r=fc();Mn(()=>{});async function o(h){var d;const u=(d=h.target.files)==null?void 0:d[0];u&&(t.value=u);try{await a()}catch{alert("Failed to extract document")}}async function a(){var f;s.value=!0,e.value=null;let h;const u=(f=t.value)==null?void 0:f.name;if(h=await fetch(`${ze}/dms/extract-perda-bumd-in-gemini`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:u})}),!h.ok){const p=new FormData;if(p.append("file",t.value),h=await fetch(`${ze}/dms/extract-perda-bumd-file`,{method:"POST",body:p}),!h.ok){alert("Failed to extract document");return}}const d=await h.json();console.log(d),e.value=d[0],s.value=!1}async function c(){if(i.value=!0,!confirm("Are you sure you want to save this document?"))return;console.log("saving: ",e.value),(await fetch(`${ze}/dms/save-perda-bumd`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.value)})).ok?(alert("Document saved successfully"),r.push("/list-bumd")):alert("Fail saving document, try again")}return(h,u)=>($(),G("div",Ult,[T("div",null,[Glt,T("div",Wlt,[T("div",Klt,[T("div",null,[T("input",{type:"file",id:"file",name:"file",onChange:o},null,32)]),e.value?($(),G("div",Xlt,[T("button",{class:"bg-green-800 text-white m-2 p-1",onClick:c}," Save "),T("button",{class:"bg-green-800 text-white m-2 p-1",onClick:a}," Ekstrak ulang ")])):ft("",!0)]),i.value?($(),G("div",Ylt,Qlt)):ft("",!0),T("div",tht,[s.value?($(),G("div",eht,[sht,s.value?($(),G("div",nht,rht)):ft("",!0)])):ft("",!0),e.value&&!s.value?($(),G("div",oht,[aht,T("h1",cht,Ut(e.value.name),1),T("h2",lht,Ut(e.value.perda),1),hht,($(!0),G(ne,null,fr(e.value.pasal_terkait_tujuan,d=>($(),G("div",uht,[T("div",dht,[T("div",fht,Ut(d.pasal),1),T("div",pht,Ut(d.alasan),1)])]))),256)),ght])):ft("",!0),t.value?($(),G("div",mht,[bht,_t(HA,{class:"mt-4 p-2",pdfFile:t.value,nama:"ini nama"},null,8,["pdfFile"])])):ft("",!0)])])])]))}});var vht={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_BACKEND_URL_DEV:"http://localhost:3000",VITE_BACKEND_URL_PROD:"https://ringkasan.net"};const vc=n=>(Ci("data-v-3baba1fd"),n=n(),ki(),n),yht={id:"main_container",class:"fadeIn"},Aht=vc(()=>T("div",{class:"header_title_container"},[T("h1",{class:"header_title_container"},"Dokumen BUMD")],-1)),wht={key:0,class:"error_message"},xht={key:1,class:"table_container"},Eht={class:"optionButton"},Cht={key:1},kht=vc(()=>T("th",null,"Nama",-1)),Sht=vc(()=>T("th",null,"Perda",-1)),Tht=vc(()=>T("th",null,"Deskripsi",-1)),Rht={key:0},Dht={class:"kolomNama"},Pht={class:"kolomPerda"},Lht={class:"kolomDeskripsi"},Mht=["onClick"],Fht={key:0},Iht=["value"],Oht={class:"pagination"},Nht=["disabled"],qht=["disabled"],$ht={key:2,class:"no-documents"},Bht=vc(()=>T("br",null,null,-1)),Hht={key:0,class:"confirm_dialog"},zht={class:"confirm_content"},jht=vc(()=>T("p",null,"Apakah anda yakin ingin menghapus dokumen ini?",-1)),yu=4,Vht={__name:"ListDokumenBUMDView",setup(n){const t=dt([]),e=dt([]),s=dt(""),i=dt(1),r=dt(!1),o=dt(!1),a=fc(),c=async()=>{try{t.value=[];const k=await fetch(`${ze}/bumd/all`);if(!k.ok)throw new Error("Network response was not ok");const R=await k.json();t.value=R.map(E=>({...E,showMore:!1})),e.value=[]}catch(k){console.error("Failed to fetch BUMD list:",k),s.value="Periksa Koneksi Internet Anda"}};Mn(async()=>{await c(),console.log("input dokumen bumd"),console.log("production"),console.log(vht)});const h=ke(()=>{const k=(i.value-1)*yu,R=k+yu;return t.value.slice(k,R)}),u=ke(()=>Math.ceil(t.value.length/yu)),d=()=>{i.value>1&&i.value--},f=()=>{i.value<u.value&&i.value++},p=async()=>{try{const k=e.value.map(E=>E._id);if(console.log(k),!(await fetch(`${ze}/dms/perda-bumd`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)})).ok){alert("Failed to delete selected items");return}t.value=await Promise.all(t.value.filter(E=>!k.includes(E._id))),console.log(t.value),i.value>u.value&&(i.value=1),e.value=[],r.value=!1,s.value="",o.value=!1}catch{o.value=!1,s.value="Terjadi kesalahan saat menghapus data",alert("Failed to delete selected items")}},g=()=>{o.value=!0},m=k=>{k.target.checked?e.value=[...h.value]:e.value=[]},A=k=>{const R=(i.value-1)*yu+k;t.value[R].showMore=!t.value[R].showMore},b=k=>k.length>75?k.substring(0,75)+"...":k,w=()=>{r.value=!1,e.value=[]};function C(){a.push("/inputDokumenBumd")}return(k,R)=>($(),G("div",null,[T("div",yht,[Ot(Ut(h.value.length)+" ",1),Aht,s.value?($(),G("div",wht,Ut(s.value),1)):ft("",!0),h.value.length?($(),G("div",xht,[T("div",Eht,[T("button",{class:"plusButton",onClick:C}," Tambahkan Dokumen "),r.value?ft("",!0):($(),G("button",{key:0,class:"deleteButton",onClick:R[0]||(R[0]=E=>r.value=!0)}," Hapus Dokumen ")),r.value?($(),G("div",Cht,[T("button",{class:"deleteButton",onClick:g}," Delete Selected "),T("button",{class:"cancelButton",onClick:w}," Batalkan ")])):ft("",!0)]),T("table",null,[T("thead",null,[T("tr",null,[kht,Sht,Tht,r.value?($(),G("th",Rht,[T("input",{type:"checkbox",onChange:m,class:"select_all_checkbox"},null,32),Ot(" Select All ")])):ft("",!0)])]),T("tbody",null,[($(!0),G(ne,null,fr(h.value,(E,L)=>($(),G("tr",{key:L},[T("td",Dht,Ut(E.name),1),T("td",Pht,Ut(E.perda),1),T("td",null,[T("div",Lht,[E.showMore?($(),_s(Kt(wi),{key:1,source:E.desc},null,8,["source"])):($(),_s(Kt(wi),{key:0,source:b(E.desc)},null,8,["source"])),T("div",{class:"showmore",onClick:M=>A(L)},Ut(E.showMore?"Show Less":"Show More"),9,Mht)])]),r.value?($(),G("td",Fht,[ur(T("input",{type:"checkbox","onUpdate:modelValue":R[1]||(R[1]=M=>e.value=M),value:E,class:"row_checkbox"},null,8,Iht),[[o0,e.value]])])):ft("",!0)]))),128))])]),T("div",Oht,[T("button",{class:"paginationButton",onClick:d,disabled:i.value===1}," << ",8,Nht),T("span",null,"Page "+Ut(i.value)+" of "+Ut(u.value),1),T("button",{class:"paginationButton",onClick:f,disabled:i.value===u.value}," >> ",8,qht)])])):($(),G("div",$ht,[Ot(" Belum ada dokumen apapun "),Bht,T("button",{class:"plusButton mr-2",onClick:C}," Tambahkan Dokumen ")]))]),o.value?($(),G("div",Hht,[T("div",zht,[jht,T("button",{onClick:p},"Ya"),T("button",{onClick:R[2]||(R[2]=E=>o.value=!1)},"Tidak")])])):ft("",!0)]))}},Uht=sn(Vht,[["__scopeId","data-v-3baba1fd"]]),nu=n=>(Ci("data-v-87434453"),n=n(),ki(),n),Ght={id:"main_container",class:"fadeIn"},Wht=nu(()=>T("div",{class:"header_title_container"},[T("h1",{class:"header_title_container"},"Dokumen Aset")],-1)),Kht={key:0,class:"error_message"},Xht={key:1,class:"table_container"},Yht={class:"optionButton"},Zht={key:1},Jht={class:"table-fixed border-collapse border border-slate-400"},Qht=nu(()=>T("th",{class:"w-5/6"},"Perda",-1)),tut={key:0,class:"w-1/6"},eut={class:"kolomNama"},sut={class:"kolomDeskripsi"},nut=nu(()=>T("h3",{class:"font-bold"},"Isi Perda:",-1)),iut=["onClick"],rut={key:0},out=["value"],aut={class:"pagination"},cut=["disabled"],lut=["disabled"],hut={key:2,class:"no-documents"},uut=nu(()=>T("br",null,null,-1)),dut={key:0,class:"confirm_dialog"},fut={class:"confirm_content"},put=nu(()=>T("p",null,"Apakah anda yakin ingin menghapus dokumen ini?",-1)),Au=10,gut={__name:"ListDokumenAsetView",setup(n){const t=dt([]),e=dt([]),s=dt(""),i=dt(1),r=dt(!1),o=dt(!1),a=fc(),c=async()=>{try{const k=await fetch(`${ze}/aset/all-perda`);if(!k.ok){alert("Error fetching Perda Aset");return}const R=await k.json();t.value=R.map(E=>({...E,showMore:!1})),e.value=[]}catch(k){console.error("Failed to fetch Aset list:",k),s.value="Periksa Koneksi Internet Anda"}};Mn(()=>{c()});const h=ke(()=>{const k=(i.value-1)*Au,R=k+Au;return t.value.slice(k,R)}),u=ke(()=>Math.ceil(t.value.length/Au)),d=()=>{i.value>1&&i.value--},f=()=>{i.value<u.value&&i.value++},p=async()=>{try{const k=e.value.map(E=>E.perda);if(!(await fetch(`${ze}/dms/perda-aset`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)})).ok)throw new Error("Failed to delete selected items");t.value=t.value.filter(E=>!e.value.includes(E)),e.value=[],r.value=!1,s.value="",o.value=!1}catch{o.value=!1,s.value="Terjadi kesalahan saat menghapus data"}},g=()=>{o.value=!0},m=k=>{k.target.checked?e.value=[...h.value]:e.value=[]},A=k=>{const R=(i.value-1)*Au+k;t.value[R].showMore=!t.value[R].showMore},b=k=>k.length>75?k.substring(0,150)+"...":k,w=()=>{r.value=!1,e.value=[]};function C(){a.push("/inputDokumenAset")}return(k,R)=>($(),G("div",null,[T("div",Ght,[Wht,s.value?($(),G("div",Kht,Ut(s.value),1)):ft("",!0),h.value.length?($(),G("div",Xht,[T("div",Yht,[T("button",{class:"plusButton",onClick:C}," Tambahkan Dokumen "),r.value?ft("",!0):($(),G("button",{key:0,class:"deleteButton",onClick:R[0]||(R[0]=E=>r.value=!0)}," Hapus Dokumen ")),r.value?($(),G("div",Zht,[T("button",{class:"deleteButton",onClick:g}," Delete Selected "),T("button",{class:"cancelButton",onClick:w}," Batalkan ")])):ft("",!0)]),T("table",Jht,[T("thead",null,[T("tr",null,[Qht,r.value?($(),G("th",tut,[T("input",{type:"checkbox",onChange:m,class:"select_all_checkbox"},null,32),Ot(" Select All ")])):ft("",!0)])]),T("tbody",null,[($(!0),G(ne,null,fr(h.value,(E,L)=>($(),G("tr",{class:"border",key:L},[T("td",eut,[T("div",null,[T("h2",null,Ut(E.perda),1),T("h3",null,Ut(E.name),1),T("div",sut,[nut,E.showMore?($(),_s(Kt(wi),{key:1,source:E.desc},null,8,["source"])):($(),_s(Kt(wi),{key:0,source:b(E.desc)},null,8,["source"])),T("div",{class:"showmore",onClick:M=>A(L)},Ut(E.showMore?"Show Less":"Show More"),9,iut)])])]),r.value?($(),G("td",rut,[ur(T("input",{type:"checkbox","onUpdate:modelValue":R[1]||(R[1]=M=>e.value=M),value:E,class:"row_checkbox"},null,8,out),[[o0,e.value]])])):ft("",!0)]))),128))])]),T("div",aut,[T("button",{class:"paginationButton",onClick:d,disabled:i.value===1}," << ",8,cut),T("span",null,"Page "+Ut(i.value)+" of "+Ut(u.value),1),T("button",{class:"paginationButton",onClick:f,disabled:i.value===u.value}," >> ",8,lut)])])):($(),G("div",hut,[Ot(" Belum ada dokumen apapun "),uut,T("button",{class:"plusButton",onClick:C}," Tambahkan Dokumen ")]))]),o.value?($(),G("div",dut,[T("div",fut,[put,T("button",{onClick:p},"Ya"),T("button",{onClick:R[2]||(R[2]=E=>o.value=!1)},"Tidak")])])):ft("",!0)]))}},mut=sn(gut,[["__scopeId","data-v-87434453"]]),but=AC({history:ZE("/"),routes:[{path:"/",name:"home",component:ok},{path:"/bumd",name:"bumd",component:Cot},{path:"/aset",name:"aset",component:Yot},{path:"/admin",name:"admin",component:aat},{path:"/inputDokumenAset",name:"inputDokumenAset",component:Vlt},{path:"/inputDokumenBumd",name:"inputDokumenBumd",component:_ht},{path:"/list-bumd",name:"listDokumenBUMD",component:Uht},{path:"/list-aset",name:"listDokumenAset",component:mut}]}),zA=mE(VC);zA.use(but);zA.mount("#app");
